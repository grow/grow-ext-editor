.editor
  background-color: $ge-color-back-light
  display: flex
  flex-flow: row
  font-family: $ge-font-family
  font-size: $ge-font-size
  line-height: $ge-line-height
  min-height: 100vh

  *
    box-sizing: border-box

  input,
  textarea
    background: rgba($ge-color-back-light, .5)
    border: none
    border-radius: $ge-radius-2
    font-family: $ge-font-family
    font-size: $ge-font-size
    padding: $ge-pad/2

  button
    background: $ge-color-back
    border-radius: $ge-radius-5
    color: $ge-color-on-back
    border: 1px solid $ge-color-back-light
    font-family: $ge-font-family
    font-size: $ge-font-size
    padding: $ge-pad/2 $ge-pad

    &[disabled]
      opacity: .5

    &:focus
      outline: none
      box-shadow: $ge-focus-shadow-secondary

    &.editor--primary
      background: $ge-color-primary
      border-color: $ge-color-primary
      color: $ge-color-on-primary
      font-weight: bold

      &:focus
        outline: none
        box-shadow: $ge-focus-shadow-primary

    &.editor--secondary
      background: none
      border: none
      color: lighten($ge-color-on-back, 50%)
      font-weight: bold

      &.editor--selected
        color: $ge-color-on-back

      &:hover
        color: $ge-color-on-back

      &:focus
        box-shadow: none

  select
    appearance: none
    background: $ge-color-back
    border: 1px solid $ge-color-back-light
    border-radius: $ge-radius-5
    font-family: $ge-font-family
    font-size: $ge-font-size
    padding: $ge-pad/2 $ge-pad

    &:focus
      outline: none
      box-shadow: $ge-focus-shadow-secondary

    &:hover
      background: $ge-color-back-light

    &.selective__actions__add
      background-repeat: no-repeat
      background-position: right $ge-pad center
      background-image: url('data:image/svg+xml;utf8,<svg class="svg" width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M5 5V0h1v5h5v1H6v5H5V6H0V5h5z" fill-rule="nonzero" fill-opacity="1" fill="%23000" stroke="none"></path></svg>')
      padding-right: $ge-pad * 3

  .material-icons
    font-size: $ge-font-size-icon

.editor__edit
  flex-basis: 40%
  max-height: 100vh
  max-width: $ge-edit-column-max-width
  min-width: $ge-edit-column-min-width

  .editor--markdown &,
  .editor--raw &
    display: flex
    flex-flow: column

  .editor--fullscreen &
    flex-grow: 1
    max-width: 100%

.editor__pod_path
  align-items: center
  background: $ge-color-secondary
  box-shadow: $ge-shadow-1
  color: $ge-color-on-secondary
  display: flex
  flex-flow: row
  height: $ge-edit-header-height
  padding: $ge-pad / 2
  z-index: 15

  i
    cursor: pointer
    margin: 0 $ge-pad / 4
    opacity: 0.25
    transition: opacity $ge-speed-fast

  input
    background: transparent
    border: none
    color: $ge-color-on-secondary
    flex-grow: 1
    font-weight: bold
    padding: $ge-pad/2
    width: 100%

  &:hover
    i
      opacity: 1

      &.editor--device-only
        cursor: default
        opacity: 0.25

.editor--device
  .editor__pod_path:hover
    i.editor--device-only
      cursor: pointer
      opacity: 1

.editor__cards
  display: flex
  flex-flow: column
  flex-grow: 1
  height: calc(100vh - #{$ge-edit-header-height})
  overflow-y: auto

.editor__card
  background-color: $ge-color-back
  border-radius: $ge-radius-2
  box-shadow: $ge-shadow-2
  display: flex
  margin: $ge-pad
  flex-flow: column

  &--flush-top
    margin-top: 0
    border-top-left-radius: 0
    border-top-right-radius: 0

  .editor--markdown &,
  .editor--raw &
    flex-grow: 1

  .editor--fullscreen &
    margin: $ge-pad auto
    max-width: 750px
    width: calc(100% - #{$ge-pad * 2})

.editor__dev_tools
  align-items: center
  color: $ge-color-on-back-subtle
  display: flex
  flex-flow: row
  justify-content: flex-end
  margin: $ge-pad/2 $ge-pad

.editor__dev_tools__icon
  color: $ge-color-icon-on-back
  cursor: pointer
  padding: 0 $ge-pad/2

  &--selected
    color: $ge-color-icon-on-back-selected

.editor__menu
  align-items: center
  background-color: $ge-color-back
  border-bottom: 1px solid $ge-color-back-light
  display: flex
  flex-flow: row
  justify-content: space-between
  position: sticky
  padding: $ge-pad*1.5 $ge-pad*2
  top: 0
  z-index: 1

.editor__actions
  display: flex
  flex-flow: row

  button
    margin-left: $ge-pad/2

.editor__source,
.editor__selective
  padding: $ge-pad*2

  .editor--markdown &
    display: flex
    flex-grow: 1

.editor__source
  display: flex
  flex-flow: column
  flex-grow: 1

  textarea
    font-family: $ge-font-family-mono
    height: 100%
    width: 100%

.editor__preview
  align-items: stretch
  display: flex
  flex-grow: 1
  flex-shrink: 1
  justify-content: center
  flex-direction: column
  max-height: 100vh
  position: sticky
  top: 0

  .editor--device &
    align-items: center

.editor__preview__frame
  align-items: stretch
  display: flex
  flex-grow: 1
  flex-shrink: 1
  justify-content: center
  flex-direction: column
  height: 100vh
  position: sticky
  top: 0

  iframe
    background-color: $ge-color-back-light
    border: none
    color: $ge-color-on-back-light
    flex-grow: 1
    transform-origin: 0 0

  .editor--device &
    iframe
      box-shadow: $ge-shadow-3
      height: $ge-device-height
      max-height: $ge-device-height
      width: $ge-device-width

  .editor--rotated &
    iframe
      // Reverse the width/height for device view.
      height: $ge-device-width
      max-height: $ge-device-width
      width: $ge-device-height

.editor__preview__size
  color: $ge-color-secondary
  font-size: $ge-font-size
  margin-bottom: $ge-pad/2
  padding-top: $ge-pad/2

.editor__loading
  display: inline-block
  width: $ge-loading-size
  height: $ge-loading-size

  &:after
    content: " "
    display: block
    width: $ge-loading-size - ($ge-loading-border-size * 4)
    height: $ge-loading-size - ($ge-loading-border-size * 4)
    margin: $ge-loading-border-size
    border-radius: 50%
    border: $ge-loading-border-size solid $ge-color-secondary
    border-color: $ge-color-secondary transparent $ge-color-secondary transparent
    animation: editor__loading $ge-speed-slower linear infinite

@keyframes editor__loading
  0%
    transform: rotate(0deg)
  100%
    transform: rotate(360deg)
