{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/randy/code/blinkk/selective-edit/js/mixin/config.js","webpack:////Users/randy/code/blinkk/selective-edit/js/mixin/uid.js","webpack:////Users/randy/code/blinkk/selective-edit/js/selective.js","webpack:////Users/randy/code/blinkk/selective-edit/js/selective/autoFields.js","webpack:////Users/randy/code/blinkk/selective-edit/js/selective/editor.js","webpack:////Users/randy/code/blinkk/selective-edit/js/selective/field.js","webpack:////Users/randy/code/blinkk/selective-edit/js/selective/fieldTypes.js","webpack:////Users/randy/code/blinkk/selective-edit/js/selective/fields.js","webpack:////Users/randy/code/blinkk/selective-edit/js/utility/compose.js","webpack:////Users/randy/code/blinkk/selective-edit/js/utility/config.js","webpack:////Users/randy/code/blinkk/selective-edit/js/utility/dataType.js","webpack:////Users/randy/code/blinkk/selective-edit/js/utility/deepObject.js","webpack:////Users/randy/code/blinkk/selective-edit/js/utility/dom.js","webpack:////Users/randy/code/blinkk/selective-edit/js/utility/uuid.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/deep-extend/lib/deep-extend.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/directives/repeat.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/default-template-processor.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/directive.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/dom.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/part.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/parts.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/render.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/template-factory.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/template-instance.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/template-result.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lib/template.js","webpack:////Users/randy/code/blinkk/selective-edit/node_modules/lit-html/lit-html.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/component-emitter/index.js","webpack:///./node_modules/fast-safe-stringify/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/pell/dist/pell.min.js","webpack:///./node_modules/showdown/dist/showdown.js","webpack:///./node_modules/superagent/lib/agent-base.js","webpack:///./node_modules/superagent/lib/client.js","webpack:///./node_modules/superagent/lib/is-object.js","webpack:///./node_modules/superagent/lib/request-base.js","webpack:///./node_modules/superagent/lib/response-base.js","webpack:///./node_modules/superagent/lib/utils.js","webpack:///(webpack)/buildin/global.js","webpack:///./source/composite/editor.js","webpack:///./source/composite/editor_ext.js","webpack:///./source/editor/autoFields.js","webpack:///./source/editor/document.js","webpack:///./source/editor/editor.js","webpack:///./source/editor/editorApi.js","webpack:///./source/editor/field.js","webpack:///./source/editor/field/constructor.js","webpack:///./source/editor/field/image.js","webpack:///./source/editor/field/partials.js","webpack:///./source/editor/field/standard.js","webpack:///./source/editor/field/structure.js","webpack:///./source/editor/zoomIframe.js","webpack:///./source/utility/api.js","webpack:///./source/utility/config.js","webpack:///./source/utility/deepObject.js","webpack:///./source/utility/defer.js","webpack:///./source/utility/dom.js","webpack:///./source/utility/expandObject.js","webpack:///./source/utility/filter.js","webpack:///./source/utility/listeners.js","webpack:///./source/utility/throttle.js"],"names":["ConfigMixin","superclass","constructor","_config","autoConfig","getConfig","setConfig","value","UidMixin","getUid","_uid","generateUUID","Selective","Editor","AutoFields","compose","Base","data","config","_data","autoDeepObject","dataType","DataType","_ignoredKeys","guessAll","ignoredKeys","get","_deepGuess","keyBase","fields","isArray","firstValue","length","push","_fieldConfig","concat","_deepGuessObject","key","hasOwnProperty","includes","newKeyBase","newData","isObject","_deepGuessSimple","fullKey","join","fieldType","typeFromValue","label","labelFromKey","fieldConfig","guess","replace","split","map","word","charAt","toUpperCase","slice","undefined","containerEl","fieldTypes","FieldTypes","_fields","template","editor","html","bindEvents","render","FieldsCls","Fields","isClean","selfRender","addField","args","addFieldType","FieldCls","addFieldTypes","Object","keys","document","addEventListener","guessFields","autoFields","obj","postRender","initialize","reset","update","extend","WHITESPACE_RE","Field","extendedConfig","_dataValue","field","default","help","options","placeholder","handleInput","evt","target","dispatchEvent","CustomEvent","renderHelp","updateFromData","valueFromData","newDataValue","defaultValue","SortableField","_dragOriginElement","_dragHoverElement","_reorderValues","currentIndex","startIndex","newValue","oldValue","maxIndex","Math","max","minIndex","min","modifier","i","_shouldHandleDrag","dataTransfer","types","handleDragStart","stopPropagation","findParentDraggable","setData","dataset","index","effectAllowed","previewEl","querySelector","setDragImage","handleDragEnter","classList","add","parseInt","handleDragLeave","remove","handleDragOver","preventDefault","handleDrop","getData","ListField","_listItems","_listIds","_isExpanded","_useAutoFields","_expandedIndexes","ensureItems","renderActionsHeader","renderItems","renderActionsFooter","_idsFromList","itemList","ids","item","id","newExpanded","oldExpanded","newItems","oldItems","valueLen","originalIds","JSON","stringify","currentIds","isExpanded","values","_createItems","fieldConfigs","items","itemData","itemFields","itemField","_determineItemPreview","listItem","defaultPreviewField","previewField","itemValue","previewValue","handleAddItem","handleItemCollapse","expandIndex","indexOf","splice","handleItemDelete","findParentByClassname","oldIndex","newListItems","oldItem","handleItemExpand","handleToggleExpand","bind","renderCollapsedItem","renderPreview","renderExpandedItem","inIndex","isSimpleValue","repeat","entries","newField","type","_value","setKeys","set","mixins","reverse","result","apply","call","Config","defaultValues","_defaultValues","assign","Array","isBoolean","isDate","Date","isFunction","isNumber","isFinite","isNull","isRegExp","RegExp","isString","String","isSymbol","isUndefined","DeepObject","root","part","parts","has_get","element","classname","contains","parentElement","isDraggable","getAttribute","array","Uint32Array","window","crypto","getRandomValues","str","toString","Throttle","EditorAutoFields","_isConstructor","startsWith","Document","podPath","frontMatter","rawFrontMatter","servingPaths","defaultLocale","content","_rawFrontMatter","locale","servingPath","CONTENT_KEY","selective","stylesEditor","renderEditor","EditorApiCls","EditorApi","api","listeners","Listeners","_podPath","defaultPath","repo","autosaveID","devices","desktop","width","tablet","phone","height","_defaultDevice","_device","localStorage","getItem","_isEditingSource","_isFullScreen","_isHightlighted","_isDeviceRotated","_isDeviceView","_isFullMarkdownEditor","_isLoading","_isSaving","_podPaths","_routes","_unverifiedServingPath","defaultFields","bindKeyboard","load","device","autosave","isEditingSource","isFullScreen","isHightlighted","isDeviceRotated","isDeviceView","previewUrl","params","styles","urlParams","URLSearchParams","location","search","has","templateEditorOrSource","handleRawInput","setItem","trigger","_sizeLabel","rotate","adjustIframeSize","iframeContainerEl","iframeEl","zoomIframe","forceReload","detail","verifyPreviewIframe","event","ctrlKey","metaKey","save","delayPodPath","_lastPodPathUpdate","now","setTimeout","documentFromResponse","response","handleFieldsClick","handleFullScreenClick","handleHighlight","handleLoadFieldsResponse","pushState","guessedFields","contentConfigIndex","contentType","endsWith","handleLoadPodPaths","pod_paths","handleLoadRoutes","handleLoadRepo","handleLoadSourceResponse","handleDeviceRotateClick","handleDeviceSwitchClick","handleDeviceToggleClick","handleOpenInNew","open","handlePodPathChange","handlePodPathInput","handlePreviewIframeNavigation","newLocation","contentWindow","host","newPath","pathname","loadRoutes","handleSaveError","err","handleSaveResponse","isAutosave","handleSourceClick","loadSource","loadFields","getDocument","then","loadPodPaths","force","getPodPaths","loadRepo","getRepo","getRoutes","basePath","origPath","history","iframe","reload","previewSizes","saveDocumentSource","catch","newFrontMatter","saveDocumentFields","startAutosave","clearInterval","setInterval","stopAutosave","match","Api","Defer","request","apiPath","query","res","resolve","body","promise","getExtensionConfig","extension_path","getPartials","saveRequest","post","send","reject","saveGoogleImage","imageFile","uploadUrl","formData","FormData","append","saveImage","destination","CheckboxField","DateField","DateTimeField","DocumentField","GoogleImageField","GroupField","ImageField","MarkdownField","PartialsField","SelectField","TextField","TextareaField","YamlField","ConstructorField","tag","ConstructorFileField","_showFileList","_listeningForPodPaths","_filterValue","filterFunc","createWhiteBlackFilter","bindListeners","handleFilesToggleClick","renderFileList","configList","listKey","defaults","list","rawList","handlePodPaths","sort","filter","inputFocusAtEnd","handleFileClick","handleInputFilter","podPaths","createValueFilter","isLoading","handleFileInput","renderImagePreview","imageSizeDirective","directive","el","getElementById","imageEl","updateImage","setValue","naturalWidth","naturalHeight","commit","complete","console","error","files","_extension_config_promise","previewPrefix","warn","PartialFields","partialKey","partialTypes","_api","autoGuessMissing","partialConfig","useAutoFields","nonHiddenItemCount","updatePartials","handleLoadPartialsResponse","partialKeys","newPartial","renderCollapsedPartial","partialItem","renderExpandedPartial","renderHiddenPartial","showdown","Converter","actions","fieldInstances","querySelectorAll","fieldInstance","pellEditor","pellEl","pell","init","onChange","makeMarkdown","innerHTML","makeHtml","threshold","useMulti","icons","option","_isSelected","optionValue","_isSwitching","renderInput","isInput","tagName","toLowerCase","rows","ensureFields","renderFields","_createFields","isRotated","containedClass","style","transform","maxHeight","maxWidth","adjustHeight","adjustMaxHeight","adjustScale","adjustWidth","containerHeight","offsetHeight","containerWidth","offsetWidth","deviceHeight","deviceWidth","fitsWidth","fitsHeight","require","path","Promise","freeze","elementId","inputEl","focus","selectionStart","selectionEnd","expandObject","original","expanded","prop","deepExpandPath","deepExpandArray","initialKey","arr","whitelist","blacklist","meetsWhitelist","exp","filterValue","_listeners","eventName","callback","listenersForEvent","listener","name","running","requestAnimationFrame"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,gCAAgC;AAChC;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC,mCAAmC;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,IAAI;AACJ,+BAA+B;AAC/B;;AAEA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;;;;;;;;;;;;;ACrJA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+F;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iEAAY;AACzD,2BAA2B,iEAAY;AACvC,wBAAwB,qDAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,kEAAa;AACrB;AACA;AACA;AACA,IAAI,gEAAW;AACf;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAe,8DAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qDAAQ;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kC;;;;;;;;;;;;AC9ZA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC8G;AAC9G;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2DAAiB;AACnD;AACA;AACA;AACA,wBAAwB,mDAAS;AACjC;AACA;AACA,wBAAwB,8DAAoB;AAC5C;AACA,8BAA8B,4DAAkB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kDAAQ;AAC3B;AACA;AACO;AACP,sD;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC,KAAK,QAAQ;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA,qC;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP,gC;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC6C;AACN;AACO;AACY;AACJ;AACT;AACtC;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,sBAAsB,iDAAQ;AAC9B;AACA;AACA;AACA;AACA,iBAAiB,iEAAW;AAC5B;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAW;AAC1B;AACA,yBAAyB,iDAAQ;AACjC;AACA;AACA,2BAA2B,iDAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iEAAY;AAC3D,6CAA6C,iEAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iEAAY;AACnD,qCAAqC,iEAAY;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iEAAY;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAW;AAC1B;AACA,kCAAkC,iDAAQ;AAC1C;AACA;AACA;AACA,sBAAsB,iDAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kEAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gDAAO;AAClC,yBAAyB,gDAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sEAAgB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,sEAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAW;AAC1B;AACA,kCAAkC,iDAAQ;AAC1C;AACA;AACA,oCAAoC,iDAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iDAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAW;AAC1B;AACA,kCAAkC,iDAAQ;AAC1C;AACA;AACA,oCAAoC,iDAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iDAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,uDAAuD;AAChE;AACA,iC;;;;;;;;;;;;AC/bA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACuC;AACD;AACkB;AACjD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,QAAQ,2DAAW;AACnB,wCAAwC,kDAAQ,gBAAgB,CAAC,qFAAe,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiD;AACjD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mDAAM;AAC1C;AACA;AACA;AACA;AACA,uBAAuB,qDAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,4C;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwC;AACa;AACrD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAY;AACrC;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,mFAAmF,qBAAqB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,yEAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,oDAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;;;;;;ACxIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACyC;AACwD;AACjG,0BAA0B,mDAAM,CAAC;AACjC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,UAAU;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mEAAsB;AACzD;AACA;AACA;AACA,yDAAyD,MAAM;AAC/D,8BAA8B,MAAM;AACpC;AACA,gEAAgE,uDAAU;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iEAAoB;AAC5D,oBAAoB,mDAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,6DAAa;AACrB;AACA;AACA;AACA,2C;;;;;;;;;;;;AChHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,kBAAkB,MAAM,iCAAiC;AAChE;AACA;AACA;AACA;AACO,0BAA0B,OAAO;AACjC,kCAAkC,OAAO,GAAG,WAAW;AAC9D;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,0FAA0F,qBAAqB;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB,SAAS,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mDAAmD;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,eAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,+BAA+B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,sBAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,oC;;;;;;;;;;;;ACpNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AAC+E;AACF;AAC4B;AAC7C;AAC5D;AAC0D;AACR;AACsH;AACxH;AAC4B;AACd;AACe;AACI;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yCAAyC,sEAAc,0BAA0B,2FAAwB;AAChH;AACA;AACA;AACA;AACO,wCAAwC,yEAAiB,yBAAyB,2FAAwB;AACjH,oC;;;;;;;;;;;;ACzDY;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AAEZ,aAAa,mBAAO,CAAC,oDAAW;AAChC,cAAc,mBAAO,CAAC,gDAAS;AAC/B,cAAc,mBAAO,CAAC,gDAAS;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;AC3vDA;AACA;AACA;;AAEA,IAAI,IAA6B;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA,2CAA2C,SAAS;AACpD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC9KA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA,KAAK;AACL;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;AACA,8CAA8C,sBAAsB;AACpE;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;;;;;;ACnFA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;ACJA,eAAe,KAAoD,YAAY,SAAwE,CAAC,kBAAkB,aAAa,iCAAiC,YAAY,mBAAmB,KAAK,mBAAmB,sEAAsE,SAAS,iEAAiE,+BAA+B,iBAAiB,wBAAwB,eAAe,iCAAiC,eAAe,qCAAqC,eAAe,kEAAkE,oCAAoC,IAAI,MAAM,8CAA8C,iBAAiB,mBAAmB,kBAAkB,SAAS,gDAAgD,mBAAmB,mBAAmB,oBAAoB,YAAY,mDAAmD,sBAAsB,mBAAmB,uBAAuB,gBAAgB,kEAAkE,0BAA0B,mBAAmB,2BAA2B,WAAW,gEAAgE,oBAAoB,WAAW,gEAAgE,oBAAoB,YAAY,YAAY,sCAAsC,mBAAmB,QAAQ,aAAa,QAAQ,kCAAkC,4BAA4B,QAAQ,WAAW,yCAAyC,+BAA+B,QAAQ,aAAa,2CAA2C,iCAAiC,OAAO,UAAU,KAAK,iCAAiC,qBAAqB,OAAO,aAAa,4CAA4C,kCAAkC,OAAO,eAAe,iCAAiC,0CAA0C,sBAAsB,QAAQ,eAAe,kCAAkC,2CAA2C,wBAAwB,IAAI,uGAAuG,eAAe,0CAA0C,4CAA4C,gBAAgB,iCAAiC,YAAY,QAAQ,uCAAuC,uCAAuC,iCAAiC,wEAAwE,0BAA0B,gGAAgG,yBAAyB,MAAM,2FAA2F,sBAAsB,IAAI,sCAAsC,kBAAkB,gHAAgH,6BAA6B,UAAU,iBAAiB,0DAA0D,+CAA+C,OAAO,qDAAqD,IAAI,eAAe,oEAAoE,SAAS,EAAE;;;;;;;;;;;;ACAl0G,mCAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,yCAAyC,EAAE;AAC3C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB,gBAAgB;AAChB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,mBAAmB,gBAAgB;AACnC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,kBAAkB;AAClB,kBAAkB;AAClB,mBAAmB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC,oBAAoB,uBAAuB;AAC3C,oBAAoB,yBAAyB;AAC7C,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,IAAI;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,IAAI;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,KAAK;AACL;AACA,uDAAuD;AACvD,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iBAAiB;AACjE,oDAAoD,iBAAiB;AACrE,yCAAyC,iBAAiB,iBAAiB;AAC3E;AACA,6CAA6C,iBAAiB,iBAAiB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,yCAAyC,iBAAiB;AAC1D,sCAAsC;AACtC,0CAA0C,iBAAiB;AAC3D,2CAA2C,iBAAiB;AAC5D,yCAAyC,iBAAiB;AAC1D,6CAA6C,iBAAiB,iBAAiB;AAC/E,0CAA0C,iBAAiB;AAC3D,8CAA8C,iBAAiB,iBAAiB;AAChF,+CAA+C,iBAAiB,iBAAiB;AACjF,+CAA+C,iBAAiB,iBAAiB;AACjF,4CAA4C,iBAAiB;AAC7D,gDAAgD,iBAAiB,iBAAiB;AAClF,iDAAiD,iBAAiB,iBAAiB;AACnF,uCAAuC;AACvC,2CAA2C,iBAAiB;AAC5D,wCAAwC;AACxC,4CAA4C,iBAAiB;AAC7D,6CAA6C,iBAAiB;AAC9D,6CAA6C,iBAAiB;AAC9D,iDAAiD,iBAAiB,iBAAiB;AACnF,8CAA8C,iBAAiB;AAC/D,kDAAkD,iBAAiB,iBAAiB;AACpF,mDAAmD,iBAAiB,iBAAiB;AACrF;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,oCAAoC;AACpC,uCAAuC;AACvC,+BAA+B;AAC/B;AACA,sCAAsC;AACtC,yCAAyC;AACzC,iCAAiC;AACjC,sCAAsC;AACtC,wCAAwC;AACxC;AACA,gCAAgC;AAChC,mCAAmC;AACnC,mCAAmC;AACnC,wCAAwC;AACxC,gCAAgC;AAChC,2CAA2C;AAC3C,6CAA6C;AAC7C,oCAAoC;AACpC,oCAAoC;AACpC,iCAAiC;AACjC,kCAAkC;AAClC,kCAAkC;AAClC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,sCAAsC;AACtC,yCAAyC;AACzC,iCAAiC;AACjC,wCAAwC;AACxC,2CAA2C;AAC3C,mCAAmC;AACnC,wCAAwC;AACxC,0CAA0C;AAC1C,kCAAkC;AAClC,qCAAqC;AACrC,qCAAqC;AACrC,0CAA0C;AAC1C,kCAAkC;AAClC,6CAA6C;AAC7C,+CAA+C;AAC/C,sCAAsC;AACtC,sCAAsC;AACtC,mCAAmC;AACnC,oCAAoC;AACpC,oCAAoC;AACpC,yCAAyC;AACzC,wCAAwC;AACxC;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sEAAsE,4BAA4B,+BAA+B,gCAAgC,+BAA+B;AAChM;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;;AAElB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;;AAEA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,EAAE;AACf,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,gBAAgB;AAChB,gBAAgB;AAChB,eAAe;AACf;AACA;AACA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,yBAAyB;AACzB,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC;AACvC,qCAAqC;;AAErC;AACA,0CAA0C;;AAE1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA,mCAAmC;;AAEnC;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,iBAAiB;;AAEtC;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,sBAAsB,6BAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,+DAA+D;AAC/D;;AAEA;;AAEA;AACA,yCAAyC;AACzC,qEAAqE;AACrE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,CAAC;;AAED,+CAA+C;;AAE/C;AACA;AACA;AACA,oEAAoE,EAAE;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,IAAI;;AAErB;AACA,cAAc,IAAI;AAClB;;AAEA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA;;AAEA,sCAAsC;AACtC;AACA,gEAAgE;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,sCAAsC,EAAE,oBAAoB,IAAI;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C;;AAE/C;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;;AAE3C;AACA;;AAEA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA,mBAAmB,eAAe;AAClC;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,qCAAqC;AACrC;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,WAAW;;AAElE;AACA,gDAAgD;;AAEhD;AACA,iCAAiC;;AAEjC;AACA,iCAAiC;;AAEjC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;;AAEhC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B;AAC3B;AACA;AACA,yBAAyB;AACzB;AACA,wBAAwB;AACxB,wBAAwB;AACxB;AACA,oBAAoB;;AAEpB;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,EAAE;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,oCAAoC,IAAI,+CAA+C,IAAI;AAC3F;;AAEA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C;;AAE/C;;AAEA;;AAEA;AACA;AACA;AACA,kDAAkD,uCAAuC;AACzF,GAAG;;AAEH;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC,KAAK;AACL;;AAEA;AACA,iBAAiB,sBAAsB;;AAEvC;AACA,kCAAkC,IAAI;AACtC;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,IAAI,kCAAkC,GAAG;AACrE;;AAEA;AACA;AACA;AACA,GAAG,MAAM,IAAI;;AAEb;AACA,kCAAkC,IAAI,iCAAiC,GAAG;AAC1E;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH,kFAAkF;;AAElF;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,+BAA+B;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD,uCAAuC;AACzF;;AAEA;AACA,mEAAmE,IAAI,sCAAsC,IAAI;;AAEjH;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,GAAG;AACvE,oEAAoE,GAAG;;AAEvE;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,IAAI,kCAAkC,IAAI;;AAE1G;AACA;AACA;AACA,+BAA+B,IAAI,KAAK;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,IAAI,KAAK;AACtC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,2BAA2B,OAAO;AAClC;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,IAAI,MAAM,GAAG;AACvC,0BAA0B,IAAI,OAAO,GAAG;AACxC,0BAA0B,IAAI,MAAM,GAAG;;AAEvC;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;;AAEA,+GAA+G,IAAI,mBAAmB,IAAI;AAC1I,uFAAuF,IAAI,mBAAmB,IAAI;AAClH,yEAAyE,kDAAkD,IAAI,mBAAmB,IAAI;AACtJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA,kCAAkC,GAAG;;AAErC;AACA;;AAEA,wBAAwB,IAAI,qDAAqD,IAAI,cAAc,IAAI;AACvG;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,IAAI,qDAAqD,IAAI;AACnF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4EAA4E;AAC5E;AACA,6FAA6F,wBAAwB;AACrH;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,iCAAiC,GAAG;AACpC;AACA;AACA,OAAO;AACP;AACA;AACA,uCAAuC;AACvC;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA,yFAAyF,IAAI;AAC7F,yFAAyF,IAAI;AAC7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,IAAI,mCAAmC,GAAG;AACxE;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,wCAAwC,IAAI,mCAAmC,GAAG;AAClF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,4BAA4B;;AAE5B,mCAAmC,EAAE;AACrC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI,YAAY;;AAEhD;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,GAAG;AAChC;AACA,yBAAyB;;AAEzB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,EAAE,gBAAgB,EAAE,wBAAwB,yBAAyB,EAAE;AACtG;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,IAAI,0DAA0D,IAAI,mBAAmB,IAAI;AACjH,wBAAwB,IAAI,wCAAwC,kDAAkD,IAAI,mBAAmB,IAAI;;AAEjJ;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,KAAK;AACL,+FAA+F;AAC/F;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B,IAAI,aAAa,IAAI,0BAA0B,GAAG,uCAAuC,GAAG;AACvH,6BAA6B,IAAI,UAAU,IAAI,yBAAyB,GAAG,6BAA6B,IAAI;AAC5G,2BAA2B,IAAI,gBAAgB,IAAI,yBAAyB,GAAG,2BAA2B,IAAI;;AAE9G;AACA;AACA,sCAAsC;AACtC,KAAK;AACL,uCAAuC;AACvC,KAAK;AACL,wCAAwC;AACxC,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA,sBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA,cAAc,IAAI;AAClB,kDAAkD,IAAI;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gEAAgE,kBAAkB;AAClF,+DAA+D,kBAAkB;AACjF;AACA;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA,eAAe,sBAAsB;AACrC;AACA;;AAEA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;;AAEA,eAAe,qBAAqB;AACpC;AACA,sBAAsB,qBAAqB;AAC3C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;;AAEA;AACA,CAAC;;;;AAID;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,4EAA4E;AACnG;AACA;AACA,uBAAuB,4EAA4E;AACnG;AACA;AACA,uBAAuB,4EAA4E;AACnG;AACA;AACA,uBAAuB,4EAA4E;AACnG;AACA;AACA,uBAAuB,4EAA4E;AACnG;AACA;AACA,uBAAuB,4EAA4E;AACnG;;AAEA;AACA,uBAAuB,4EAA4E;AACnG;;AAEA;AACA,uBAAuB,6EAA6E;AACpG;;AAEA;AACA,uBAAuB,qEAAqE;AAC5F;;AAEA;AACA,uBAAuB,6EAA6E;AACpG;;AAEA;AACA,uBAAuB,6EAA6E;AACpG;;AAEA;AACA,uBAAuB,4EAA4E;AACnG;;AAEA;AACA,uBAAuB,sEAAsE;AAC7F;;AAEA;AACA,uBAAuB,wEAAwE;AAC/F;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;;AAEA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,iBAAiB;AAC9B;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,uBAAuB;AACpC,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;;AAEA,8BAA8B;AAC9B,2BAA2B;;AAE3B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAiC,GAAG;;AAEpC;AACA,yBAAyB,IAAI;;AAE7B;AACA,yBAAyB,IAAI;;AAE7B;AACA;;AAEA;AACA,wBAAwB,IAAI;;AAE5B;AACA,CAAC;;AAED;;AAEA;AACA,IAAI,IAA0C;AAC9C,EAAE,mCAAO;AACT;AACA;AACA,GAAG;AAAA,oGAAC;;AAEJ;AACA,CAAC,MAAM,EAMN;AACD,CAAC;;AAED;;;;;;;;;;;;;ACthKa;;AAEb,kCAAkC,iFAAiF;;AAEnH,+BAA+B,wEAAwE;;AAEvG,iCAAiC,+HAA+H;;AAEhK,kCAAkC,0BAA0B,8CAA8C,gBAAgB,OAAO,kBAAkB,EAAE,aAAa,EAAE;;AAEpK;AACA;AACA;;AAEA;AACA;AACA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc,2tE;;;;;;;;;;;;ACrC5C;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,oEAAmB;;AAEzC,oBAAoB,mBAAO,CAAC,wEAAqB;;AAEjD,kBAAkB,mBAAO,CAAC,qEAAgB;;AAE1C,eAAe,mBAAO,CAAC,+DAAa;;AAEpC,mBAAmB,mBAAO,CAAC,uEAAiB;;AAE5C,YAAY,mBAAO,CAAC,iEAAc;AAClC;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,SAAS;AAC9C;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,SAAS;AAC9C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa,iBAAiB;AAC/C;AACA;AACA;AACA;AACA,0BAA0B,aAAa;AACvC,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,0BAA0B,aAAa,iBAAiB;AACxD;AACA,WAAW,eAAe;AAC1B,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;;AAEA;;AAEA;AACA,6BAA6B;AAC7B;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;;AAEnB,oBAAoB;;AAEpB;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA,mHAAmH;;AAEnH;AACA,oCAAoC;AACpC,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,qBAAqB;AACrB,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA,WAAW,cAAc;AACzB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,mBAAmB;AAC3F;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,cAAc;AACzB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;;AAEA;AACA,gDAAgD;;AAEhD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB,8BAA8B;;AAE9B;;AAEA;AACA;;AAEA;AACA,kBAAkB;;AAElB;AACA;AACA;AACA,KAAK;AACL;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;;;AAGtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;;AAGA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;;;AAGJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK,mBAAmB;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;;AAGH,wDAAwD;;AAExD;AACA;AACA;;AAEA,6FAA6F;;AAE7F;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH,6BAA6B;AAC7B;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2CAA2C,cAAc,mp3D;;;;;;;;;;;;AC3/B5C;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C,cAAc,+pB;;;;;;;;;;;;AChB5C;;AAEb,uBAAuB,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAE7V;AACA;AACA;AACA,eAAe,mBAAO,CAAC,+DAAa;AACpC;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc,QAAQ;AACjC,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,gEAAgE;;AAEhE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY;AACZ;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,6BAA6B;AAC7B,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,oDAAoD;AACpE;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,sCAAsC;AACjD,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;;AAEjC,iCAAiC;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,iBAAiB;AAC7D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY,QAAQ;AACpB;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;;AAElB;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,2CAA2C,cAAc,+hyC;;;;;;;;;;;;AChvB5C;;AAEb;AACA;AACA;AACA,YAAY,mBAAO,CAAC,uDAAS;AAC7B;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,WAAW,OAAO;AAClB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;;AAEA;AACA;AACA;;AAEA,kBAAkB;;AAElB;AACA;AACA;AACA;AACA,GAAG,kBAAkB;AACrB;AACA;AACA;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","file":"editor_ext.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./source/composite/editor_ext.js\");\n","/**\n * Config mixin for adding configuration options to a class.\n */\n\nimport {\n autoConfig\n} from '../utility/config'\n\nconst ConfigMixin = superclass => class extends superclass {\n  constructor() {\n    super()\n    this._config = autoConfig({})\n  }\n\n  getConfig() {\n    return this._config\n  }\n\n  setConfig(value) {\n    this._config = autoConfig(value)\n  }\n}\n\nexport default ConfigMixin\n","/**\n * UID mixin for adding unique id to a class.\n */\n\nimport generateUUID from '../utility/uuid'\n\n\nconst UidMixin = superclass => class extends superclass {\n  getUid() {\n    if (!this._uid) {\n      this._uid = generateUUID()\n    }\n    return this._uid\n  }\n}\n\nexport default UidMixin\n","/**\n * Selective structure content editor.\n */\n\nimport { directive, html, render } from 'lit-html'\nimport { repeat } from 'lit-html/directives/repeat'\nimport Editor from './selective/editor'\nimport Field from './selective/field'\nimport { SortableField, ListField } from './selective/field'\nimport Fields from './selective/fields'\nimport AutoFields from './selective/autoFields'\nimport { autoConfig } from './utility/config'\nimport { autoDeepObject } from './utility/deepObject'\n\nconst Selective = Editor\n\nexport default Selective\nexport {\n  Field,\n  SortableField,\n  ListField,\n  Fields,\n  AutoFields,\n  directive,\n  html,\n  repeat,\n  render,\n  autoConfig,\n  autoDeepObject\n}\n","/**\n * Automatically guess the field configuration from data.\n */\n\nimport ConfigMixin from '../mixin/config'\nimport { Base, compose } from '../utility/compose'\nimport { autoDeepObject } from '../utility/deepObject'\nimport DataType from '../utility/dataType'\n\nexport default class AutoFields extends compose(ConfigMixin,)(Base) {\n  constructor(data, config) {\n    super()\n    this.data = data\n    this._data = autoDeepObject(data)\n    this.dataType = new DataType()\n    this.setConfig(config)\n\n    this._ignoredKeys = null\n  }\n\n  get config() {\n    return {\n      'fields': this.guessAll(),\n    }\n  }\n\n  get ignoredKeys() {\n    if (this._ignoredKeys == null) {\n      const config = this.getConfig()\n      this._ignoredKeys = config.get('ignoredKeys', [])\n    }\n    return this._ignoredKeys\n  }\n\n  _deepGuess(data, keyBase) {\n    let fields = []\n    keyBase = keyBase || []\n\n    if (this.dataType.isArray(data)) {\n      const firstValue = data.length ? data[0] : null\n      fields.push(this._fieldConfig('', firstValue))\n    } else {\n      fields = fields.concat(this._deepGuessObject(data, keyBase))\n    }\n\n    return fields\n  }\n\n  _deepGuessObject(data, keyBase) {\n    let fields = []\n    keyBase = keyBase || []\n\n    for (const key in data) {\n      if (!data.hasOwnProperty(key)) {\n        continue\n      }\n\n      // Skip ignored keys.\n      if (this.ignoredKeys.includes(key)) {\n        continue\n      }\n\n      const newKeyBase = keyBase.concat([key])\n      const newData = data[key]\n      if (this.dataType.isObject(newData)) {\n        fields = fields.concat(this._deepGuessObject(newData, newKeyBase))\n      } else {\n        fields.push(this._deepGuessSimple(data[key], newKeyBase))\n      }\n    }\n\n    return fields\n  }\n\n  _deepGuessSimple(data, keyBase) {\n    const fullKey = keyBase.join('.')\n    return this._fieldConfig(fullKey, data)\n  }\n\n  _fieldConfig(key, value) {\n    const fieldType = this.typeFromValue(value)\n    const label = this.labelFromKey(key)\n    const fieldConfig = {\n      \"type\": fieldType,\n    }\n\n    if (key != '') {\n      fieldConfig['key'] = key\n    }\n\n    if (label != '') {\n      fieldConfig['label'] = label\n    }\n\n    return fieldConfig\n  }\n\n  /**\n   * Given a data key, guess the field configuration from the data.\n   */\n  guess(key) {\n    return this._fieldConfig(\n      key, this.typeFromValue(this._data.get(key)))\n  }\n\n  /**\n   * Guess all the field configuration from the data.\n   */\n  guessAll() {\n    return this._deepGuess(this.data)\n  }\n\n  /**\n   * From a key guess the label of the field.\n   */\n  labelFromKey(key) {\n    key = key.replace(/\\./g, ' ')\n    key = key.replace(/\\-/g, ' ')\n    key = key.replace(/\\_/g, ' ')\n    return key.split(' ').map(function(word) {\n      return (word.charAt(0).toUpperCase() + word.slice(1));\n    }).join(' ')\n  }\n\n  /**\n   * From a value guess the type of field.\n   */\n  typeFromValue(value) {\n    if (value === null || value === undefined) {\n      return 'text'\n    }\n    if (this.dataType.isArray(value)) {\n      return 'list'\n    }\n    if (value.length > 75) {\n      return 'textarea'\n    }\n    return 'text'\n  }\n}\n","/**\n * Selective content editor.\n *\n * Editor for taking structured data and creating a UI for editing portions of\n * the data.\n */\n\nimport {\n html,\n render,\n} from 'lit-html'\nimport ConfigMixin from '../mixin/config'\nimport { autoDeepObject } from '../utility/deepObject'\nimport { Base, compose } from '../utility/compose'\nimport AutoFields from './autoFields'\nimport Fields from './fields'\nimport FieldTypes from './fieldTypes'\n\nexport default class Editor extends compose(ConfigMixin,)(Base) {\n  constructor(containerEl, config) {\n    super()\n    this.containerEl = containerEl\n    this.fieldTypes = new FieldTypes()\n    this._fields = null\n    this._data = autoDeepObject({})\n\n    // Needs to be defined before the config is set.\n    this.template = (editor, data) => html`<div class=\"selective\">\n      ${editor.fields.template(editor, editor.fields, data)}\n    </div>`\n\n    this.setConfig(config)\n    this.bindEvents()\n    this.render()\n  }\n\n  get data() {\n    return this._data\n  }\n\n  get fields() {\n    if (!this._fields) {\n      const FieldsCls = this.getConfig().get('FieldsCls', Fields)\n      this._fields = new FieldsCls(this.fieldTypes)\n    }\n    return this._fields\n  }\n\n  get isClean() {\n    return this.fields.isClean\n  }\n\n  get selfRender() {\n    // Determine if we are self rendering or being externally rendered.\n    return this.containerEl !== null\n  }\n\n  get value() {\n    return this.fields.value\n  }\n\n  set data(value) {\n    this._data = autoDeepObject(value)\n    this.render()\n    return this._data\n  }\n\n  addField(...args) {\n    this.fields.addField(...args)\n  }\n\n  addFieldType(key, FieldCls) {\n    this.fieldTypes.addFieldType(key, FieldCls)\n    this.render()\n  }\n\n  addFieldTypes(fieldTypes) {\n    for (const key of Object.keys(fieldTypes)) {\n      this.fieldTypes.addFieldType(key, fieldTypes[key])\n    }\n    this.render()\n  }\n\n  bindEvents() {\n    // Skip binding if externally rendering.\n    if (!this.selfRender) {\n      return\n    }\n\n    // Allow triggering a re-render.\n    document.addEventListener('selective.render', () => {\n      this.render()\n    })\n  }\n\n  guessFields() {\n    const autoFields = new AutoFields(this.data.obj)\n    return autoFields.config\n  }\n\n  postRender(containerEl) {\n    // Allow for using without explicitly calling the render\n    // This supports external rendering using the template.\n    containerEl = containerEl || this.containerEl\n\n    // Initialize any new fields.\n    this.fieldTypes.initialize(containerEl)\n\n    // Trigger any field specific actions.\n    this.fields.postRender(containerEl)\n  }\n\n  render() {\n    // Do nothing when not self rendering.\n    if (!this.selfRender) {\n      return\n    }\n\n    render(this.template(this, this.data), this.containerEl)\n    this.postRender()\n  }\n\n  setConfig(value) {\n    super.setConfig(value)\n\n    if (value) {\n      // Reset the fields and add new field configs.\n      this.fields.reset()\n\n      for (const fieldConfig of this.getConfig().get('fields', [])) {\n        this.addField(fieldConfig)\n      }\n\n      this.render()\n    }\n  }\n\n  update(value) {\n    this.data = extend({}, this.data.obj, value)\n    return this.data\n  }\n}\n","/**\n * Field defined for editing.\n */\n\nimport { html } from 'lit-html'\nimport { repeat } from 'lit-html/directives/repeat'\nimport ConfigMixin from '../mixin/config'\nimport UidMixin from '../mixin/uid'\nimport Fields from './fields'\nimport AutoFields from './autoFields'\nimport { Base, compose } from '../utility/compose'\nimport { autoConfig } from '../utility/config'\nimport { autoDeepObject } from '../utility/deepObject'\nimport { findParentByClassname, findParentDraggable } from '../utility/dom'\n\nconst WHITESPACE_RE = /^[\\s]+|[\\s]+$/g\n\n// ========================================\n// === Base Field\n// ========================================\nexport default class Field extends compose(ConfigMixin, UidMixin,)(Base) {\n  constructor(config, extendedConfig) {\n    super()\n    this.fieldType = 'Field'\n    this.extendedConfig = extendedConfig || {}\n    this.setConfig(config)\n    this._dataValue = undefined\n    this.value = undefined\n\n    this.template = (editor, field, data) => html`<div class=\"selective__field\" data-field-type=\"${field.fieldType}\">\n      Missing template.\n    </div>`\n  }\n\n  get default() {\n    return this.getConfig().default\n  }\n\n  get help() {\n    return this.getConfig().help\n  }\n\n  get isClean() {\n    return this._dataValue == this.value\n  }\n\n  get key() {\n    return this.getConfig().key\n  }\n\n  get label() {\n    return this.getConfig().label\n  }\n\n  get options() {\n    return this.getConfig().options || {}\n  }\n\n  get placeholder() {\n    return this.getConfig().placeholder || ''\n  }\n\n  handleInput(evt) {\n    // Update the value to what is being typed.\n    // Helps mark the field as dirty.\n    // Strip the whitespace as well.\n    this.value = evt.target.value.replace(WHITESPACE_RE, '')\n\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  static initialize(containerEl) {\n    // Pass.\n  }\n\n  renderHelp(editor, field, data) {\n    if (!field.help) {\n      return ''\n    }\n\n    return html`<div class=\"selective__field__help\">${field.help}</div>`\n  }\n\n  postRender(containerEl) {\n    // Pass.\n  }\n\n  updateFromData(data) {\n    // Update the data, but do not return the value.\n    this.valueFromData(data)\n  }\n\n  valueFromData(data) {\n    let newDataValue = data\n    if (typeof data === 'object' && data !== null) {\n      data = autoDeepObject(data)\n      newDataValue = data.get(this.key)\n    }\n\n    // Allow for using the config default value.\n    if (newDataValue == undefined) {\n      const defaultValue = this.default\n      if (defaultValue != undefined) {\n        newDataValue = defaultValue\n      }\n    }\n\n    if (!this.isClean) {\n      // The value has changed since the last update.\n      // Update the stored data value, but don't change the actual value.\n      // isClean uses the _dataValue, so don't change until after the compare\n      // is complete.\n      this._dataValue = newDataValue\n      return this.value\n    }\n    this._dataValue = newDataValue\n    this.value = newDataValue\n    return this.value\n  }\n}\n\n\n// ========================================\n// === Sortable Field\n// ========================================\n//\n// The following are required as part of the template to make the sorting work:\n//\n// - Add 'draggable=\"true\"' attribute to the sortable containers.\n// - Add 'data-index=\"X\"' attribute to any sortable container with the current index.\n// - Add '@dragenter=${this.handleDragEnter.bind(this)}' event binding to the sortable container.\n// - Add '@dragleave=${this.handleDragLeave.bind(this)}' event binding to the sortable container.\n// - Add '@dragstart=${this.handleDragStart.bind(this)}' event binding to the sortable container.\n// - Add '@dragover=${this.handleDragOver.bind(this)}' event binding to the sortable container.\n// - Add '@drop=${this.handleDrop.bind(this)}' event binding to the sortable container.\n// - Use 'sortable--hover' class to style the currently hovering drop target.\n// - Use 'sortable--above' class to style the hovering element that is above the dragged element.\n// - Use 'sortable--below' class to style the hovering element that is below the dragged element.\n// - Optionally add 'sortable__preview' class to a child elmeent to use as the dragging preview.\n//\nexport class SortableField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'sortable'\n    this._dragOriginElement = null\n    this._dragHoverElement = null\n    this._dataValue = []\n    this.template = (editor, field, data) => html`<div>\n      Sortable Field sub class needs a custom template.\n    </div>`\n  }\n\n  _reorderValues(currentIndex, startIndex) {\n    // Dropped on self, ignore.\n    if (currentIndex == startIndex) {\n      return false\n    }\n\n    // Rework the array to have the items in the correct position.\n    const newValue = []\n    const oldValue = this.value\n    const maxIndex = Math.max(currentIndex, startIndex)\n    const minIndex = Math.min(currentIndex, startIndex)\n\n    // Determine which direction to shift misplaced items.\n    let modifier = 1\n    if (startIndex > currentIndex) {\n      modifier = -1\n    }\n\n    for (let i = 0; i < oldValue.length; i++) {\n      if (i < minIndex || i > maxIndex) {\n        // Leave in the same order.\n        newValue[i] = oldValue[i]\n      } else if (i == currentIndex) {\n        // This element is being moved to, place the moved value here.\n        newValue[i] = oldValue[startIndex]\n      } else {\n        // Shift the old index using the modifier to determine direction.\n        newValue[i] = oldValue[i+modifier]\n      }\n    }\n\n    this.value = newValue\n\n    return true\n  }\n\n  _shouldHandleDrag(evt) {\n    return (this._dragOriginElement\n      && evt.dataTransfer.types.includes(`selective/${this.getUid()}`))\n  }\n\n  handleDragStart(evt) {\n    evt.stopPropagation()\n    const target = findParentDraggable(evt.target)\n    this._dragOriginElement = target\n    evt.dataTransfer.setData('text/plain', evt.target.dataset.index)\n    evt.dataTransfer.setData(`selective/${this.getUid()}`, evt.target.dataset.index)\n    evt.dataTransfer.effectAllowed = 'move'\n\n    // Allow for custom preview for dragging.\n    const previewEl = target.querySelector('.sortable__preview')\n    if (previewEl) {\n      evt.dataTransfer.setDragImage(previewEl, 0, 0)\n    }\n  }\n\n  handleDragEnter(evt) {\n    if (this._shouldHandleDrag(evt)) {\n      const target = findParentDraggable(evt.target)\n      if (!target) {\n        return\n      }\n\n      evt.stopPropagation()\n\n      // Show that the element is hovering.\n      // Also prevent sub elements from triggering more drag events.\n      target.classList.add('sortable--hover')\n\n      const currentIndex = parseInt(evt.target.dataset.index)\n      const startIndex = parseInt(this._dragOriginElement.dataset.index)\n\n      // Hovering over self, ignore.\n      if (currentIndex == startIndex) {\n        return\n      }\n\n      if (currentIndex < startIndex) {\n        target.classList.add('sortable--above')\n      } else {\n        target.classList.add('sortable--below')\n      }\n    }\n  }\n\n  handleDragLeave(evt) {\n    if (this._shouldHandleDrag(evt)) {\n      const target = findParentDraggable(evt.target)\n      if (!target) {\n        return\n      }\n\n      //  Make sure that the event target comes from the main element.\n      if (target !== evt.target) {\n        return\n      }\n\n      evt.stopPropagation()\n\n      // No longer hovering.\n      target.classList.remove(\n        'sortable--hover', 'sortable--above', 'sortable--below')\n    }\n  }\n\n  handleDragOver(evt) {\n    if (this._shouldHandleDrag(evt)) {\n      // Flag to the browser that this is a valid drop target.\n      evt.preventDefault()\n      evt.stopPropagation()\n    }\n  }\n\n  handleDrop(evt) {\n    // Trying to drag from outside the list.\n    if (!this._dragOriginElement) {\n      return\n    }\n\n    evt.stopPropagation()\n\n    const target = findParentDraggable(evt.target)\n    const currentIndex = parseInt(evt.target.dataset.index)\n    const startIndex = parseInt(evt.dataTransfer.getData(\"text/plain\"))\n\n    // No longer hovering.\n    target.classList.remove(\n      'sortable--hover', 'sortable--above', 'sortable--below')\n\n    // Reset the drag element.\n    this._dragOriginElement = null\n\n    if (!this._reorderValues(currentIndex, startIndex)) {\n      // If false nothing changed, so don't re-render.\n      return\n    }\n\n    // Trigger a re-render after moving.\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n}\n\n\n// ========================================\n// === List Field\n// ========================================\nexport class ListField extends SortableField {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'list'\n    this._listItems = []\n    this._listIds = []\n    this._isExpanded = false\n    this._useAutoFields = false\n    this._expandedIndexes = []\n\n    this.template = (editor, field, data) => html`\n      <div\n          class=\"selective__field selective__field__${field.fieldType}\"\n          data-field-type=\"${field.fieldType}\">\n        ${field.ensureItems(editor, data)}\n        ${field.updateFromData(data)}\n        <div class=\"selective__header\">\n          <div class=\"selective__field__label\">${field.label}</div>\n          ${field.renderActionsHeader(editor, field, data)}\n        </div>\n        <div class=\"selective__list\">\n          <div class=\"selective__list__items\" id=\"${field.getUid()}\">\n            ${field.renderItems(editor, data)}\n          </div>\n        </div>\n        <div class=\"selective__footer\">\n          ${field.renderActionsFooter(editor, field, data)}\n        </div>\n      </div>`\n  }\n\n  _idsFromList(itemList) {\n    const ids = []\n\n    for (const item of itemList) {\n      ids.push(item.id)\n    }\n\n    return ids\n  }\n\n  _reorderValues(currentIndex, startIndex) {\n    // Rework the expanded array to have the items in the correct position.\n    const newExpanded = []\n    const oldExpanded = this._expandedIndexes\n    const newItems = []\n    const oldItems = this._listItems\n    const valueLen = this.value.length\n    const maxIndex = Math.max(currentIndex, startIndex)\n    const minIndex = Math.min(currentIndex, startIndex)\n\n    // Determine which direction to shift misplaced items.\n    let modifier = 1\n    if (startIndex > currentIndex) {\n      modifier = -1\n    }\n\n    for (let i = 0; i < valueLen; i++) {\n      if (i < minIndex || i > maxIndex) {\n        // Leave in the same order.\n        newItems[i] = oldItems[i]\n\n        if (oldExpanded.includes(i)) {\n          newExpanded.push(i)\n        }\n      } else if (i == currentIndex) {\n        // This element is being moved to, place the moved value here.\n        newItems[i] = oldItems[startIndex]\n        newItems[i]['index'] = i\n\n        if (oldExpanded.includes(startIndex)) {\n          newExpanded.push(i)\n        }\n      } else {\n        // Shift the old index using the modifier to determine direction.\n        newItems[i] = oldItems[i+modifier]\n        newItems[i]['index'] = i\n\n        if (oldExpanded.includes(i+modifier)) {\n          newExpanded.push(i)\n        }\n      }\n    }\n\n    this._expandedIndexes = newExpanded\n    this._listItems = newItems\n    return true\n  }\n\n  get isClean() {\n    // If there are no list items, it has not been changed.\n    if (!this._listItems || this._listItems.length < 1) {\n      return true\n    }\n\n    // Check each item to see if it is clean.\n    for (const item of this._listItems) {\n      if (!item['itemFields'].isClean) {\n        return false\n      }\n    }\n\n    // Check if the ids on the item list have changed.\n    const originalIds = JSON.stringify(this._listIds)\n    const currentIds = JSON.stringify(this._idsFromList(this._listItems))\n    if (originalIds != currentIds) {\n      return false\n    }\n\n    return true\n  }\n\n  get isExpanded() {\n    // If all of the items are in the expanded list then consider it expanded.\n    if (this._listItems.length == this._expandedIndexes.length) {\n      return true\n    }\n\n    return this._isExpanded\n  }\n\n  get value() {\n    if (!this._listItems || !this._listItems.length) {\n      return this._dataValue\n    }\n\n    // Loop through each fields and get the values.\n    const values = []\n    for (const item of this._listItems) {\n      values.push(item['itemFields'].value)\n    }\n\n    return values\n  }\n\n  set isExpanded(value) {\n    this._isExpanded = value\n\n    // TODO: Save to local storage\n  }\n\n  set value(value) {\n    // no-op\n  }\n\n  _createItems(editor, data) {\n    // No value yet.\n    if (!this.value) {\n      return []\n    }\n\n    // Use the field config for the list items to create the correct field types.\n    let fieldConfigs = this.getConfig().get('fields', [])\n    this._useAutoFields = fieldConfigs.length == 0\n\n    let index = 0\n    const items = []\n    for (const itemData of this.value) {\n      const itemFields = new Fields(editor.fieldTypes)\n      itemFields.valueFromData(itemData || {})\n\n      if (this._useAutoFields) {\n        // Auto guess the fields if they are not defined.\n        fieldConfigs = new AutoFields(itemData).config['fields']\n      }\n\n      for (let fieldConfig of fieldConfigs || []) {\n        fieldConfig = autoConfig(fieldConfig, this.extendedConfig)\n        itemFields.addField(fieldConfig, this.extendedConfig)\n      }\n\n      // When a partial is not expanded it does not get the value\n      // updated correctly so we need to manually call the data update.\n      for (const itemField of itemFields.fields) {\n        itemField.updateFromData(itemData || {})\n      }\n\n      items.push({\n        'id': `${this.getUid()}-${index}`,\n        'index': index,\n        'itemFields': itemFields,\n        'fieldConfigs': fieldConfigs,\n        'isExpanded': false,\n      })\n\n      index += 1\n    }\n\n    return items\n  }\n\n  _determineItemPreview(listItem) {\n    const defaultPreviewField = this.getConfig().get('preview_field')\n    const previewField = (listItem['partialConfig'] || {})['preview_field']\n    const itemValue = this.value[listItem['index']]\n    let previewValue = itemValue\n\n    if (previewField || defaultPreviewField) {\n      previewValue = autoDeepObject(itemValue).get(previewField || defaultPreviewField)\n    }\n\n    // Do not try to show preview for complex values.\n    if (typeof previewValue == 'object') {\n      previewValue = null\n    }\n    return previewValue\n  }\n\n  ensureItems(editor, data) {\n    // If the sub fields have not been created create them now.\n    if (!this._listItems.length) {\n      this._listItems = this._createItems(editor, data)\n\n      // Expand by default if there is only one item.\n      if (this._listItems.length == 1) {\n        this._expandedIndexes = [0]\n      }\n\n      this._listIds = this._idsFromList(this._listItems)\n    }\n  }\n\n  handleAddItem(evt, editor) {\n    const index = this.value ? this.value.length : 0\n    const itemFields = new Fields(editor.fieldTypes)\n\n    // Use the field config for the list items to create the correct field types.\n    let fieldConfigs = this.getConfig().get('fields', [])\n\n    // If no field configs, use the last item config if availble.\n    if (!fieldConfigs.length && index > 0) {\n      fieldConfigs = this._listItems[index-1].fieldConfigs\n    }\n\n    for (let fieldConfig of fieldConfigs || []) {\n      fieldConfig = autoConfig(fieldConfig, this.extendedConfig)\n      itemFields.addField(fieldConfig, this.extendedConfig)\n    }\n\n    if (fieldConfigs.length > 1) {\n      itemFields.valueFromData({})\n    } else {\n      itemFields.valueFromData('')\n    }\n\n    this._listItems.push({\n      'id': `${this.getUid()}-${index}`,\n      'index': index,\n      'itemFields': itemFields,\n      'fieldConfigs': fieldConfigs,\n      'isExpanded': false,\n    })\n\n    // Expanded by default.\n    this._expandedIndexes.push(index)\n\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  handleItemCollapse(evt) {\n    this.isExpanded = false\n    const index = parseInt(evt.target.dataset.index)\n    const expandIndex = this._expandedIndexes.indexOf(index)\n    if (expandIndex > -1) {\n      this._expandedIndexes.splice(expandIndex, 1)\n      document.dispatchEvent(new CustomEvent('selective.render'))\n    }\n  }\n\n  handleItemDelete(evt) {\n    evt.stopPropagation()\n\n    const target = findParentByClassname(\n      evt.target, 'selective__list__item__delete')\n    const index = parseInt(target.dataset.index)\n\n    // Clean up an expanded indexes.\n    const newExpanded = []\n    for (const oldIndex of this._expandedIndexes) {\n      if (oldIndex == index) {\n        continue\n      } else if (oldIndex > index) {\n        newExpanded.push(oldIndex - 1)\n      } else {\n        newExpanded.push(oldIndex)\n      }\n    }\n    this._expandedIndexes = newExpanded\n\n    // Clean up the items.\n    const newListItems = []\n    for (const oldItem of this._listItems) {\n      if (oldItem['index'] == index) {\n        continue\n      } else if (oldItem['index'] > index) {\n        oldItem['index'] = oldItem['index'] - 1\n        newListItems.push(oldItem)\n      } else {\n        newListItems.push(oldItem)\n      }\n    }\n    this._listItems = newListItems\n\n    // Remove the value.\n    this.value.splice(index, 1)\n\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  handleItemExpand(evt) {\n    const index = parseInt(evt.target.dataset.index)\n    this._expandedIndexes.push(index)\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  handleToggleExpand(evt) {\n    if (this.isExpanded) {\n      // Clear out all expanded indexes when collapsing.\n      this._expandedIndexes = []\n      this._isExpanded = false\n    } else {\n      this._isExpanded = true\n    }\n\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  renderActionsFooter(editor, field, data) {\n    return html`<div class=\"selective__actions\">\n      <button @click=${(evt) => {field.handleAddItem(evt, editor)}}>\n        Add\n      </button>\n    </div>`\n  }\n\n  renderActionsHeader(editor, field, data) {\n    // No expand toggle action to render if there is only 1 sub field config.\n    const fieldConfigs = this.getConfig().get('fields', [])\n\n    // No need to expand/collapse when there is only one field config.\n    if (fieldConfigs.length <= 1) {\n      return ''\n    }\n\n    // No need to expand/collapse when there is only one list item.\n    if (this._listItems && this._listItems.length <= 1) {\n      return ''\n    }\n\n    // Hide when there are no values to expand/collapse.\n    if ((this.value || []).length == 0) {\n      return ''\n    }\n\n    // Allow collapsing and expanding of sub fields.\n    return html`<div class=\"selective__actions\">\n      <button class=\"selective__action__toggle\" @click=${field.handleToggleExpand.bind(field)}>\n        ${field.isExpanded ? 'Collapse' : 'Expand'}\n      </button>\n    </div>`\n  }\n\n  renderCollapsedItem(editor, listItem) {\n    return html`\n      <div class=\"selective__list__item__drag\"><i class=\"material-icons\">drag_indicator</i></div>\n      <div class=\"selective__list__item__preview sortable__preview\" data-index=${listItem['index']} @click=${this.handleItemExpand.bind(this)}>\n        ${this.renderPreview(listItem)}\n      </div>\n      <div\n          class=\"selective__list__item__delete\"\n          data-index=${listItem['index']}\n          @click=${this.handleItemDelete.bind(this)}\n          title=\"Delete item\">\n        <i class=\"material-icons\">delete</i>\n      </div>`\n  }\n\n  renderExpandedItem(editor, listItem) {\n    return html`\n      <div class=\"selective__list__fields\">\n        <div class=\"selective__list__fields__label ${!listItem['itemFields'].label ? 'selective__list__fields__label--empty' : ''}\"\n            data-index=${listItem['index']}\n            @click=${this.handleItemCollapse.bind(this)}>\n          ${listItem['itemFields'].label}\n        </div>\n        ${listItem['itemFields'].template(editor, listItem['itemFields'], this.value[listItem['index']])}\n      </div>`\n  }\n\n  renderItems(editor, data) {\n    this.ensureItems(editor, data)\n\n    // Update the expanded state each render.\n    for (const listItem of this._listItems) {\n      const inIndex = this._expandedIndexes.indexOf(listItem['index']) > -1\n      const itemValue = this.value[listItem['index']]\n      const isSimpleValue = typeof itemValue !== 'object'\n      listItem['isExpanded'] = this.isExpanded || inIndex || isSimpleValue\n    }\n\n    return html`${repeat(this._listItems, (listItem) => listItem['id'], (listItem, index) => html`\n      <div class=\"selective__list__item selective__list__item--${listItem['isExpanded'] ? 'expanded' : 'collapsed'} ${this._useAutoFields ? 'selective__list__item--auto' : ''}\"\n          draggable=\"true\"\n          data-index=${listItem['index']}\n          @dragenter=${this.handleDragEnter.bind(this)}\n          @dragleave=${this.handleDragLeave.bind(this)}\n          @dragover=${this.handleDragOver.bind(this)}\n          @dragstart=${this.handleDragStart.bind(this)}\n          @drop=${this.handleDrop.bind(this)}>\n        ${listItem['isExpanded']\n          ? this.renderExpandedItem(editor, listItem)\n          : this.renderCollapsedItem(editor, listItem)}\n      </div>\n    `)}`\n  }\n\n  renderPreview(listItem) {\n    const previewValue = this._determineItemPreview(listItem)\n    return previewValue || `Item ${listItem.index + 1}`\n  }\n}\n","/**\n * Fields types defined for editing.\n */\n\nimport ConfigMixin from '../mixin/config'\nimport { Base, compose } from '../utility/compose'\n\nexport default class FieldTypes extends compose(ConfigMixin,)(Base) {\n  constructor(config) {\n    super()\n    this.fieldTypes = {}\n    this.setConfig(config)\n  }\n\n  addFieldType(key, FieldCls) {\n    this.fieldTypes[key] = FieldCls\n  }\n\n  initialize(containerEl) {\n    for (const [key, value] of Object.entries(this.fieldTypes)) {\n      value.initialize(containerEl)\n    }\n  }\n\n  newField(type, ...args) {\n    if ( type in this.fieldTypes ) {\n      return new this.fieldTypes[type](...args)\n    }\n\n    // TODO: Placeholder field.\n  }\n}\n","/**\n * Fields defined for editing.\n */\n\nimport * as extend from 'deep-extend'\nimport { html } from 'lit-html'\nimport { repeat } from 'lit-html/directives/repeat'\nimport ConfigMixin from '../mixin/config'\nimport UidMixin from '../mixin/uid'\nimport { Base, compose } from '../utility/compose'\nimport { autoConfig } from '../utility/config'\nimport { autoDeepObject } from '../utility/deepObject'\n\nexport default class Fields extends compose(ConfigMixin, UidMixin,)(Base) {\n  constructor(fieldTypes, config) {\n    super()\n    this.fieldTypes = fieldTypes\n    this.fields = []\n    this._dataValue = undefined\n    this._value = undefined\n    this.setConfig(config)\n\n    this.template = (editor, fields, data) => html`<div class=\"selective__fields\">\n      ${fields.valueFromData(data)}\n      ${repeat(fields.fields, (field) => field.getUid(), (field, index) => html`\n        ${field.template(editor, field, data)}\n      `)}\n    </div>`\n  }\n\n  get isClean() {\n    for (const field of this.fields) {\n      if (!field.isClean) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  get value() {\n    const value = autoDeepObject({})\n\n    const setKeys = []\n    for (const field of this.fields) {\n      // When using field without a key it returns a subset of the data.\n      if (!field.key) {\n        value.update(field.value)\n      } else {\n        // If a field is reusing a key combine the existing values\n        // and the new values. New values will overwrite conflicting keys.\n        if (setKeys.includes(field.key)) {\n          value.set(field.key, extend({}, value.get(field.key), field.value))\n          continue\n        }\n\n        // Mark that the field key was set.\n        setKeys.push(field.key)\n\n        value.set(field.key, field.value)\n      }\n    }\n\n    return extend({}, this._dataValue.obj, value.obj)\n  }\n\n  set value(value) {\n    // Setting value doesn't actually do anything.\n  }\n\n  addField(fieldConfig, extendedConfig) {\n    fieldConfig = autoConfig(fieldConfig, extendedConfig)\n    const newField = this.fieldTypes.newField(\n      fieldConfig.type, fieldConfig, extendedConfig)\n    if (newField) {\n      this.fields.push(newField)\n    }\n  }\n\n  postRender(containerEl) {\n    // Pass it along to the fields.\n    for( const field of this.fields ) {\n      field.postRender(containerEl)\n    }\n  }\n\n  reset() {\n    this.fields = []\n  }\n\n  valueFromData(data) {\n    this._dataValue = autoDeepObject(data)\n  }\n}\n","/**\n * Compose multiple mixins into an easier syntax.\n *\n * Adapted from lodash flow.\n */\n\nfunction compose(...mixins) {\n  const length = mixins.length\n  mixins = mixins.reverse()\n  return function(...args) {\n    let index = 0\n    let result = length ? mixins[index].apply(this, args) : args[0]\n    while (++index < length) {\n      result = mixins[index].call(this, result)\n    }\n    return result\n  }\n}\n\nclass Base {}\n\nexport { Base, compose }\n","/**\n * Utility for working with config.\n */\n\nexport default class Config {\n  constructor(config, defaultValues) {\n    this._defaultValues = defaultValues || {}\n    this._config = Object.assign({}, this._defaultValues, config || {})\n\n    // Allow for direct access to config values.\n    for (const key of Object.keys(this._config)) {\n      this[key] = this._config[key]\n    }\n  }\n\n  get(key, defaultValue) {\n    if (typeof this._config[key] == 'undefined') {\n      return defaultValue\n    }\n    return this._config[key]\n  }\n\n  set(key, value) {\n    this._config[key] = value\n    return this[key] = value\n  }\n}\n\n\nexport const autoConfig = (value, defaultValues) => {\n  if (value instanceof Config) {\n    return value\n  }\n  return new Config(value, defaultValues)\n}\n","/**\n * Utility for determining the type of a data value.\n */\n\nexport default class DataType {\n  isArray (value) {\n    if (Array.isArray) {\n      return Array.isArray(value)\n    }\n    return value && typeof value === 'object' && value.constructor === Array\n  }\n\n  isBoolean (value) {\n    return typeof value === 'boolean'\n  }\n\n  isDate (value) {\n    return value instanceof Date\n  }\n\n  isFunction (value) {\n    return typeof value === 'function'\n  }\n\n  isNumber (value) {\n    return typeof value === 'number' && isFinite(value)\n  }\n\n  isNull (value) {\n    return value === null\n  }\n\n  isObject (value) {\n    return value && typeof value === 'object' && value.constructor === Object\n  }\n\n  isRegExp (value) {\n    return value && typeof value === 'object' && value.constructor === RegExp\n  }\n\n  isString (value) {\n    return typeof value === 'string' || value instanceof String\n  }\n\n  isSymbol (value) {\n    return typeof value === 'symbol'\n  }\n\n  isUndefined (value) {\n    return typeof value === 'undefined'\n  }\n}\n","/**\n * Utility for working with deep object references.\n *\n * Example: obj.get('somthing.sub.key') would deeply reference the object.\n */\n\nexport default class DeepObject {\n  constructor(obj) {\n    this.obj = obj || {}\n  }\n\n  get(key) {\n    let root = this.obj\n\n    if (!key) {\n      return root\n    }\n\n    for (const part of key.split('.')) {\n      if (!root) {\n        return undefined\n      }\n      if (!part in root) {\n        return undefined\n      }\n      root = root[part]\n    }\n    return root\n  }\n\n  set(key, value) {\n    if (!key) {\n      this.obj = value\n      return\n    }\n\n    let root = this.obj\n\n    const parts = key.split('.')\n    for (let i = 0; i < parts.length - 1; i++) {\n      const part = parts[i]\n      if (!(part in root)) {\n        root[part] = {}\n      }\n      root = root[part]\n    }\n    root[parts[parts.length - 1]] = value\n  }\n\n  update(value) {\n    if (!value) {\n      return\n    }\n\n    for (const key of Object.keys(value)) {\n      this.set(key, value[key])\n    }\n  }\n}\n\n\nexport const autoDeepObject = (value) => {\n  if (value === undefined) {\n    return value\n  }\n\n  let has_get = false\n  if (value.get && typeof value.get === 'function') {\n    has_get = true\n  }\n\n  // Allow for duck typing and external objects that define a get.\n  if (has_get || value instanceof DeepObject) {\n    return value\n  }\n\n  return new DeepObject(value)\n}\n","/**\n *  DOM helper functions.\n */\n\nconst findParentByClassname = (element, classname) => {\n  while(element && !element.classList.contains(classname)) {\n    element = element.parentElement\n  }\n  return element\n}\n\nconst findParentDraggable = (target) => {\n  // Use the event target to traverse until the draggable element is found.\n  let isDraggable = false\n  while (target && !isDraggable) {\n    isDraggable = target.getAttribute('draggable') == 'true'\n    if (!isDraggable) {\n      target = target.parentElement\n    }\n  }\n  return target\n}\n\nexport { findParentByClassname, findParentDraggable }\n","/**\n * UUID Generator for JS.\n */\n\nconst generateUUID = () => {\n let array = new Uint32Array(8)\n window.crypto.getRandomValues(array)\n let str = ''\n for (let i = 0; i < array.length; i++) {\n   str += (i < 2 || i > 5 ? '' : '-') + array[i].toString(16).slice(-4)\n }\n return str\n}\n\nexport default generateUUID\n","/*!\n * @description Recursive object extending\n * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>\n * @license MIT\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2013-2018 Viacheslav Lotsmanov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nfunction isSpecificValue(val) {\n\treturn (\n\t\tval instanceof Buffer\n\t\t|| val instanceof Date\n\t\t|| val instanceof RegExp\n\t) ? true : false;\n}\n\nfunction cloneSpecificValue(val) {\n\tif (val instanceof Buffer) {\n\t\tvar x = Buffer.alloc\n\t\t\t? Buffer.alloc(val.length)\n\t\t\t: new Buffer(val.length);\n\t\tval.copy(x);\n\t\treturn x;\n\t} else if (val instanceof Date) {\n\t\treturn new Date(val.getTime());\n\t} else if (val instanceof RegExp) {\n\t\treturn new RegExp(val);\n\t} else {\n\t\tthrow new Error('Unexpected situation');\n\t}\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n\tvar clone = [];\n\tarr.forEach(function (item, index) {\n\t\tif (typeof item === 'object' && item !== null) {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tclone[index] = deepCloneArray(item);\n\t\t\t} else if (isSpecificValue(item)) {\n\t\t\t\tclone[index] = cloneSpecificValue(item);\n\t\t\t} else {\n\t\t\t\tclone[index] = deepExtend({}, item);\n\t\t\t}\n\t\t} else {\n\t\t\tclone[index] = item;\n\t\t}\n\t});\n\treturn clone;\n}\n\nfunction safeGetProperty(object, property) {\n\treturn property === '__proto__' ? undefined : object[property];\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nvar deepExtend = module.exports = function (/*obj_1, [obj_2], [obj_N]*/) {\n\tif (arguments.length < 1 || typeof arguments[0] !== 'object') {\n\t\treturn false;\n\t}\n\n\tif (arguments.length < 2) {\n\t\treturn arguments[0];\n\t}\n\n\tvar target = arguments[0];\n\n\t// convert arguments to array and cut off target object\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar val, src, clone;\n\n\targs.forEach(function (obj) {\n\t\t// skip argument if isn't an object, is null, or is an array\n\t\tif (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(obj).forEach(function (key) {\n\t\t\tsrc = safeGetProperty(target, key); // source value\n\t\t\tval = safeGetProperty(obj, key); // new value\n\n\t\t\t// recursion prevention\n\t\t\tif (val === target) {\n\t\t\t\treturn;\n\n\t\t\t/**\n\t\t\t * if new value isn't object then just overwrite by new value\n\t\t\t * instead of extending.\n\t\t\t */\n\t\t\t} else if (typeof val !== 'object' || val === null) {\n\t\t\t\ttarget[key] = val;\n\t\t\t\treturn;\n\n\t\t\t// just clone arrays (and recursive clone objects inside)\n\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\ttarget[key] = deepCloneArray(val);\n\t\t\t\treturn;\n\n\t\t\t// custom cloning and overwrite for specific objects\n\t\t\t} else if (isSpecificValue(val)) {\n\t\t\t\ttarget[key] = cloneSpecificValue(val);\n\t\t\t\treturn;\n\n\t\t\t// overwrite by new value if source isn't object or array\n\t\t\t} else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\n\t\t\t\ttarget[key] = deepExtend({}, val);\n\t\t\t\treturn;\n\n\t\t\t// source value and new value is objects both, extending...\n\t\t\t} else {\n\t\t\t\ttarget[key] = deepExtend(src, val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t});\n\n\treturn target;\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { createMarker, directive, NodePart, removeNodes, reparentNodes } from '../lit-html.js';\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart = (containerPart, beforePart) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = beforePart === undefined ? containerPart.endNode :\n        beforePart.startNode;\n    const startNode = container.insertBefore(createMarker(), beforeNode);\n    container.insertBefore(createMarker(), beforeNode);\n    const newPart = new NodePart(containerPart.options);\n    newPart.insertAfterNode(startNode);\n    return newPart;\n};\nconst updatePart = (part, value) => {\n    part.setValue(value);\n    part.commit();\n    return part;\n};\nconst insertPartBefore = (containerPart, part, ref) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = ref ? ref.startNode : containerPart.endNode;\n    const endNode = part.endNode.nextSibling;\n    if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n    }\n};\nconst removePart = (part) => {\n    removeNodes(part.startNode.parentNode, part.startNode, part.endNode.nextSibling);\n};\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list, start, end) => {\n    const map = new Map();\n    for (let i = start; i <= end; i++) {\n        map.set(list[i], i);\n    }\n    return map;\n};\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap();\nconst keyListCache = new WeakMap();\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * amd removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive((items, keyFnOrTemplate, template) => {\n    let keyFn;\n    if (template === undefined) {\n        template = keyFnOrTemplate;\n    }\n    else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate;\n    }\n    return (containerPart) => {\n        if (!(containerPart instanceof NodePart)) {\n            throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update\n        // (associated with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n        // New part list will be built up as we go (either reused from\n        // old parts or created for new keys in this update). This is\n        // saved in the above cache at the end of the update.\n        const newParts = [];\n        // New value list is eagerly generated from items along with a\n        // parallel array indicating its key.\n        const newValues = [];\n        const newKeys = [];\n        let index = 0;\n        for (const item of items) {\n            newKeys[index] = keyFn ? keyFn(item, index) : index;\n            newValues[index] = template(item, index);\n            index++;\n        }\n        // Maps from key to index for current and previous update; these\n        // are generated lazily only when needed as a performance\n        // optimization, since they are only required for multiple\n        // non-contiguous changes in the list, which are less common.\n        let newKeyToIndexMap;\n        let oldKeyToIndexMap;\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n        // Overview of O(n) reconciliation algorithm (general approach\n        // based on ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and\n        //   arrays of their respective keys), head/tail pointers into\n        //   each, and we build up the new list of parts by updating\n        //   (and when needed, moving) old parts or creating new ones.\n        //   The initial scenario might look like this (for brevity of\n        //   the diagrams, the numbers in the array reflect keys\n        //   associated with the old parts or new values, although keys\n        //   and parts/values are actually stored in parallel arrays\n        //   indexed using the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n        //                                      item order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating,\n        //   swapping, or removing parts at the head/tail locations\n        //   until neither head nor tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old\n        //   part 0 in-place (no need to move it) and record part 0 in\n        //   the `newParts` list. The last thing we do is advance the\n        //   `oldHead` and `newHead` pointers (will be reflected in the\n        //   next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail\n        //   pointers do, so update part 6 in place (no need to move\n        //   it), and record part 6 in the `newParts` list. Last,\n        //   advance the `oldTail` and `oldHead` pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n        //                                      & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the\n        //   old head/tail items was removed. We first need to generate\n        //   the reverse map of new keys to index (`newKeyToIndexMap`),\n        //   which is done once lazily as a performance optimization,\n        //   since we only hit this case if multiple non-contiguous\n        //   changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance\n        //   from either end and pass each other before we get to this\n        //   case and removals would be handled in the final while loop\n        //   without needing to generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer\n        //   in the `newKeyToIndexMap`), so remove that part from the\n        //   DOM and advance just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to\n        //   either new or moved items; if a new key is in the previous\n        //   \"old key to old index\" map, move the old part to the new\n        //   location, otherwise create and insert a new part. Note\n        //   that when moving an old part we null its position in the\n        //   oldParts array if it lies between the head and tail so we\n        //   know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither\n        //   were removed; so find the `newHead` key in the\n        //   `oldKeyToIndexMap`, and move that old part's DOM into the\n        //   next head position (before `oldParts[oldHead]`). Last,\n        //   null the part in the `oldPart` array since it was\n        //   somewhere in the remaining oldParts still to be scanned\n        //   (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n        //                                      newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part\n        //   inserted at the head pointer is inserted before the\n        //   current `oldParts[oldHead]`, and a part inserted at the\n        //   tail pointer is inserted before `newParts[newTail+1]`. The\n        //   seeming asymmetry lies in the fact that new parts are\n        //   moved into place outside in, so to the right of the head\n        //   pointer are old parts, and to the right of the tail\n        //   pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm,\n        //   allowing matching and simple updates in place to\n        //   continue...\n        //\n        // * Example below: the head pointers once again match, so\n        //   simply update part 1 and record it in the `newParts`\n        //   array.  Last, advance both head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of\n        //   being stuck (the final else clause in the code below) are\n        //   marked with null, so we always advance old pointers over\n        //   these so we're comparing the next actual old value on\n        //   either end.\n        //\n        // * Example below: `oldHead` is null (already placed in\n        //   newParts), so advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n        //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they\n        //   are moved from head to tail or tail to head, since they\n        //   will be outside the pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head\n        //   key, so the part at the `oldTail` position and move its\n        //   DOM to the new head position (before `oldParts[oldHead]`).\n        //   Last, advance `oldTail` and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n        //                                     advance oldTail & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the\n        //   old head part in place, and advance the `oldHead` and\n        //   `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n        //                                      newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all\n        //   we have left is additions (if old list exhausted) or\n        //   removals (if new list exhausted). Those are handled in the\n        //   final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done\n        //   with the main loop.  Create the remaining part and insert\n        //   it at the new head position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not\n        //   important to the algorithm, as long as the null checks\n        //   come first (to ensure we're always working on valid old\n        //   parts) and that the final else clause comes last (since\n        //   that's where the expensive moves occur). The order of\n        //   remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest\n        //   increasing subsequence (LIS) of old items in new position,\n        //   and only move those not in the LIS set. However that costs\n        //   O(nlogn) time and adds a bit more code, and only helps\n        //   make rare types of mutations require fewer moves. The\n        //   above handles removes, adds, reversal, swaps, and single\n        //   moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS\n        //   might help approaches a random shuffle, the LIS\n        //   optimization becomes less helpful, so it seems not worth\n        //   the code at this point. Could reconsider if a compelling\n        //   case arises.\n        while (oldHead <= oldTail && newHead <= newTail) {\n            if (oldParts[oldHead] === null) {\n                // `null` means old part at head has already been used\n                // below; skip\n                oldHead++;\n            }\n            else if (oldParts[oldTail] === null) {\n                // `null` means old part at tail has already been used\n                // below; skip\n                oldTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newHead]) {\n                // Old head matches new head; update in place\n                newParts[newHead] =\n                    updatePart(oldParts[oldHead], newValues[newHead]);\n                oldHead++;\n                newHead++;\n            }\n            else if (oldKeys[oldTail] === newKeys[newTail]) {\n                // Old tail matches new tail; update in place\n                newParts[newTail] =\n                    updatePart(oldParts[oldTail], newValues[newTail]);\n                oldTail--;\n                newTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newTail]) {\n                // Old head matches new tail; update and move to new tail\n                newParts[newTail] =\n                    updatePart(oldParts[oldHead], newValues[newTail]);\n                insertPartBefore(containerPart, oldParts[oldHead], newParts[newTail + 1]);\n                oldHead++;\n                newTail--;\n            }\n            else if (oldKeys[oldTail] === newKeys[newHead]) {\n                // Old tail matches new head; update and move to new head\n                newParts[newHead] =\n                    updatePart(oldParts[oldTail], newValues[newHead]);\n                insertPartBefore(containerPart, oldParts[oldTail], oldParts[oldHead]);\n                oldTail--;\n                newHead++;\n            }\n            else {\n                if (newKeyToIndexMap === undefined) {\n                    // Lazily generate key-to-index maps, used for removals &\n                    // moves below\n                    newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                    oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                }\n                if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                    // Old head is no longer in new list; remove\n                    removePart(oldParts[oldHead]);\n                    oldHead++;\n                }\n                else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                    // Old tail is no longer in new list; remove\n                    removePart(oldParts[oldTail]);\n                    oldTail--;\n                }\n                else {\n                    // Any mismatches at this point are due to additions or\n                    // moves; see if we have an old part we can reuse and move\n                    // into place\n                    const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                    const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n                    if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(containerPart, oldParts[oldHead]);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                    }\n                    else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(containerPart, oldPart, oldParts[oldHead]);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex] = null;\n                    }\n                    newHead++;\n                }\n            }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n            // For all remaining additions, we insert before last new\n            // tail, since old pointers are no longer valid\n            const newPart = createAndInsertPart(containerPart, newParts[newTail + 1]);\n            updatePart(newPart, newValues[newHead]);\n            newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n            const oldPart = oldParts[oldHead++];\n            if (oldPart !== null) {\n                removePart(oldPart);\n            }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n    };\n});\n//# sourceMappingURL=repeat.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // tslint:disable-next-line:no-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = this.parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // tslint:disable-next-line:no-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\ntry {\n    const options = {\n        get capture() {\n            eventOptionsSupported = true;\n            return false;\n        }\n    };\n    // tslint:disable-next-line:no-any\n    window.addEventListener('test', options, options);\n    // tslint:disable-next-line:no-any\n    window.removeEventListener('test', options, options);\n}\ncatch (_e) {\n}\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment poisition.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceeding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceeding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        template.innerHTML = this.getHTML();\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar arr = []\nvar replacerStack = []\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer) {\n  decirc(obj, '', [], undefined)\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(obj, replacer, spacer)\n  } else {\n    res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\nfunction decirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, stack, val)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, stack, val)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer) {\n  var tmp = deterministicDecirc(obj, '', [], undefined) || obj\n  var res\n  if (replacerStack.length === 0) {\n    res = JSON.stringify(tmp, replacer, spacer)\n  } else {\n    res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n  }\n  while (arr.length !== 0) {\n    var part = arr.pop()\n    if (part.length === 4) {\n      Object.defineProperty(part[0], part[1], part[3])\n    } else {\n      part[0][part[1]] = part[2]\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, stack, parent) {\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n        if (propertyDescriptor.get !== undefined) {\n          if (propertyDescriptor.configurable) {\n            Object.defineProperty(parent, k, { value: '[Circular]' })\n            arr.push([parent, k, val, propertyDescriptor])\n          } else {\n            replacerStack.push([val, k])\n          }\n        } else {\n          parent[k] = '[Circular]'\n          arr.push([parent, k, val])\n        }\n        return\n      }\n    }\n    if (typeof val.toJSON === 'function') {\n      return\n    }\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, stack, val)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, stack, val)\n        tmp[key] = val[key]\n      }\n      if (parent !== undefined) {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as [Circular]\nfunction replaceGetterValues (replacer) {\n  replacer = replacer !== undefined ? replacer : function (k, v) { return v }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = '[Circular]'\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.pell={})}(this,function(t){\"use strict\";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=\"defaultParagraphSeparator\",l=\"formatBlock\",a=function(t,e,n){return t.addEventListener(e,n)},s=function(t,e){return t.appendChild(e)},d=function(t){return document.createElement(t)},n=function(t){return document.queryCommandState(t)},f=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return document.execCommand(t,!1,e)},p={bold:{icon:\"<b>B</b>\",title:\"Bold\",state:function(){return n(\"bold\")},result:function(){return f(\"bold\")}},italic:{icon:\"<i>I</i>\",title:\"Italic\",state:function(){return n(\"italic\")},result:function(){return f(\"italic\")}},underline:{icon:\"<u>U</u>\",title:\"Underline\",state:function(){return n(\"underline\")},result:function(){return f(\"underline\")}},strikethrough:{icon:\"<strike>S</strike>\",title:\"Strike-through\",state:function(){return n(\"strikeThrough\")},result:function(){return f(\"strikeThrough\")}},heading1:{icon:\"<b>H<sub>1</sub></b>\",title:\"Heading 1\",result:function(){return f(l,\"<h1>\")}},heading2:{icon:\"<b>H<sub>2</sub></b>\",title:\"Heading 2\",result:function(){return f(l,\"<h2>\")}},paragraph:{icon:\"&#182;\",title:\"Paragraph\",result:function(){return f(l,\"<p>\")}},quote:{icon:\"&#8220; &#8221;\",title:\"Quote\",result:function(){return f(l,\"<blockquote>\")}},olist:{icon:\"&#35;\",title:\"Ordered List\",result:function(){return f(\"insertOrderedList\")}},ulist:{icon:\"&#8226;\",title:\"Unordered List\",result:function(){return f(\"insertUnorderedList\")}},code:{icon:\"&lt;/&gt;\",title:\"Code\",result:function(){return f(l,\"<pre>\")}},line:{icon:\"&#8213;\",title:\"Horizontal Line\",result:function(){return f(\"insertHorizontalRule\")}},link:{icon:\"&#128279;\",title:\"Link\",result:function(){var t=window.prompt(\"Enter the link URL\");t&&f(\"createLink\",t)}},image:{icon:\"&#128247;\",title:\"Image\",result:function(){var t=window.prompt(\"Enter the image URL\");t&&f(\"insertImage\",t)}}},m={actionbar:\"pell-actionbar\",button:\"pell-button\",content:\"pell-content\",selected:\"pell-button-selected\"},r=function(n){var t=n.actions?n.actions.map(function(t){return\"string\"==typeof t?p[t]:p[t.name]?e({},p[t.name],t):t}):Object.keys(p).map(function(t){return p[t]}),r=e({},m,n.classes),i=n[c]||\"div\",o=d(\"div\");o.className=r.actionbar,s(n.element,o);var u=n.element.content=d(\"div\");return u.contentEditable=!0,u.className=r.content,u.oninput=function(t){var e=t.target.firstChild;e&&3===e.nodeType?f(l,\"<\"+i+\">\"):\"<br>\"===u.innerHTML&&(u.innerHTML=\"\"),n.onChange(u.innerHTML)},u.onkeydown=function(t){var e;\"Enter\"===t.key&&\"blockquote\"===(e=l,document.queryCommandValue(e))&&setTimeout(function(){return f(l,\"<\"+i+\">\")},0)},s(n.element,u),t.forEach(function(t){var e=d(\"button\");if(e.className=r.button,e.innerHTML=t.icon,e.title=t.title,e.setAttribute(\"type\",\"button\"),e.onclick=function(){return t.result()&&u.focus()},t.state){var n=function(){return e.classList[t.state()?\"add\":\"remove\"](r.selected)};a(u,\"keyup\",n),a(u,\"mouseup\",n),a(e,\"click\",n)}s(o,e)}),n.styleWithCSS&&f(\"styleWithCSS\"),f(c,i),n.element},i={exec:f,init:r};t.exec=f,t.init=r,t.default=i,Object.defineProperty(t,\"__esModule\",{value:!0})});\n",";/*! showdown v 1.9.1 - 02-11-2019 */\r\n(function(){\r\n/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n\r\n/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n\r\n/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return '¨E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof console === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n\r\n/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use ¨ trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(/¨/g, '¨T');\n\n    // Replace $ with ¨D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, '¨D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/¨D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/¨T/g, '¨');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>¨NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n\r\n// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/¨0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '¨0');\n      pre = pre.replace(/¨0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=¨0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof text === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, '¨A¨B');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/¨A/g, '    ');  // g_tab_width\n  text = text.replace(/¨B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '…');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '¨0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n\r\nshowdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"¨KxK\" where x is its key)\n    blockText = '\\n\\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n\r\nshowdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/¨C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('¨C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '')\n        .replace(/¨T/g, '')\n        .replace(/¨D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^¨~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '&')\n        .replace(/¨T/g, '¨')\n        .replace(/¨D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '¨0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!¨0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (¨A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return '¨A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (¨A)\n      item = item.replace('¨A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/¨0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '¨0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*«««+(\\S*?)\\n([\\s\\S]+?)\\n»»»+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/¨M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/¨0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/¨(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/¨(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?¨(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n\r\n/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\n¨K/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n\r\n/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=¨0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=¨0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return text;\n});\n\r\nshowdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|¨0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|¨0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|¨0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/¨E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n\r\nshowdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n\r\nshowdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n\r\nshowdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n\r\n\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n\r\nshowdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom ¨NBSP; with a space\n  txt = txt.replace(/¨NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n\r\nvar root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n}).call(this);\r\n\n//# sourceMappingURL=showdown.js.map\r\n","\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction Agent() {\n  this._defaults = [];\n}\n\n['use', 'on', 'once', 'set', 'query', 'type', 'accept', 'auth', 'withCredentials', 'sortQuery', 'retry', 'ok', 'redirects', 'timeout', 'buffer', 'serialize', 'parse', 'ca', 'key', 'pfx', 'cert', 'disableTLSCerts'].forEach(function (fn) {\n  // Default setting for all requests from this agent\n  Agent.prototype[fn] = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    this._defaults.push({\n      fn: fn,\n      args: args\n    });\n\n    return this;\n  };\n});\n\nAgent.prototype._setDefaults = function (req) {\n  this._defaults.forEach(function (def) {\n    req[def.fn].apply(req, _toConsumableArray(def.args));\n  });\n};\n\nmodule.exports = Agent;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hZ2VudC1iYXNlLmpzIl0sIm5hbWVzIjpbIkFnZW50IiwiX2RlZmF1bHRzIiwiZm9yRWFjaCIsImZuIiwicHJvdG90eXBlIiwiYXJncyIsInB1c2giLCJfc2V0RGVmYXVsdHMiLCJyZXEiLCJkZWYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsU0FBU0EsS0FBVCxHQUFpQjtBQUNmLE9BQUtDLFNBQUwsR0FBaUIsRUFBakI7QUFDRDs7QUFFRCxDQUNFLEtBREYsRUFFRSxJQUZGLEVBR0UsTUFIRixFQUlFLEtBSkYsRUFLRSxPQUxGLEVBTUUsTUFORixFQU9FLFFBUEYsRUFRRSxNQVJGLEVBU0UsaUJBVEYsRUFVRSxXQVZGLEVBV0UsT0FYRixFQVlFLElBWkYsRUFhRSxXQWJGLEVBY0UsU0FkRixFQWVFLFFBZkYsRUFnQkUsV0FoQkYsRUFpQkUsT0FqQkYsRUFrQkUsSUFsQkYsRUFtQkUsS0FuQkYsRUFvQkUsS0FwQkYsRUFxQkUsTUFyQkYsRUFzQkUsaUJBdEJGLEVBdUJFQyxPQXZCRixDQXVCVSxVQUFBQyxFQUFFLEVBQUk7QUFDZDtBQUNBSCxFQUFBQSxLQUFLLENBQUNJLFNBQU4sQ0FBZ0JELEVBQWhCLElBQXNCLFlBQWtCO0FBQUEsc0NBQU5FLElBQU07QUFBTkEsTUFBQUEsSUFBTTtBQUFBOztBQUN0QyxTQUFLSixTQUFMLENBQWVLLElBQWYsQ0FBb0I7QUFBRUgsTUFBQUEsRUFBRSxFQUFGQSxFQUFGO0FBQU1FLE1BQUFBLElBQUksRUFBSkE7QUFBTixLQUFwQjs7QUFDQSxXQUFPLElBQVA7QUFDRCxHQUhEO0FBSUQsQ0E3QkQ7O0FBK0JBTCxLQUFLLENBQUNJLFNBQU4sQ0FBZ0JHLFlBQWhCLEdBQStCLFVBQVNDLEdBQVQsRUFBYztBQUMzQyxPQUFLUCxTQUFMLENBQWVDLE9BQWYsQ0FBdUIsVUFBQU8sR0FBRyxFQUFJO0FBQzVCRCxJQUFBQSxHQUFHLENBQUNDLEdBQUcsQ0FBQ04sRUFBTCxDQUFILE9BQUFLLEdBQUcscUJBQVlDLEdBQUcsQ0FBQ0osSUFBaEIsRUFBSDtBQUNELEdBRkQ7QUFHRCxDQUpEOztBQU1BSyxNQUFNLENBQUNDLE9BQVAsR0FBaUJYLEtBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQWdlbnQoKSB7XG4gIHRoaXMuX2RlZmF1bHRzID0gW107XG59XG5cbltcbiAgJ3VzZScsXG4gICdvbicsXG4gICdvbmNlJyxcbiAgJ3NldCcsXG4gICdxdWVyeScsXG4gICd0eXBlJyxcbiAgJ2FjY2VwdCcsXG4gICdhdXRoJyxcbiAgJ3dpdGhDcmVkZW50aWFscycsXG4gICdzb3J0UXVlcnknLFxuICAncmV0cnknLFxuICAnb2snLFxuICAncmVkaXJlY3RzJyxcbiAgJ3RpbWVvdXQnLFxuICAnYnVmZmVyJyxcbiAgJ3NlcmlhbGl6ZScsXG4gICdwYXJzZScsXG4gICdjYScsXG4gICdrZXknLFxuICAncGZ4JyxcbiAgJ2NlcnQnLFxuICAnZGlzYWJsZVRMU0NlcnRzJ1xuXS5mb3JFYWNoKGZuID0+IHtcbiAgLy8gRGVmYXVsdCBzZXR0aW5nIGZvciBhbGwgcmVxdWVzdHMgZnJvbSB0aGlzIGFnZW50XG4gIEFnZW50LnByb3RvdHlwZVtmbl0gPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgdGhpcy5fZGVmYXVsdHMucHVzaCh7IGZuLCBhcmdzIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSk7XG5cbkFnZW50LnByb3RvdHlwZS5fc2V0RGVmYXVsdHMgPSBmdW5jdGlvbihyZXEpIHtcbiAgdGhpcy5fZGVmYXVsdHMuZm9yRWFjaChkZWYgPT4ge1xuICAgIHJlcVtkZWYuZm5dKC4uLmRlZi5hcmdzKTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFnZW50O1xuIl19","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Root reference for iframes.\n */\nvar root;\n\nif (typeof window !== 'undefined') {\n  // Browser window\n  root = window;\n} else if (typeof self === 'undefined') {\n  // Other environments\n  console.warn('Using browser-only version of superagent in non-browser environment');\n  root = void 0;\n} else {\n  // Web Worker\n  root = self;\n}\n\nvar Emitter = require('component-emitter');\n\nvar safeStringify = require('fast-safe-stringify');\n\nvar RequestBase = require('./request-base');\n\nvar isObject = require('./is-object');\n\nvar ResponseBase = require('./response-base');\n\nvar Agent = require('./agent-base');\n/**\n * Noop.\n */\n\n\nfunction noop() {}\n/**\n * Expose `request`.\n */\n\n\nmodule.exports = function (method, url) {\n  // callback\n  if (typeof url === 'function') {\n    return new exports.Request('GET', method).end(url);\n  } // url first\n\n\n  if (arguments.length === 1) {\n    return new exports.Request('GET', method);\n  }\n\n  return new exports.Request(method, url);\n};\n\nexports = module.exports;\nvar request = exports;\nexports.Request = Request;\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest && (!root.location || root.location.protocol !== 'file:' || !root.ActiveXObject)) {\n    return new XMLHttpRequest();\n  }\n\n  try {\n    return new ActiveXObject('Microsoft.XMLHTTP');\n  } catch (_unused) {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n  } catch (_unused2) {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n  } catch (_unused3) {}\n\n  try {\n    return new ActiveXObject('Msxml2.XMLHTTP');\n  } catch (_unused4) {}\n\n  throw new Error('Browser-only version of superagent could not find XHR');\n};\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\n\nvar trim = ''.trim ? function (s) {\n  return s.trim();\n} : function (s) {\n  return s.replace(/(^\\s*|\\s*$)/g, '');\n};\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) pushEncodedKeyValuePair(pairs, key, obj[key]);\n  }\n\n  return pairs.join('&');\n}\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (val === undefined) return;\n\n  if (val === null) {\n    pairs.push(encodeURI(key));\n    return;\n  }\n\n  if (Array.isArray(val)) {\n    val.forEach(function (v) {\n      pushEncodedKeyValuePair(pairs, key, v);\n    });\n  } else if (isObject(val)) {\n    for (var subkey in val) {\n      if (Object.prototype.hasOwnProperty.call(val, subkey)) pushEncodedKeyValuePair(pairs, \"\".concat(key, \"[\").concat(subkey, \"]\"), val[subkey]);\n    }\n  } else {\n    pairs.push(encodeURI(key) + '=' + encodeURIComponent(val));\n  }\n}\n/**\n * Expose serialization method.\n */\n\n\nrequest.serializeObject = serialize;\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var pair;\n  var pos;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    pos = pair.indexOf('=');\n\n    if (pos === -1) {\n      obj[decodeURIComponent(pair)] = '';\n    } else {\n      obj[decodeURIComponent(pair.slice(0, pos))] = decodeURIComponent(pair.slice(pos + 1));\n    }\n  }\n\n  return obj;\n}\n/**\n * Expose parser.\n */\n\n\nrequest.parseString = parseString;\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'text/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  form: 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': serialize,\n  'application/json': safeStringify\n};\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n\n    if (index === -1) {\n      // could be empty line, just skip it\n      continue;\n    }\n\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\n\nfunction isJSON(mime) {\n  // should match /json or +json\n  // but not /json-seq\n  return /[/+]json($|[^-\\w])/.test(mime);\n}\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\n\nfunction Response(req) {\n  this.req = req;\n  this.xhr = this.req.xhr; // responseText is accessible only if responseType is '' or 'text' and on older browsers\n\n  this.text = this.req.method !== 'HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text') || typeof this.xhr.responseType === 'undefined' ? this.xhr.responseText : null;\n  this.statusText = this.req.xhr.statusText;\n  var status = this.xhr.status; // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n\n  if (status === 1223) {\n    status = 204;\n  }\n\n  this._setStatusProperties(status);\n\n  this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  this.header = this.headers; // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n\n  this._setHeaderProperties(this.header);\n\n  if (this.text === null && req._responseType) {\n    this.body = this.xhr.response;\n  } else {\n    this.body = this.req.method === 'HEAD' ? null : this._parseBody(this.text ? this.text : this.xhr.response);\n  }\n} // eslint-disable-next-line new-cap\n\n\nResponseBase(Response.prototype);\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype._parseBody = function (str) {\n  var parse = request.parse[this.type];\n\n  if (this.req._parser) {\n    return this.req._parser(this, str);\n  }\n\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n\n  return parse && str && (str.length > 0 || str instanceof Object) ? parse(str) : null;\n};\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\n\nResponse.prototype.toError = function () {\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n  var msg = \"cannot \".concat(method, \" \").concat(url, \" (\").concat(this.status, \")\");\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n  return err;\n};\n/**\n * Expose `Response`.\n */\n\n\nrequest.Response = Response;\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n\n  this._header = {}; // coerces header names to lowercase\n\n  this.on('end', function () {\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch (err_) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = err_; // issue #675: return the raw response if the response parsing fails\n\n      if (self.xhr) {\n        // ie9 doesn't have 'response' property\n        err.rawResponse = typeof self.xhr.responseType === 'undefined' ? self.xhr.responseText : self.xhr.response; // issue #876: return the http status code if the response parsing fails\n\n        err.status = self.xhr.status ? self.xhr.status : null;\n        err.statusCode = err.status; // backwards-compat only\n      } else {\n        err.rawResponse = null;\n        err.status = null;\n      }\n\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n    var new_err;\n\n    try {\n      if (!self._isResponseOK(res)) {\n        new_err = new Error(res.statusText || res.text || 'Unsuccessful HTTP response');\n      }\n    } catch (err_) {\n      new_err = err_; // ok() callback can throw\n    } // #1000 don't catch errors from the callback to avoid double calling it\n\n\n    if (new_err) {\n      new_err.original = err;\n      new_err.response = res;\n      new_err.status = res.status;\n      self.callback(new_err, res);\n    } else {\n      self.callback(null, res);\n    }\n  });\n}\n/**\n * Mixin `Emitter` and `RequestBase`.\n */\n// eslint-disable-next-line new-cap\n\n\nEmitter(Request.prototype); // eslint-disable-next-line new-cap\n\nRequestBase(Request.prototype);\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function (type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.accept = function (type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} [pass] optional in case of using 'bearer' as type\n * @param {Object} options with 'type' property 'auto', 'basic' or 'bearer' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.auth = function (user, pass, options) {\n  if (arguments.length === 1) pass = '';\n\n  if (_typeof(pass) === 'object' && pass !== null) {\n    // pass is optional and can be replaced with options\n    options = pass;\n    pass = '';\n  }\n\n  if (!options) {\n    options = {\n      type: typeof btoa === 'function' ? 'basic' : 'auto'\n    };\n  }\n\n  var encoder = function encoder(string) {\n    if (typeof btoa === 'function') {\n      return btoa(string);\n    }\n\n    throw new Error('Cannot use basic auth, btoa is not a function');\n  };\n\n  return this._auth(user, pass, options, encoder);\n};\n/**\n * Add query-string `val`.\n *\n * Examples:\n *\n *   request.get('/shoes')\n *     .query('size=10')\n *     .query({ color: 'blue' })\n *\n * @param {Object|String} val\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.query = function (val) {\n  if (typeof val !== 'string') val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `options` (or filename).\n *\n * ``` js\n * request.post('/upload')\n *   .attach('content', new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String|Object} options\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.attach = function (field, file, options) {\n  if (file) {\n    if (this._data) {\n      throw new Error(\"superagent can't mix .send() and .attach()\");\n    }\n\n    this._getFormData().append(field, file, options || file.name);\n  }\n\n  return this;\n};\n\nRequest.prototype._getFormData = function () {\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n\n  return this._formData;\n};\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\n\nRequest.prototype.callback = function (err, res) {\n  if (this._shouldRetry(err, res)) {\n    return this._retry();\n  }\n\n  var fn = this._callback;\n  this.clearTimeout();\n\n  if (err) {\n    if (this._maxRetries) err.retries = this._retries - 1;\n    this.emit('error', err);\n  }\n\n  fn(err, res);\n};\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\n\nRequest.prototype.crossDomainError = function () {\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n  this.callback(err);\n}; // This only warns, because the request is still likely to work\n\n\nRequest.prototype.agent = function () {\n  console.warn('This is not supported in browser version of superagent');\n  return this;\n};\n\nRequest.prototype.ca = Request.prototype.agent;\nRequest.prototype.buffer = Request.prototype.ca; // This throws, because it can't send/receive data as expected\n\nRequest.prototype.write = function () {\n  throw new Error('Streaming is not supported in browser version of superagent');\n};\n\nRequest.prototype.pipe = Request.prototype.write;\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * @param {Object} obj host object\n * @return {Boolean} is a host object\n * @api private\n */\n\nRequest.prototype._isHost = function (obj) {\n  // Native objects stringify to [object File], [object Blob], [object FormData], etc.\n  return obj && _typeof(obj) === 'object' && !Array.isArray(obj) && Object.prototype.toString.call(obj) !== '[object Object]';\n};\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequest.prototype.end = function (fn) {\n  if (this._endCalled) {\n    console.warn('Warning: .end() was called twice. This is not supported in superagent');\n  }\n\n  this._endCalled = true; // store callback\n\n  this._callback = fn || noop; // querystring\n\n  this._finalizeQueryString();\n\n  this._end();\n};\n\nRequest.prototype._setUploadTimeout = function () {\n  var self = this; // upload timeout it's wokrs only if deadline timeout is off\n\n  if (this._uploadTimeout && !this._uploadTimeoutTimer) {\n    this._uploadTimeoutTimer = setTimeout(function () {\n      self._timeoutError('Upload timeout of ', self._uploadTimeout, 'ETIMEDOUT');\n    }, this._uploadTimeout);\n  }\n}; // eslint-disable-next-line complexity\n\n\nRequest.prototype._end = function () {\n  if (this._aborted) return this.callback(new Error('The request has been aborted even before .end() was called'));\n  var self = this;\n  this.xhr = request.getXHR();\n  var xhr = this.xhr;\n  var data = this._formData || this._data;\n\n  this._setTimeouts(); // state change\n\n\n  xhr.onreadystatechange = function () {\n    var readyState = xhr.readyState;\n\n    if (readyState >= 2 && self._responseTimeoutTimer) {\n      clearTimeout(self._responseTimeoutTimer);\n    }\n\n    if (readyState !== 4) {\n      return;\n    } // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n\n\n    var status;\n\n    try {\n      status = xhr.status;\n    } catch (_unused5) {\n      status = 0;\n    }\n\n    if (!status) {\n      if (self.timedout || self._aborted) return;\n      return self.crossDomainError();\n    }\n\n    self.emit('end');\n  }; // progress\n\n\n  var handleProgress = function handleProgress(direction, e) {\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n\n      if (e.percent === 100) {\n        clearTimeout(self._uploadTimeoutTimer);\n      }\n    }\n\n    e.direction = direction;\n    self.emit('progress', e);\n  };\n\n  if (this.hasListeners('progress')) {\n    try {\n      xhr.addEventListener('progress', handleProgress.bind(null, 'download'));\n\n      if (xhr.upload) {\n        xhr.upload.addEventListener('progress', handleProgress.bind(null, 'upload'));\n      }\n    } catch (_unused6) {// Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n      // Reported here:\n      // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n    }\n  }\n\n  if (xhr.upload) {\n    this._setUploadTimeout();\n  } // initiate request\n\n\n  try {\n    if (this.username && this.password) {\n      xhr.open(this.method, this.url, true, this.username, this.password);\n    } else {\n      xhr.open(this.method, this.url, true);\n    }\n  } catch (err) {\n    // see #1149\n    return this.callback(err);\n  } // CORS\n\n\n  if (this._withCredentials) xhr.withCredentials = true; // body\n\n  if (!this._formData && this.method !== 'GET' && this.method !== 'HEAD' && typeof data !== 'string' && !this._isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n\n    var _serialize = this._serializer || request.serialize[contentType ? contentType.split(';')[0] : ''];\n\n    if (!_serialize && isJSON(contentType)) {\n      _serialize = request.serialize['application/json'];\n    }\n\n    if (_serialize) data = _serialize(data);\n  } // set header fields\n\n\n  for (var field in this.header) {\n    if (this.header[field] === null) continue;\n    if (Object.prototype.hasOwnProperty.call(this.header, field)) xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  } // send stuff\n\n\n  this.emit('request', this); // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n\n  xhr.send(typeof data === 'undefined' ? null : data);\n};\n\nrequest.agent = function () {\n  return new Agent();\n};\n\n['GET', 'POST', 'OPTIONS', 'PATCH', 'PUT', 'DELETE'].forEach(function (method) {\n  Agent.prototype[method.toLowerCase()] = function (url, fn) {\n    var req = new request.Request(method, url);\n\n    this._setDefaults(req);\n\n    if (fn) {\n      req.end(fn);\n    }\n\n    return req;\n  };\n});\nAgent.prototype.del = Agent.prototype.delete;\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.get = function (url, data, fn) {\n  var req = request('GET', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.head = function (url, data, fn) {\n  var req = request('HEAD', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * OPTIONS query to `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.options = function (url, data, fn) {\n  var req = request('OPTIONS', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * DELETE `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nfunction del(url, data, fn) {\n  var req = request('DELETE', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n}\n\nrequest.del = del;\nrequest.delete = del;\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function (url, data, fn) {\n  var req = request('PATCH', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} [data]\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.post = function (url, data, fn) {\n  var req = request('POST', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} [data] or fn\n * @param {Function} [fn]\n * @return {Request}\n * @api public\n */\n\n\nrequest.put = function (url, data, fn) {\n  var req = request('PUT', url);\n\n  if (typeof data === 'function') {\n    fn = data;\n    data = null;\n  }\n\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQuanMiXSwibmFtZXMiOlsicm9vdCIsIndpbmRvdyIsInNlbGYiLCJjb25zb2xlIiwid2FybiIsIkVtaXR0ZXIiLCJyZXF1aXJlIiwic2FmZVN0cmluZ2lmeSIsIlJlcXVlc3RCYXNlIiwiaXNPYmplY3QiLCJSZXNwb25zZUJhc2UiLCJBZ2VudCIsIm5vb3AiLCJtb2R1bGUiLCJleHBvcnRzIiwibWV0aG9kIiwidXJsIiwiUmVxdWVzdCIsImVuZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlcXVlc3QiLCJnZXRYSFIiLCJYTUxIdHRwUmVxdWVzdCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJBY3RpdmVYT2JqZWN0IiwiRXJyb3IiLCJ0cmltIiwicyIsInJlcGxhY2UiLCJzZXJpYWxpemUiLCJvYmoiLCJwYWlycyIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInB1c2hFbmNvZGVkS2V5VmFsdWVQYWlyIiwiam9pbiIsInZhbCIsInVuZGVmaW5lZCIsInB1c2giLCJlbmNvZGVVUkkiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwidiIsInN1YmtleSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZU9iamVjdCIsInBhcnNlU3RyaW5nIiwic3RyIiwic3BsaXQiLCJwYWlyIiwicG9zIiwiaSIsImxlbiIsImluZGV4T2YiLCJkZWNvZGVVUklDb21wb25lbnQiLCJzbGljZSIsInR5cGVzIiwiaHRtbCIsImpzb24iLCJ4bWwiLCJ1cmxlbmNvZGVkIiwiZm9ybSIsInBhcnNlIiwiSlNPTiIsInBhcnNlSGVhZGVyIiwibGluZXMiLCJmaWVsZHMiLCJpbmRleCIsImxpbmUiLCJmaWVsZCIsInRvTG93ZXJDYXNlIiwiaXNKU09OIiwibWltZSIsInRlc3QiLCJSZXNwb25zZSIsInJlcSIsInhociIsInRleHQiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwic3RhdHVzIiwiX3NldFN0YXR1c1Byb3BlcnRpZXMiLCJoZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiaGVhZGVyIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJfc2V0SGVhZGVyUHJvcGVydGllcyIsIl9yZXNwb25zZVR5cGUiLCJib2R5IiwicmVzcG9uc2UiLCJfcGFyc2VCb2R5IiwidHlwZSIsIl9wYXJzZXIiLCJ0b0Vycm9yIiwibXNnIiwiZXJyIiwiX3F1ZXJ5IiwiX2hlYWRlciIsIm9uIiwicmVzIiwiZXJyXyIsIm9yaWdpbmFsIiwicmF3UmVzcG9uc2UiLCJzdGF0dXNDb2RlIiwiY2FsbGJhY2siLCJlbWl0IiwibmV3X2VyciIsIl9pc1Jlc3BvbnNlT0siLCJzZXQiLCJhY2NlcHQiLCJhdXRoIiwidXNlciIsInBhc3MiLCJvcHRpb25zIiwiYnRvYSIsImVuY29kZXIiLCJzdHJpbmciLCJfYXV0aCIsInF1ZXJ5IiwiYXR0YWNoIiwiZmlsZSIsIl9kYXRhIiwiX2dldEZvcm1EYXRhIiwiYXBwZW5kIiwibmFtZSIsIl9mb3JtRGF0YSIsIkZvcm1EYXRhIiwiX3Nob3VsZFJldHJ5IiwiX3JldHJ5IiwiZm4iLCJfY2FsbGJhY2siLCJjbGVhclRpbWVvdXQiLCJfbWF4UmV0cmllcyIsInJldHJpZXMiLCJfcmV0cmllcyIsImNyb3NzRG9tYWluRXJyb3IiLCJjcm9zc0RvbWFpbiIsImFnZW50IiwiY2EiLCJidWZmZXIiLCJ3cml0ZSIsInBpcGUiLCJfaXNIb3N0IiwidG9TdHJpbmciLCJfZW5kQ2FsbGVkIiwiX2ZpbmFsaXplUXVlcnlTdHJpbmciLCJfZW5kIiwiX3NldFVwbG9hZFRpbWVvdXQiLCJfdXBsb2FkVGltZW91dCIsIl91cGxvYWRUaW1lb3V0VGltZXIiLCJzZXRUaW1lb3V0IiwiX3RpbWVvdXRFcnJvciIsIl9hYm9ydGVkIiwiZGF0YSIsIl9zZXRUaW1lb3V0cyIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJfcmVzcG9uc2VUaW1lb3V0VGltZXIiLCJ0aW1lZG91dCIsImhhbmRsZVByb2dyZXNzIiwiZGlyZWN0aW9uIiwiZSIsInRvdGFsIiwicGVyY2VudCIsImxvYWRlZCIsImhhc0xpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwidXBsb2FkIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm9wZW4iLCJfd2l0aENyZWRlbnRpYWxzIiwid2l0aENyZWRlbnRpYWxzIiwiY29udGVudFR5cGUiLCJfc2VyaWFsaXplciIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiX3NldERlZmF1bHRzIiwiZGVsIiwiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsInBhdGNoIiwicG9zdCIsInB1dCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7QUFJQSxJQUFJQSxJQUFKOztBQUNBLElBQUksT0FBT0MsTUFBUCxLQUFrQixXQUF0QixFQUFtQztBQUNqQztBQUNBRCxFQUFBQSxJQUFJLEdBQUdDLE1BQVA7QUFDRCxDQUhELE1BR08sSUFBSSxPQUFPQyxJQUFQLEtBQWdCLFdBQXBCLEVBQWlDO0FBQ3RDO0FBQ0FDLEVBQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUNFLHFFQURGO0FBR0FKLEVBQUFBLElBQUksU0FBSjtBQUNELENBTk0sTUFNQTtBQUNMO0FBQ0FBLEVBQUFBLElBQUksR0FBR0UsSUFBUDtBQUNEOztBQUVELElBQU1HLE9BQU8sR0FBR0MsT0FBTyxDQUFDLG1CQUFELENBQXZCOztBQUNBLElBQU1DLGFBQWEsR0FBR0QsT0FBTyxDQUFDLHFCQUFELENBQTdCOztBQUNBLElBQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLGdCQUFELENBQTNCOztBQUNBLElBQU1HLFFBQVEsR0FBR0gsT0FBTyxDQUFDLGFBQUQsQ0FBeEI7O0FBQ0EsSUFBTUksWUFBWSxHQUFHSixPQUFPLENBQUMsaUJBQUQsQ0FBNUI7O0FBQ0EsSUFBTUssS0FBSyxHQUFHTCxPQUFPLENBQUMsY0FBRCxDQUFyQjtBQUVBOzs7OztBQUlBLFNBQVNNLElBQVQsR0FBZ0IsQ0FBRTtBQUVsQjs7Ozs7QUFJ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cmVuY2UgZm9yIGlmcmFtZXMuXG4gKi9cblxubGV0IHJvb3Q7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgLy8gQnJvd3NlciB3aW5kb3dcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIE90aGVyIGVudmlyb25tZW50c1xuICBjb25zb2xlLndhcm4oXG4gICAgJ1VzaW5nIGJyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQnXG4gICk7XG4gIHJvb3QgPSB0aGlzO1xufSBlbHNlIHtcbiAgLy8gV2ViIFdvcmtlclxuICByb290ID0gc2VsZjtcbn1cblxuY29uc3QgRW1pdHRlciA9IHJlcXVpcmUoJ2NvbXBvbmVudC1lbWl0dGVyJyk7XG5jb25zdCBzYWZlU3RyaW5naWZ5ID0gcmVxdWlyZSgnZmFzdC1zYWZlLXN0cmluZ2lmeScpO1xuY29uc3QgUmVxdWVzdEJhc2UgPSByZXF1aXJlKCcuL3JlcXVlc3QtYmFzZScpO1xuY29uc3QgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuY29uc3QgUmVzcG9uc2VCYXNlID0gcmVxdWlyZSgnLi9yZXNwb25zZS1iYXNlJyk7XG5jb25zdCBBZ2VudCA9IHJlcXVpcmUoJy4vYWdlbnQtYmFzZScpO1xuXG4vKipcbiAqIE5vb3AuXG4gKi9cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gIC8vIGNhbGxiYWNrXG4gIGlmICh0eXBlb2YgdXJsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG5ldyBleHBvcnRzLlJlcXVlc3QoJ0dFVCcsIG1ldGhvZCkuZW5kKHVybCk7XG4gIH1cblxuICAvLyB1cmwgZmlyc3RcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gbmV3IGV4cG9ydHMuUmVxdWVzdCgnR0VUJywgbWV0aG9kKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgZXhwb3J0cy5SZXF1ZXN0KG1ldGhvZCwgdXJsKTtcbn07XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cztcblxuY29uc3QgcmVxdWVzdCA9IGV4cG9ydHM7XG5cbmV4cG9ydHMuUmVxdWVzdCA9IFJlcXVlc3Q7XG5cbi8qKlxuICogRGV0ZXJtaW5lIFhIUi5cbiAqL1xuXG5yZXF1ZXN0LmdldFhIUiA9ICgpID0+IHtcbiAgaWYgKFxuICAgIHJvb3QuWE1MSHR0cFJlcXVlc3QgJiZcbiAgICAoIXJvb3QubG9jYXRpb24gfHxcbiAgICAgIHJvb3QubG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOicgfHxcbiAgICAgICFyb290LkFjdGl2ZVhPYmplY3QpXG4gICkge1xuICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MSFRUUCcpO1xuICB9IGNhdGNoIHt9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQLjYuMCcpO1xuICB9IGNhdGNoIHt9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQLjMuMCcpO1xuICB9IGNhdGNoIHt9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQJyk7XG4gIH0gY2F0Y2gge31cblxuICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXItb25seSB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQgY291bGQgbm90IGZpbmQgWEhSJyk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYWRkZWQgdG8gc3VwcG9ydCBJRS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuY29uc3QgdHJpbSA9ICcnLnRyaW0gPyBzID0+IHMudHJpbSgpIDogcyA9PiBzLnJlcGxhY2UoLyheXFxzKnxcXHMqJCkvZywgJycpO1xuXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgZ2l2ZW4gYG9iamAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplKG9iaikge1xuICBpZiAoIWlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gIGNvbnN0IHBhaXJzID0gW107XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKVxuICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgb2JqW2tleV0pO1xuICB9XG5cbiAgcmV0dXJuIHBhaXJzLmpvaW4oJyYnKTtcbn1cblxuLyoqXG4gKiBIZWxwcyAnc2VyaWFsaXplJyB3aXRoIHNlcmlhbGl6aW5nIGFycmF5cy5cbiAqIE11dGF0ZXMgdGhlIHBhaXJzIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqL1xuXG5mdW5jdGlvbiBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCB2YWwpIHtcbiAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICBwYWlycy5wdXNoKGVuY29kZVVSSShrZXkpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsLmZvckVhY2godiA9PiB7XG4gICAgICBwdXNoRW5jb2RlZEtleVZhbHVlUGFpcihwYWlycywga2V5LCB2KTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7XG4gICAgZm9yIChjb25zdCBzdWJrZXkgaW4gdmFsKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwgc3Via2V5KSlcbiAgICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGAke2tleX1bJHtzdWJrZXl9XWAsIHZhbFtzdWJrZXldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGFpcnMucHVzaChlbmNvZGVVUkkoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpKTtcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBzZXJpYWxpemF0aW9uIG1ldGhvZC5cbiAqL1xuXG5yZXF1ZXN0LnNlcmlhbGl6ZU9iamVjdCA9IHNlcmlhbGl6ZTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4geC13d3ctZm9ybS11cmxlbmNvZGVkIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nKHN0cikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3QgcGFpcnMgPSBzdHIuc3BsaXQoJyYnKTtcbiAgbGV0IHBhaXI7XG4gIGxldCBwb3M7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBvcyA9IHBhaXIuaW5kZXhPZignPScpO1xuICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIpXSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KHBhaXIuc2xpY2UoMCwgcG9zKSldID0gZGVjb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICBwYWlyLnNsaWNlKHBvcyArIDEpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogRXhwb3NlIHBhcnNlci5cbiAqL1xuXG5yZXF1ZXN0LnBhcnNlU3RyaW5nID0gcGFyc2VTdHJpbmc7XG5cbi8qKlxuICogRGVmYXVsdCBNSU1FIHR5cGUgbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnR5cGVzLnhtbCA9ICdhcHBsaWNhdGlvbi94bWwnO1xuICpcbiAqL1xuXG5yZXF1ZXN0LnR5cGVzID0ge1xuICBodG1sOiAndGV4dC9odG1sJyxcbiAganNvbjogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB4bWw6ICd0ZXh0L3htbCcsXG4gIHVybGVuY29kZWQ6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICBmb3JtOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgJ2Zvcm0tZGF0YSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG4vKipcbiAqIERlZmF1bHQgc2VyaWFsaXphdGlvbiBtYXAuXG4gKlxuICogICAgIHN1cGVyYWdlbnQuc2VyaWFsaXplWydhcHBsaWNhdGlvbi94bWwnXSA9IGZ1bmN0aW9uKG9iail7XG4gKiAgICAgICByZXR1cm4gJ2dlbmVyYXRlZCB4bWwgaGVyZSc7XG4gKiAgICAgfTtcbiAqXG4gKi9cblxucmVxdWVzdC5zZXJpYWxpemUgPSB7XG4gICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBzZXJpYWxpemUsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogc2FmZVN0cmluZ2lmeVxufTtcblxuLyoqXG4gKiBEZWZhdWx0IHBhcnNlcnMuXG4gKlxuICogICAgIHN1cGVyYWdlbnQucGFyc2VbJ2FwcGxpY2F0aW9uL3htbCddID0gZnVuY3Rpb24oc3RyKXtcbiAqICAgICAgIHJldHVybiB7IG9iamVjdCBwYXJzZWQgZnJvbSBzdHIgfTtcbiAqICAgICB9O1xuICpcbiAqL1xuXG5yZXF1ZXN0LnBhcnNlID0ge1xuICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJzogcGFyc2VTdHJpbmcsXG4gICdhcHBsaWNhdGlvbi9qc29uJzogSlNPTi5wYXJzZVxufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIGBzdHJgIGludG9cbiAqIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXBwZWQgZmllbGRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVyKHN0cikge1xuICBjb25zdCBsaW5lcyA9IHN0ci5zcGxpdCgvXFxyP1xcbi8pO1xuICBjb25zdCBmaWVsZHMgPSB7fTtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGluZTtcbiAgbGV0IGZpZWxkO1xuICBsZXQgdmFsO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGxpbmUgPSBsaW5lc1tpXTtcbiAgICBpbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIGNvdWxkIGJlIGVtcHR5IGxpbmUsIGp1c3Qgc2tpcCBpdFxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgZmllbGQgPSBsaW5lLnNsaWNlKDAsIGluZGV4KS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zbGljZShpbmRleCArIDEpKTtcbiAgICBmaWVsZHNbZmllbGRdID0gdmFsO1xuICB9XG5cbiAgcmV0dXJuIGZpZWxkcztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBgbWltZWAgaXMganNvbiBvciBoYXMgK2pzb24gc3RydWN0dXJlZCBzeW50YXggc3VmZml4LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtaW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gaXNKU09OKG1pbWUpIHtcbiAgLy8gc2hvdWxkIG1hdGNoIC9qc29uIG9yICtqc29uXG4gIC8vIGJ1dCBub3QgL2pzb24tc2VxXG4gIHJldHVybiAvWy8rXWpzb24oJHxbXi1cXHddKS8udGVzdChtaW1lKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXNwb25zZWAgd2l0aCB0aGUgZ2l2ZW4gYHhocmAuXG4gKlxuICogIC0gc2V0IGZsYWdzICgub2ssIC5lcnJvciwgZXRjKVxuICogIC0gcGFyc2UgaGVhZGVyXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogIEFsaWFzaW5nIGBzdXBlcmFnZW50YCBhcyBgcmVxdWVzdGAgaXMgbmljZTpcbiAqXG4gKiAgICAgIHJlcXVlc3QgPSBzdXBlcmFnZW50O1xuICpcbiAqICBXZSBjYW4gdXNlIHRoZSBwcm9taXNlLWxpa2UgQVBJLCBvciBwYXNzIGNhbGxiYWNrczpcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvJykuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvJywgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgU2VuZGluZyBkYXRhIGNhbiBiZSBjaGFpbmVkOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBPciBwYXNzZWQgdG8gYC5zZW5kKClgOlxuICpcbiAqICAgICAgcmVxdWVzdFxuICogICAgICAgIC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnBvc3QoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgLmVuZChmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqIE9yIGZ1cnRoZXIgcmVkdWNlZCB0byBhIHNpbmdsZSBjYWxsIGZvciBzaW1wbGUgY2FzZXM6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJywgeyBuYW1lOiAndGonIH0sIGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogQHBhcmFtIHtYTUxIVFRQUmVxdWVzdH0geGhyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gUmVzcG9uc2UocmVxKSB7XG4gIHRoaXMucmVxID0gcmVxO1xuICB0aGlzLnhociA9IHRoaXMucmVxLnhocjtcbiAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICB0aGlzLnRleHQgPVxuICAgICh0aGlzLnJlcS5tZXRob2QgIT09ICdIRUFEJyAmJlxuICAgICAgKHRoaXMueGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgdGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcpKSB8fFxuICAgIHR5cGVvZiB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnXG4gICAgICA/IHRoaXMueGhyLnJlc3BvbnNlVGV4dFxuICAgICAgOiBudWxsO1xuICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLnJlcS54aHIuc3RhdHVzVGV4dDtcbiAgbGV0IHsgc3RhdHVzIH0gPSB0aGlzLnhocjtcbiAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICBpZiAoc3RhdHVzID09PSAxMjIzKSB7XG4gICAgc3RhdHVzID0gMjA0O1xuICB9XG5cbiAgdGhpcy5fc2V0U3RhdHVzUHJvcGVydGllcyhzdGF0dXMpO1xuICB0aGlzLmhlYWRlcnMgPSBwYXJzZUhlYWRlcih0aGlzLnhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gIHRoaXMuaGVhZGVyID0gdGhpcy5oZWFkZXJzO1xuICAvLyBnZXRBbGxSZXNwb25zZUhlYWRlcnMgc29tZXRpbWVzIGZhbHNlbHkgcmV0dXJucyBcIlwiIGZvciBDT1JTIHJlcXVlc3RzLCBidXRcbiAgLy8gZ2V0UmVzcG9uc2VIZWFkZXIgc3RpbGwgd29ya3MuIHNvIHdlIGdldCBjb250ZW50LXR5cGUgZXZlbiBpZiBnZXR0aW5nXG4gIC8vIG90aGVyIGhlYWRlcnMgZmFpbHMuXG4gIHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcbiAgdGhpcy5fc2V0SGVhZGVyUHJvcGVydGllcyh0aGlzLmhlYWRlcik7XG5cbiAgaWYgKHRoaXMudGV4dCA9PT0gbnVsbCAmJiByZXEuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHRoaXMuYm9keSA9IHRoaXMueGhyLnJlc3BvbnNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYm9keSA9XG4gICAgICB0aGlzLnJlcS5tZXRob2QgPT09ICdIRUFEJ1xuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB0aGlzLl9wYXJzZUJvZHkodGhpcy50ZXh0ID8gdGhpcy50ZXh0IDogdGhpcy54aHIucmVzcG9uc2UpO1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG5SZXNwb25zZUJhc2UoUmVzcG9uc2UucHJvdG90eXBlKTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYm9keSBgc3RyYC5cbiAqXG4gKiBVc2VkIGZvciBhdXRvLXBhcnNpbmcgb2YgYm9kaWVzLiBQYXJzZXJzXG4gKiBhcmUgZGVmaW5lZCBvbiB0aGUgYHN1cGVyYWdlbnQucGFyc2VgIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5fcGFyc2VCb2R5ID0gZnVuY3Rpb24oc3RyKSB7XG4gIGxldCBwYXJzZSA9IHJlcXVlc3QucGFyc2VbdGhpcy50eXBlXTtcbiAgaWYgKHRoaXMucmVxLl9wYXJzZXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZXEuX3BhcnNlcih0aGlzLCBzdHIpO1xuICB9XG5cbiAgaWYgKCFwYXJzZSAmJiBpc0pTT04odGhpcy50eXBlKSkge1xuICAgIHBhcnNlID0gcmVxdWVzdC5wYXJzZVsnYXBwbGljYXRpb24vanNvbiddO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlICYmIHN0ciAmJiAoc3RyLmxlbmd0aCA+IDAgfHwgc3RyIGluc3RhbmNlb2YgT2JqZWN0KVxuICAgID8gcGFyc2Uoc3RyKVxuICAgIDogbnVsbDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGBFcnJvcmAgcmVwcmVzZW50YXRpdmUgb2YgdGhpcyByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLnRvRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgeyByZXEgfSA9IHRoaXM7XG4gIGNvbnN0IHsgbWV0aG9kIH0gPSByZXE7XG4gIGNvbnN0IHsgdXJsIH0gPSByZXE7XG5cbiAgY29uc3QgbXNnID0gYGNhbm5vdCAke21ldGhvZH0gJHt1cmx9ICgke3RoaXMuc3RhdHVzfSlgO1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuICBlcnIubWV0aG9kID0gbWV0aG9kO1xuICBlcnIudXJsID0gdXJsO1xuXG4gIHJldHVybiBlcnI7XG59O1xuXG4vKipcbiAqIEV4cG9zZSBgUmVzcG9uc2VgLlxuICovXG5cbnJlcXVlc3QuUmVzcG9uc2UgPSBSZXNwb25zZTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXF1ZXN0YCB3aXRoIHRoZSBnaXZlbiBgbWV0aG9kYCBhbmQgYHVybGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLl9xdWVyeSA9IHRoaXMuX3F1ZXJ5IHx8IFtdO1xuICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIHRoaXMuaGVhZGVyID0ge307IC8vIHByZXNlcnZlcyBoZWFkZXIgbmFtZSBjYXNlXG4gIHRoaXMuX2hlYWRlciA9IHt9OyAvLyBjb2VyY2VzIGhlYWRlciBuYW1lcyB0byBsb3dlcmNhc2VcbiAgdGhpcy5vbignZW5kJywgKCkgPT4ge1xuICAgIGxldCBlcnIgPSBudWxsO1xuICAgIGxldCByZXMgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IG5ldyBSZXNwb25zZShzZWxmKTtcbiAgICB9IGNhdGNoIChlcnJfKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoJ1BhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlJyk7XG4gICAgICBlcnIucGFyc2UgPSB0cnVlO1xuICAgICAgZXJyLm9yaWdpbmFsID0gZXJyXztcbiAgICAgIC8vIGlzc3VlICM2NzU6IHJldHVybiB0aGUgcmF3IHJlc3BvbnNlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBpZiAoc2VsZi54aHIpIHtcbiAgICAgICAgLy8gaWU5IGRvZXNuJ3QgaGF2ZSAncmVzcG9uc2UnIHByb3BlcnR5XG4gICAgICAgIGVyci5yYXdSZXNwb25zZSA9XG4gICAgICAgICAgdHlwZW9mIHNlbGYueGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gc2VsZi54aHIucmVzcG9uc2VUZXh0XG4gICAgICAgICAgICA6IHNlbGYueGhyLnJlc3BvbnNlO1xuICAgICAgICAvLyBpc3N1ZSAjODc2OiByZXR1cm4gdGhlIGh0dHAgc3RhdHVzIGNvZGUgaWYgdGhlIHJlc3BvbnNlIHBhcnNpbmcgZmFpbHNcbiAgICAgICAgZXJyLnN0YXR1cyA9IHNlbGYueGhyLnN0YXR1cyA/IHNlbGYueGhyLnN0YXR1cyA6IG51bGw7XG4gICAgICAgIGVyci5zdGF0dXNDb2RlID0gZXJyLnN0YXR1czsgLy8gYmFja3dhcmRzLWNvbXBhdCBvbmx5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnIucmF3UmVzcG9uc2UgPSBudWxsO1xuICAgICAgICBlcnIuc3RhdHVzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuY2FsbGJhY2soZXJyKTtcbiAgICB9XG5cbiAgICBzZWxmLmVtaXQoJ3Jlc3BvbnNlJywgcmVzKTtcblxuICAgIGxldCBuZXdfZXJyO1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXNlbGYuX2lzUmVzcG9uc2VPSyhyZXMpKSB7XG4gICAgICAgIG5ld19lcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgcmVzLnN0YXR1c1RleHQgfHwgcmVzLnRleHQgfHwgJ1Vuc3VjY2Vzc2Z1bCBIVFRQIHJlc3BvbnNlJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycl8pIHtcbiAgICAgIG5ld19lcnIgPSBlcnJfOyAvLyBvaygpIGNhbGxiYWNrIGNhbiB0aHJvd1xuICAgIH1cblxuICAgIC8vICMxMDAwIGRvbid0IGNhdGNoIGVycm9ycyBmcm9tIHRoZSBjYWxsYmFjayB0byBhdm9pZCBkb3VibGUgY2FsbGluZyBpdFxuICAgIGlmIChuZXdfZXJyKSB7XG4gICAgICBuZXdfZXJyLm9yaWdpbmFsID0gZXJyO1xuICAgICAgbmV3X2Vyci5yZXNwb25zZSA9IHJlcztcbiAgICAgIG5ld19lcnIuc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgIHNlbGYuY2FsbGJhY2sobmV3X2VyciwgcmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5jYWxsYmFjayhudWxsLCByZXMpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTWl4aW4gYEVtaXR0ZXJgIGFuZCBgUmVxdWVzdEJhc2VgLlxuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG5FbWl0dGVyKFJlcXVlc3QucHJvdG90eXBlKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG5SZXF1ZXN0QmFzZShSZXF1ZXN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogU2V0IENvbnRlbnQtVHlwZSB0byBgdHlwZWAsIG1hcHBpbmcgdmFsdWVzIGZyb20gYHJlcXVlc3QudHlwZXNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5wb3N0KCcvJylcbiAqICAgICAgICAudHlwZSgnYXBwbGljYXRpb24veG1sJylcbiAqICAgICAgICAuc2VuZCh4bWxzdHJpbmcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24odHlwZSkge1xuICB0aGlzLnNldCgnQ29udGVudC1UeXBlJywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBBY2NlcHQgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMuanNvbiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy9hZ2VudCcpXG4gKiAgICAgICAgLmFjY2VwdCgnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFjY2VwdFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmFjY2VwdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdGhpcy5zZXQoJ0FjY2VwdCcsIHJlcXVlc3QudHlwZXNbdHlwZV0gfHwgdHlwZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgQXV0aG9yaXphdGlvbiBmaWVsZCB2YWx1ZSB3aXRoIGB1c2VyYCBhbmQgYHBhc3NgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gW3Bhc3NdIG9wdGlvbmFsIGluIGNhc2Ugb2YgdXNpbmcgJ2JlYXJlcicgYXMgdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgd2l0aCAndHlwZScgcHJvcGVydHkgJ2F1dG8nLCAnYmFzaWMnIG9yICdiZWFyZXInIChkZWZhdWx0ICdiYXNpYycpXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYXV0aCA9IGZ1bmN0aW9uKHVzZXIsIHBhc3MsIG9wdGlvbnMpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHBhc3MgPSAnJztcbiAgaWYgKHR5cGVvZiBwYXNzID09PSAnb2JqZWN0JyAmJiBwYXNzICE9PSBudWxsKSB7XG4gICAgLy8gcGFzcyBpcyBvcHRpb25hbCBhbmQgY2FuIGJlIHJlcGxhY2VkIHdpdGggb3B0aW9uc1xuICAgIG9wdGlvbnMgPSBwYXNzO1xuICAgIHBhc3MgPSAnJztcbiAgfVxuXG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICB0eXBlOiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJyA/ICdiYXNpYycgOiAnYXV0bydcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgZW5jb2RlciA9IHN0cmluZyA9PiB7XG4gICAgaWYgKHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYnRvYShzdHJpbmcpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHVzZSBiYXNpYyBhdXRoLCBidG9hIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH07XG5cbiAgcmV0dXJuIHRoaXMuX2F1dGgodXNlciwgcGFzcywgb3B0aW9ucywgZW5jb2Rlcik7XG59O1xuXG4vKipcbiAqIEFkZCBxdWVyeS1zdHJpbmcgYHZhbGAuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICByZXF1ZXN0LmdldCgnL3Nob2VzJylcbiAqICAgICAucXVlcnkoJ3NpemU9MTAnKVxuICogICAgIC5xdWVyeSh7IGNvbG9yOiAnYmx1ZScgfSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZhbFxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24odmFsKSB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnc3RyaW5nJykgdmFsID0gc2VyaWFsaXplKHZhbCk7XG4gIGlmICh2YWwpIHRoaXMuX3F1ZXJ5LnB1c2godmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFF1ZXVlIHRoZSBnaXZlbiBgZmlsZWAgYXMgYW4gYXR0YWNobWVudCB0byB0aGUgc3BlY2lmaWVkIGBmaWVsZGAsXG4gKiB3aXRoIG9wdGlvbmFsIGBvcHRpb25zYCAob3IgZmlsZW5hbWUpLlxuICpcbiAqIGBgYCBqc1xuICogcmVxdWVzdC5wb3N0KCcvdXBsb2FkJylcbiAqICAgLmF0dGFjaCgnY29udGVudCcsIG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtCbG9ifEZpbGV9IGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKGZpZWxkLCBmaWxlLCBvcHRpb25zKSB7XG4gIGlmIChmaWxlKSB7XG4gICAgaWYgKHRoaXMuX2RhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInN1cGVyYWdlbnQgY2FuJ3QgbWl4IC5zZW5kKCkgYW5kIC5hdHRhY2goKVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nZXRGb3JtRGF0YSgpLmFwcGVuZChmaWVsZCwgZmlsZSwgb3B0aW9ucyB8fCBmaWxlLm5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5fZ2V0Rm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSkge1xuICAgIHRoaXMuX2Zvcm1EYXRhID0gbmV3IHJvb3QuRm9ybURhdGEoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9mb3JtRGF0YTtcbn07XG5cbi8qKlxuICogSW52b2tlIHRoZSBjYWxsYmFjayB3aXRoIGBlcnJgIGFuZCBgcmVzYFxuICogYW5kIGhhbmRsZSBhcml0eSBjaGVjay5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY2FsbGJhY2sgPSBmdW5jdGlvbihlcnIsIHJlcykge1xuICBpZiAodGhpcy5fc2hvdWxkUmV0cnkoZXJyLCByZXMpKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JldHJ5KCk7XG4gIH1cblxuICBjb25zdCBmbiA9IHRoaXMuX2NhbGxiYWNrO1xuICB0aGlzLmNsZWFyVGltZW91dCgpO1xuXG4gIGlmIChlcnIpIHtcbiAgICBpZiAodGhpcy5fbWF4UmV0cmllcykgZXJyLnJldHJpZXMgPSB0aGlzLl9yZXRyaWVzIC0gMTtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxuXG4gIGZuKGVyciwgcmVzKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggeC1kb21haW4gZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY3Jvc3NEb21haW5FcnJvciA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nXG4gICk7XG4gIGVyci5jcm9zc0RvbWFpbiA9IHRydWU7XG5cbiAgZXJyLnN0YXR1cyA9IHRoaXMuc3RhdHVzO1xuICBlcnIubWV0aG9kID0gdGhpcy5tZXRob2Q7XG4gIGVyci51cmwgPSB0aGlzLnVybDtcblxuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG4vLyBUaGlzIG9ubHkgd2FybnMsIGJlY2F1c2UgdGhlIHJlcXVlc3QgaXMgc3RpbGwgbGlrZWx5IHRvIHdvcmtcblJlcXVlc3QucHJvdG90eXBlLmFnZW50ID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUud2FybignVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGluIGJyb3dzZXIgdmVyc2lvbiBvZiBzdXBlcmFnZW50Jyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuY2EgPSBSZXF1ZXN0LnByb3RvdHlwZS5hZ2VudDtcblJlcXVlc3QucHJvdG90eXBlLmJ1ZmZlciA9IFJlcXVlc3QucHJvdG90eXBlLmNhO1xuXG4vLyBUaGlzIHRocm93cywgYmVjYXVzZSBpdCBjYW4ndCBzZW5kL3JlY2VpdmUgZGF0YSBhcyBleHBlY3RlZFxuUmVxdWVzdC5wcm90b3R5cGUud3JpdGUgPSAoKSA9PiB7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAnU3RyZWFtaW5nIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYnJvd3NlciB2ZXJzaW9uIG9mIHN1cGVyYWdlbnQnXG4gICk7XG59O1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5waXBlID0gUmVxdWVzdC5wcm90b3R5cGUud3JpdGU7XG5cbi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYSBob3N0IG9iamVjdCxcbiAqIHdlIGRvbid0IHdhbnQgdG8gc2VyaWFsaXplIHRoZXNlIDopXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBob3N0IG9iamVjdFxuICogQHJldHVybiB7Qm9vbGVhbn0gaXMgYSBob3N0IG9iamVjdFxuICogQGFwaSBwcml2YXRlXG4gKi9cblJlcXVlc3QucHJvdG90eXBlLl9pc0hvc3QgPSBmdW5jdGlvbihvYmopIHtcbiAgLy8gTmF0aXZlIG9iamVjdHMgc3RyaW5naWZ5IHRvIFtvYmplY3QgRmlsZV0sIFtvYmplY3QgQmxvYl0sIFtvYmplY3QgRm9ybURhdGFdLCBldGMuXG4gIHJldHVybiAoXG4gICAgb2JqICYmXG4gICAgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiZcbiAgICAhQXJyYXkuaXNBcnJheShvYmopICYmXG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09ICdbb2JqZWN0IE9iamVjdF0nXG4gICk7XG59O1xuXG4vKipcbiAqIEluaXRpYXRlIHJlcXVlc3QsIGludm9raW5nIGNhbGxiYWNrIGBmbihyZXMpYFxuICogd2l0aCBhbiBpbnN0YW5jZW9mIGBSZXNwb25zZWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihmbikge1xuICBpZiAodGhpcy5fZW5kQ2FsbGVkKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ1dhcm5pbmc6IC5lbmQoKSB3YXMgY2FsbGVkIHR3aWNlLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gc3VwZXJhZ2VudCdcbiAgICApO1xuICB9XG5cbiAgdGhpcy5fZW5kQ2FsbGVkID0gdHJ1ZTtcblxuICAvLyBzdG9yZSBjYWxsYmFja1xuICB0aGlzLl9jYWxsYmFjayA9IGZuIHx8IG5vb3A7XG5cbiAgLy8gcXVlcnlzdHJpbmdcbiAgdGhpcy5fZmluYWxpemVRdWVyeVN0cmluZygpO1xuXG4gIHRoaXMuX2VuZCgpO1xufTtcblxuUmVxdWVzdC5wcm90b3R5cGUuX3NldFVwbG9hZFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgLy8gdXBsb2FkIHRpbWVvdXQgaXQncyB3b2tycyBvbmx5IGlmIGRlYWRsaW5lIHRpbWVvdXQgaXMgb2ZmXG4gIGlmICh0aGlzLl91cGxvYWRUaW1lb3V0ICYmICF0aGlzLl91cGxvYWRUaW1lb3V0VGltZXIpIHtcbiAgICB0aGlzLl91cGxvYWRUaW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNlbGYuX3RpbWVvdXRFcnJvcihcbiAgICAgICAgJ1VwbG9hZCB0aW1lb3V0IG9mICcsXG4gICAgICAgIHNlbGYuX3VwbG9hZFRpbWVvdXQsXG4gICAgICAgICdFVElNRURPVVQnXG4gICAgICApO1xuICAgIH0sIHRoaXMuX3VwbG9hZFRpbWVvdXQpO1xuICB9XG59O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuUmVxdWVzdC5wcm90b3R5cGUuX2VuZCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fYWJvcnRlZClcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFjayhcbiAgICAgIG5ldyBFcnJvcignVGhlIHJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZCBldmVuIGJlZm9yZSAuZW5kKCkgd2FzIGNhbGxlZCcpXG4gICAgKTtcblxuICBjb25zdCBzZWxmID0gdGhpcztcbiAgdGhpcy54aHIgPSByZXF1ZXN0LmdldFhIUigpO1xuICBjb25zdCB7IHhociB9ID0gdGhpcztcbiAgbGV0IGRhdGEgPSB0aGlzLl9mb3JtRGF0YSB8fCB0aGlzLl9kYXRhO1xuXG4gIHRoaXMuX3NldFRpbWVvdXRzKCk7XG5cbiAgLy8gc3RhdGUgY2hhbmdlXG4gIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZWFkeVN0YXRlIH0gPSB4aHI7XG4gICAgaWYgKHJlYWR5U3RhdGUgPj0gMiAmJiBzZWxmLl9yZXNwb25zZVRpbWVvdXRUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgICB9XG5cbiAgICBpZiAocmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEluIElFOSwgcmVhZHMgdG8gYW55IHByb3BlcnR5IChlLmcuIHN0YXR1cykgb2ZmIG9mIGFuIGFib3J0ZWQgWEhSIHdpbGxcbiAgICAvLyByZXN1bHQgaW4gdGhlIGVycm9yIFwiQ291bGQgbm90IGNvbXBsZXRlIHRoZSBvcGVyYXRpb24gZHVlIHRvIGVycm9yIGMwMGMwMjNmXCJcbiAgICBsZXQgc3RhdHVzO1xuICAgIHRyeSB7XG4gICAgICBzdGF0dXMgPSB4aHIuc3RhdHVzO1xuICAgIH0gY2F0Y2gge1xuICAgICAgc3RhdHVzID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXN0YXR1cykge1xuICAgICAgaWYgKHNlbGYudGltZWRvdXQgfHwgc2VsZi5fYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgcmV0dXJuIHNlbGYuY3Jvc3NEb21haW5FcnJvcigpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgnZW5kJyk7XG4gIH07XG5cbiAgLy8gcHJvZ3Jlc3NcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3MgPSAoZGlyZWN0aW9uLCBlKSA9PiB7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSAoZS5sb2FkZWQgLyBlLnRvdGFsKSAqIDEwMDtcblxuICAgICAgaWYgKGUucGVyY2VudCA9PT0gMTAwKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl91cGxvYWRUaW1lb3V0VGltZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGUuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHNlbGYuZW1pdCgncHJvZ3Jlc3MnLCBlKTtcbiAgfTtcblxuICBpZiAodGhpcy5oYXNMaXN0ZW5lcnMoJ3Byb2dyZXNzJykpIHtcbiAgICB0cnkge1xuICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgaGFuZGxlUHJvZ3Jlc3MuYmluZChudWxsLCAnZG93bmxvYWQnKSk7XG4gICAgICBpZiAoeGhyLnVwbG9hZCkge1xuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ3Byb2dyZXNzJyxcbiAgICAgICAgICBoYW5kbGVQcm9ncmVzcy5iaW5kKG51bGwsICd1cGxvYWQnKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gQWNjZXNzaW5nIHhoci51cGxvYWQgZmFpbHMgaW4gSUUgZnJvbSBhIHdlYiB3b3JrZXIsIHNvIGp1c3QgcHJldGVuZCBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvODM3MjQ1L3htbGh0dHByZXF1ZXN0LXVwbG9hZC10aHJvd3MtaW52YWxpZC1hcmd1bWVudC13aGVuLXVzZWQtZnJvbS13ZWItd29ya2VyLWNvbnRleHRcbiAgICB9XG4gIH1cblxuICBpZiAoeGhyLnVwbG9hZCkge1xuICAgIHRoaXMuX3NldFVwbG9hZFRpbWVvdXQoKTtcbiAgfVxuXG4gIC8vIGluaXRpYXRlIHJlcXVlc3RcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy51c2VybmFtZSAmJiB0aGlzLnBhc3N3b3JkKSB7XG4gICAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUsIHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gc2VlICMxMTQ5XG4gICAgcmV0dXJuIHRoaXMuY2FsbGJhY2soZXJyKTtcbiAgfVxuXG4gIC8vIENPUlNcbiAgaWYgKHRoaXMuX3dpdGhDcmVkZW50aWFscykgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG5cbiAgLy8gYm9keVxuICBpZiAoXG4gICAgIXRoaXMuX2Zvcm1EYXRhICYmXG4gICAgdGhpcy5tZXRob2QgIT09ICdHRVQnICYmXG4gICAgdGhpcy5tZXRob2QgIT09ICdIRUFEJyAmJlxuICAgIHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJyAmJlxuICAgICF0aGlzLl9pc0hvc3QoZGF0YSlcbiAgKSB7XG4gICAgLy8gc2VyaWFsaXplIHN0dWZmXG4gICAgY29uc3QgY29udGVudFR5cGUgPSB0aGlzLl9oZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICAgIGxldCBzZXJpYWxpemUgPVxuICAgICAgdGhpcy5fc2VyaWFsaXplciB8fFxuICAgICAgcmVxdWVzdC5zZXJpYWxpemVbY29udGVudFR5cGUgPyBjb250ZW50VHlwZS5zcGxpdCgnOycpWzBdIDogJyddO1xuICAgIGlmICghc2VyaWFsaXplICYmIGlzSlNPTihjb250ZW50VHlwZSkpIHtcbiAgICAgIHNlcmlhbGl6ZSA9IHJlcXVlc3Quc2VyaWFsaXplWydhcHBsaWNhdGlvbi9qc29uJ107XG4gICAgfVxuXG4gICAgaWYgKHNlcmlhbGl6ZSkgZGF0YSA9IHNlcmlhbGl6ZShkYXRhKTtcbiAgfVxuXG4gIC8vIHNldCBoZWFkZXIgZmllbGRzXG4gIGZvciAoY29uc3QgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAodGhpcy5oZWFkZXJbZmllbGRdID09PSBudWxsKSBjb250aW51ZTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5oZWFkZXIsIGZpZWxkKSlcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBkYXRhKTtcbn07XG5cbnJlcXVlc3QuYWdlbnQgPSAoKSA9PiBuZXcgQWdlbnQoKTtcblxuWydHRVQnLCAnUE9TVCcsICdPUFRJT05TJywgJ1BBVENIJywgJ1BVVCcsICdERUxFVEUnXS5mb3JFYWNoKG1ldGhvZCA9PiB7XG4gIEFnZW50LnByb3RvdHlwZVttZXRob2QudG9Mb3dlckNhc2UoKV0gPSBmdW5jdGlvbih1cmwsIGZuKSB7XG4gICAgY29uc3QgcmVxID0gbmV3IHJlcXVlc3QuUmVxdWVzdChtZXRob2QsIHVybCk7XG4gICAgdGhpcy5fc2V0RGVmYXVsdHMocmVxKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgIHJlcS5lbmQoZm4pO1xuICAgIH1cblxuICAgIHJldHVybiByZXE7XG4gIH07XG59KTtcblxuQWdlbnQucHJvdG90eXBlLmRlbCA9IEFnZW50LnByb3RvdHlwZS5kZWxldGU7XG5cbi8qKlxuICogR0VUIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5nZXQgPSAodXJsLCBkYXRhLCBmbikgPT4ge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdHRVQnLCB1cmwpO1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmbiA9IGRhdGE7XG4gICAgZGF0YSA9IG51bGw7XG4gIH1cblxuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBIRUFEIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IFtkYXRhXSBvciBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5oZWFkID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnSEVBRCcsIHVybCk7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZuID0gZGF0YTtcbiAgICBkYXRhID0gbnVsbDtcbiAgfVxuXG4gIGlmIChkYXRhKSByZXEucXVlcnkoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIE9QVElPTlMgcXVlcnkgdG8gYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZHxGdW5jdGlvbn0gW2RhdGFdIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0Lm9wdGlvbnMgPSAodXJsLCBkYXRhLCBmbikgPT4ge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdPUFRJT05TJywgdXJsKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBERUxFVEUgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfSBbZGF0YV1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlbCh1cmwsIGRhdGEsIGZuKSB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ0RFTEVURScsIHVybCk7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZuID0gZGF0YTtcbiAgICBkYXRhID0gbnVsbDtcbiAgfVxuXG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn1cblxucmVxdWVzdC5kZWwgPSBkZWw7XG5yZXF1ZXN0LmRlbGV0ZSA9IGRlbDtcblxuLyoqXG4gKiBQQVRDSCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IFtkYXRhXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZuXVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wYXRjaCA9ICh1cmwsIGRhdGEsIGZuKSA9PiB7XG4gIGNvbnN0IHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBQT1NUIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gW2RhdGFdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnBvc3QgPSAodXJsLCBkYXRhLCBmbikgPT4ge1xuICBjb25zdCByZXEgPSByZXF1ZXN0KCdQT1NUJywgdXJsKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBQVVQgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBbZGF0YV0gb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtmbl1cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucHV0ID0gKHVybCwgZGF0YSwgZm4pID0+IHtcbiAgY29uc3QgcmVxID0gcmVxdWVzdCgnUFVUJywgdXJsKTtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSBudWxsO1xuICB9XG5cbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcbiJdfQ==","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\nfunction isObject(obj) {\n  return obj !== null && _typeof(obj) === 'object';\n}\n\nmodule.exports = isObject;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pcy1vYmplY3QuanMiXSwibmFtZXMiOlsiaXNPYmplY3QiLCJvYmoiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7QUFRQSxTQUFTQSxRQUFULENBQWtCQyxHQUFsQixFQUF1QjtBQUNyQixTQUFPQSxHQUFHLEtBQUssSUFBUixJQUFnQixRQUFPQSxHQUFQLE1BQWUsUUFBdEM7QUFDRDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCSCxRQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2sgaWYgYG9iamAgaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiJdfQ==","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = require('./is-object');\n/**\n * Expose `RequestBase`.\n */\n\n\nmodule.exports = RequestBase;\n/**\n * Initialize a new `RequestBase`.\n *\n * @api public\n */\n\nfunction RequestBase(obj) {\n  if (obj) return mixin(obj);\n}\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\n\nfunction mixin(obj) {\n  for (var key in RequestBase.prototype) {\n    if (Object.prototype.hasOwnProperty.call(RequestBase.prototype, key)) obj[key] = RequestBase.prototype[key];\n  }\n\n  return obj;\n}\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.clearTimeout = function () {\n  clearTimeout(this._timer);\n  clearTimeout(this._responseTimeoutTimer);\n  clearTimeout(this._uploadTimeoutTimer);\n  delete this._timer;\n  delete this._responseTimeoutTimer;\n  delete this._uploadTimeoutTimer;\n  return this;\n};\n/**\n * Override default response body parser\n *\n * This function will be called to convert incoming data into request.body\n *\n * @param {Function}\n * @api public\n */\n\n\nRequestBase.prototype.parse = function (fn) {\n  this._parser = fn;\n  return this;\n};\n/**\n * Set format of binary response body.\n * In browser valid formats are 'blob' and 'arraybuffer',\n * which return Blob and ArrayBuffer, respectively.\n *\n * In Node all values result in Buffer.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.responseType = function (val) {\n  this._responseType = val;\n  return this;\n};\n/**\n * Override default request body serializer\n *\n * This function will be called to convert data set via .send or .attach into payload to send\n *\n * @param {Function}\n * @api public\n */\n\n\nRequestBase.prototype.serialize = function (fn) {\n  this._serializer = fn;\n  return this;\n};\n/**\n * Set timeouts.\n *\n * - response timeout is time between sending request and receiving the first byte of the response. Includes DNS and connection time.\n * - deadline is the time from start of the request to receiving response body in full. If the deadline is too short large files may not load at all on slow connections.\n * - upload is the time  since last bit of data was sent or received. This timeout works only if deadline timeout is off\n *\n * Value of 0 or false means no timeout.\n *\n * @param {Number|Object} ms or {response, deadline}\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.timeout = function (options) {\n  if (!options || _typeof(options) !== 'object') {\n    this._timeout = options;\n    this._responseTimeout = 0;\n    this._uploadTimeout = 0;\n    return this;\n  }\n\n  for (var option in options) {\n    if (Object.prototype.hasOwnProperty.call(options, option)) {\n      switch (option) {\n        case 'deadline':\n          this._timeout = options.deadline;\n          break;\n\n        case 'response':\n          this._responseTimeout = options.response;\n          break;\n\n        case 'upload':\n          this._uploadTimeout = options.upload;\n          break;\n\n        default:\n          console.warn('Unknown timeout option', option);\n      }\n    }\n  }\n\n  return this;\n};\n/**\n * Set number of retry attempts on error.\n *\n * Failed requests will be retried 'count' times if timeout or err.code >= 500.\n *\n * @param {Number} count\n * @param {Function} [fn]\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.retry = function (count, fn) {\n  // Default to 1 if no count passed or true\n  if (arguments.length === 0 || count === true) count = 1;\n  if (count <= 0) count = 0;\n  this._maxRetries = count;\n  this._retries = 0;\n  this._retryCallback = fn;\n  return this;\n};\n\nvar ERROR_CODES = ['ECONNRESET', 'ETIMEDOUT', 'EADDRINFO', 'ESOCKETTIMEDOUT'];\n/**\n * Determine if a request should be retried.\n * (Borrowed from segmentio/superagent-retry)\n *\n * @param {Error} err an error\n * @param {Response} [res] response\n * @returns {Boolean} if segment should be retried\n */\n\nRequestBase.prototype._shouldRetry = function (err, res) {\n  if (!this._maxRetries || this._retries++ >= this._maxRetries) {\n    return false;\n  }\n\n  if (this._retryCallback) {\n    try {\n      var override = this._retryCallback(err, res);\n\n      if (override === true) return true;\n      if (override === false) return false; // undefined falls back to defaults\n    } catch (err_) {\n      console.error(err_);\n    }\n  }\n\n  if (res && res.status && res.status >= 500 && res.status !== 501) return true;\n\n  if (err) {\n    if (err.code && ERROR_CODES.includes(err.code)) return true; // Superagent timeout\n\n    if (err.timeout && err.code === 'ECONNABORTED') return true;\n    if (err.crossDomain) return true;\n  }\n\n  return false;\n};\n/**\n * Retry request\n *\n * @return {Request} for chaining\n * @api private\n */\n\n\nRequestBase.prototype._retry = function () {\n  this.clearTimeout(); // node\n\n  if (this.req) {\n    this.req = null;\n    this.req = this.request();\n  }\n\n  this._aborted = false;\n  this.timedout = false;\n  this.timedoutError = null;\n  return this._end();\n};\n/**\n * Promise support\n *\n * @param {Function} resolve\n * @param {Function} [reject]\n * @return {Request}\n */\n\n\nRequestBase.prototype.then = function (resolve, reject) {\n  var _this = this;\n\n  if (!this._fullfilledPromise) {\n    var self = this;\n\n    if (this._endCalled) {\n      console.warn('Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises');\n    }\n\n    this._fullfilledPromise = new Promise(function (resolve, reject) {\n      self.on('abort', function () {\n        if (_this.timedout && _this.timedoutError) {\n          reject(_this.timedoutError);\n          return;\n        }\n\n        var err = new Error('Aborted');\n        err.code = 'ABORTED';\n        err.status = _this.status;\n        err.method = _this.method;\n        err.url = _this.url;\n        reject(err);\n      });\n      self.end(function (err, res) {\n        if (err) reject(err);else resolve(res);\n      });\n    });\n  }\n\n  return this._fullfilledPromise.then(resolve, reject);\n};\n\nRequestBase.prototype.catch = function (cb) {\n  return this.then(undefined, cb);\n};\n/**\n * Allow for extension\n */\n\n\nRequestBase.prototype.use = function (fn) {\n  fn(this);\n  return this;\n};\n\nRequestBase.prototype.ok = function (cb) {\n  if (typeof cb !== 'function') throw new Error('Callback required');\n  this._okCallback = cb;\n  return this;\n};\n\nRequestBase.prototype._isResponseOK = function (res) {\n  if (!res) {\n    return false;\n  }\n\n  if (this._okCallback) {\n    return this._okCallback(res);\n  }\n\n  return res.status >= 200 && res.status < 300;\n};\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\n\nRequestBase.prototype.get = function (field) {\n  return this._header[field.toLowerCase()];\n};\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\n\nRequestBase.prototype.getHeader = RequestBase.prototype.get;\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequestBase.prototype.set = function (field, val) {\n  if (isObject(field)) {\n    for (var key in field) {\n      if (Object.prototype.hasOwnProperty.call(field, key)) this.set(key, field[key]);\n    }\n\n    return this;\n  }\n\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field field name\n */\n\n\nRequestBase.prototype.unset = function (field) {\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n/**\n * Write the field `name` and `val`, or multiple fields with one object\n * for \"multipart/form-data\" request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n *\n * request.post('/upload')\n *   .field({ foo: 'bar', baz: 'qux' })\n *   .end(callback);\n * ```\n *\n * @param {String|Object} name name of field\n * @param {String|Blob|File|Buffer|fs.ReadStream} val value of field\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.field = function (name, val) {\n  // name should be either a string or an object.\n  if (name === null || undefined === name) {\n    throw new Error('.field(name, val) name can not be empty');\n  }\n\n  if (this._data) {\n    throw new Error(\".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()\");\n  }\n\n  if (isObject(name)) {\n    for (var key in name) {\n      if (Object.prototype.hasOwnProperty.call(name, key)) this.field(key, name[key]);\n    }\n\n    return this;\n  }\n\n  if (Array.isArray(val)) {\n    for (var i in val) {\n      if (Object.prototype.hasOwnProperty.call(val, i)) this.field(name, val[i]);\n    }\n\n    return this;\n  } // val should be defined now\n\n\n  if (val === null || undefined === val) {\n    throw new Error('.field(name, val) val can not be empty');\n  }\n\n  if (typeof val === 'boolean') {\n    val = String(val);\n  }\n\n  this._getFormData().append(name, val);\n\n  return this;\n};\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request} request\n * @api public\n */\n\n\nRequestBase.prototype.abort = function () {\n  if (this._aborted) {\n    return this;\n  }\n\n  this._aborted = true;\n  if (this.xhr) this.xhr.abort(); // browser\n\n  if (this.req) this.req.abort(); // node\n\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\nRequestBase.prototype._auth = function (user, pass, options, base64Encoder) {\n  switch (options.type) {\n    case 'basic':\n      this.set('Authorization', \"Basic \".concat(base64Encoder(\"\".concat(user, \":\").concat(pass))));\n      break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n      break;\n\n    case 'bearer':\n      // usage would be .auth(accessToken, { type: 'bearer' })\n      this.set('Authorization', \"Bearer \".concat(user));\n      break;\n\n    default:\n      break;\n  }\n\n  return this;\n};\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\n\nRequestBase.prototype.withCredentials = function (on) {\n  // This is browser-only functionality. Node side is no-op.\n  if (on === undefined) on = true;\n  this._withCredentials = on;\n  return this;\n};\n/**\n * Set the max redirects to `n`. Does nothing in browser XHR implementation.\n *\n * @param {Number} n\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.redirects = function (n) {\n  this._maxRedirects = n;\n  return this;\n};\n/**\n * Maximum size of buffered response body, in bytes. Counts uncompressed size.\n * Default 200MB.\n *\n * @param {Number} n number of bytes\n * @return {Request} for chaining\n */\n\n\nRequestBase.prototype.maxResponseSize = function (n) {\n  if (typeof n !== 'number') {\n    throw new TypeError('Invalid argument');\n  }\n\n  this._maxResponseSize = n;\n  return this;\n};\n/**\n * Convert to a plain javascript object (not JSON string) of scalar properties.\n * Note as this method is designed to return a useful non-this value,\n * it cannot be chained.\n *\n * @return {Object} describing method, url, and data of this request\n * @api public\n */\n\n\nRequestBase.prototype.toJSON = function () {\n  return {\n    method: this.method,\n    url: this.url,\n    data: this._data,\n    headers: this._header\n  };\n};\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n *      request.post('/user')\n *        .send('name=tobi')\n *        .send('species=ferret')\n *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n// eslint-disable-next-line complexity\n\n\nRequestBase.prototype.send = function (data) {\n  var isObj = isObject(data);\n  var type = this._header['content-type'];\n\n  if (this._formData) {\n    throw new Error(\".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()\");\n  }\n\n  if (isObj && !this._data) {\n    if (Array.isArray(data)) {\n      this._data = [];\n    } else if (!this._isHost(data)) {\n      this._data = {};\n    }\n  } else if (data && this._data && this._isHost(this._data)) {\n    throw new Error(\"Can't merge these send calls\");\n  } // merge\n\n\n  if (isObj && isObject(this._data)) {\n    for (var key in data) {\n      if (Object.prototype.hasOwnProperty.call(data, key)) this._data[key] = data[key];\n    }\n  } else if (typeof data === 'string') {\n    // default to x-www-form-urlencoded\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n\n    if (type === 'application/x-www-form-urlencoded') {\n      this._data = this._data ? \"\".concat(this._data, \"&\").concat(data) : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!isObj || this._isHost(data)) {\n    return this;\n  } // default to json\n\n\n  if (!type) this.type('json');\n  return this;\n};\n/**\n * Sort `querystring` by the sort function\n *\n *\n * Examples:\n *\n *       // default order\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery()\n *         .end(callback)\n *\n *       // customized sort function\n *       request.get('/user')\n *         .query('name=Nick')\n *         .query('search=Manny')\n *         .sortQuery(function(a, b){\n *           return a.length - b.length;\n *         })\n *         .end(callback)\n *\n *\n * @param {Function} sort\n * @return {Request} for chaining\n * @api public\n */\n\n\nRequestBase.prototype.sortQuery = function (sort) {\n  // _sort default to true but otherwise can be a function or boolean\n  this._sort = typeof sort === 'undefined' ? true : sort;\n  return this;\n};\n/**\n * Compose querystring to append to req.url\n *\n * @api private\n */\n\n\nRequestBase.prototype._finalizeQueryString = function () {\n  var query = this._query.join('&');\n\n  if (query) {\n    this.url += (this.url.includes('?') ? '&' : '?') + query;\n  }\n\n  this._query.length = 0; // Makes the call idempotent\n\n  if (this._sort) {\n    var index = this.url.indexOf('?');\n\n    if (index >= 0) {\n      var queryArr = this.url.slice(index + 1).split('&');\n\n      if (typeof this._sort === 'function') {\n        queryArr.sort(this._sort);\n      } else {\n        queryArr.sort();\n      }\n\n      this.url = this.url.slice(0, index) + '?' + queryArr.join('&');\n    }\n  }\n}; // For backwards compat only\n\n\nRequestBase.prototype._appendQueryString = function () {\n  console.warn('Unsupported');\n};\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\n\nRequestBase.prototype._timeoutError = function (reason, timeout, errno) {\n  if (this._aborted) {\n    return;\n  }\n\n  var err = new Error(\"\".concat(reason + timeout, \"ms exceeded\"));\n  err.timeout = timeout;\n  err.code = 'ECONNABORTED';\n  err.errno = errno;\n  this.timedout = true;\n  this.timedoutError = err;\n  this.abort();\n  this.callback(err);\n};\n\nRequestBase.prototype._setTimeouts = function () {\n  var self = this; // deadline\n\n  if (this._timeout && !this._timer) {\n    this._timer = setTimeout(function () {\n      self._timeoutError('Timeout of ', self._timeout, 'ETIME');\n    }, this._timeout);\n  } // response timeout\n\n\n  if (this._responseTimeout && !this._responseTimeoutTimer) {\n    this._responseTimeoutTimer = setTimeout(function () {\n      self._timeoutError('Response timeout of ', self._responseTimeout, 'ETIMEDOUT');\n    }, this._responseTimeout);\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXF1ZXN0LWJhc2UuanMiXSwibmFtZXMiOlsiaXNPYmplY3QiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsIlJlcXVlc3RCYXNlIiwib2JqIiwibWl4aW4iLCJrZXkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjbGVhclRpbWVvdXQiLCJfdGltZXIiLCJfcmVzcG9uc2VUaW1lb3V0VGltZXIiLCJfdXBsb2FkVGltZW91dFRpbWVyIiwicGFyc2UiLCJmbiIsIl9wYXJzZXIiLCJyZXNwb25zZVR5cGUiLCJ2YWwiLCJfcmVzcG9uc2VUeXBlIiwic2VyaWFsaXplIiwiX3NlcmlhbGl6ZXIiLCJ0aW1lb3V0Iiwib3B0aW9ucyIsIl90aW1lb3V0IiwiX3Jlc3BvbnNlVGltZW91dCIsIl91cGxvYWRUaW1lb3V0Iiwib3B0aW9uIiwiZGVhZGxpbmUiLCJyZXNwb25zZSIsInVwbG9hZCIsImNvbnNvbGUiLCJ3YXJuIiwicmV0cnkiLCJjb3VudCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIl9tYXhSZXRyaWVzIiwiX3JldHJpZXMiLCJfcmV0cnlDYWxsYmFjayIsIkVSUk9SX0NPREVTIiwiX3Nob3VsZFJldHJ5IiwiZXJyIiwicmVzIiwib3ZlcnJpZGUiLCJlcnJfIiwiZXJyb3IiLCJzdGF0dXMiLCJjb2RlIiwiaW5jbHVkZXMiLCJjcm9zc0RvbWFpbiIsIl9yZXRyeSIsInJlcSIsInJlcXVlc3QiLCJfYWJvcnRlZCIsInRpbWVkb3V0IiwidGltZWRvdXRFcnJvciIsIl9lbmQiLCJ0aGVuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9mdWxsZmlsbGVkUHJvbWlzZSIsInNlbGYiLCJfZW5kQ2FsbGVkIiwiUHJvbWlzZSIsIm9uIiwiRXJyb3IiLCJtZXRob2QiLCJ1cmwiLCJlbmQiLCJjYXRjaCIsImNiIiwidW5kZWZpbmVkIiwidXNlIiwib2siLCJfb2tDYWxsYmFjayIsIl9pc1Jlc3BvbnNlT0siLCJnZXQiLCJmaWVsZCIsIl9oZWFkZXIiLCJ0b0xvd2VyQ2FzZSIsImdldEhlYWRlciIsInNldCIsImhlYWRlciIsInVuc2V0IiwibmFtZSIsIl9kYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsIlN0cmluZyIsIl9nZXRGb3JtRGF0YSIsImFwcGVuZCIsImFib3J0IiwieGhyIiwiZW1pdCIsIl9hdXRoIiwidXNlciIsInBhc3MiLCJiYXNlNjRFbmNvZGVyIiwidHlwZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJfd2l0aENyZWRlbnRpYWxzIiwicmVkaXJlY3RzIiwibiIsIl9tYXhSZWRpcmVjdHMiLCJtYXhSZXNwb25zZVNpemUiLCJUeXBlRXJyb3IiLCJfbWF4UmVzcG9uc2VTaXplIiwidG9KU09OIiwiZGF0YSIsImhlYWRlcnMiLCJzZW5kIiwiaXNPYmoiLCJfZm9ybURhdGEiLCJfaXNIb3N0Iiwic29ydFF1ZXJ5Iiwic29ydCIsIl9zb3J0IiwiX2ZpbmFsaXplUXVlcnlTdHJpbmciLCJxdWVyeSIsIl9xdWVyeSIsImpvaW4iLCJpbmRleCIsImluZGV4T2YiLCJxdWVyeUFyciIsInNsaWNlIiwic3BsaXQiLCJfYXBwZW5kUXVlcnlTdHJpbmciLCJfdGltZW91dEVycm9yIiwicmVhc29uIiwiZXJybm8iLCJjYWxsYmFjayIsIl9zZXRUaW1lb3V0cyIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0FBR0EsSUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsYUFBRCxDQUF4QjtBQUVBOzs7OztBQUlBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJDLFdBQWpCO0FBRUE7Ozs7OztBQU1BLFNBQVNBLFdBQVQsQ0FBcUJDLEdBQXJCLEVBQTBCO0FBQ3hCLE1BQUlBLEdBQUosRUFBUyxPQUFPQyxLQUFLLENBQUNELEdBQUQsQ0FBWjtBQUNWO0FBRUQ7Ozs7Ozs7OztBQVFBLFNBQVNDLEtBQVQsQ0FBZUQsR0FBZixFQUFvQjtBQUNsQixPQUFLLElBQU1FLEdBQVgsSUFBa0JI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MEQ7QUFDeEQsU0FBS0EscUJBQUwsR0FBNkI0SCxVQUFVLENBQUMsWUFBTTtBQUM1QzFFLE1BQUFBLElBQUksQ0FBQ3FFLGFBQUwsQ0FDRSxzQkFERixFQUVFckUsSUFBSSxDQUFDckMsZ0JBRlAsRUFHRSxXQUhGO0FBS0QsS0FOc0MsRUFNcEMsS0FBS0EsZ0JBTitCLENBQXZDO0FBT0Q7QUFDRixDQXBCRCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTW9kdWxlIG9mIG1peGVkLWluIGZ1bmN0aW9ucyBzaGFyZWQgYmV0d2VlbiBub2RlIGFuZCBjbGllbnQgY29kZVxuICovXG5jb25zdCBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXMtb2JqZWN0Jyk7XG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0QmFzZWAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZXF1ZXN0QmFzZTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBSZXF1ZXN0QmFzZWAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXF1ZXN0QmFzZShvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG5cbi8qKlxuICogTWl4aW4gdGhlIHByb3RvdHlwZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKGNvbnN0IGtleSBpbiBSZXF1ZXN0QmFzZS5wcm90b3R5cGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFJlcXVlc3RCYXNlLnByb3RvdHlwZSwga2V5KSlcbiAgICAgIG9ialtrZXldID0gUmVxdWVzdEJhc2UucHJvdG90eXBlW2tleV07XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIENsZWFyIHByZXZpb3VzIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyKTtcbiAgY2xlYXJUaW1lb3V0KHRoaXMuX3VwbG9hZFRpbWVvdXRUaW1lcik7XG4gIGRlbGV0ZSB0aGlzLl90aW1lcjtcbiAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlVGltZW91dFRpbWVyO1xuICBkZWxldGUgdGhpcy5fdXBsb2FkVGltZW91dFRpbWVyO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgZGVmYXVsdCByZXNwb25zZSBib2R5IHBhcnNlclxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgdG8gY29udmVydCBpbmNvbWluZyBkYXRhIGludG8gcmVxdWVzdC5ib2R5XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5fcGFyc2VyID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgZm9ybWF0IG9mIGJpbmFyeSByZXNwb25zZSBib2R5LlxuICogSW4gYnJvd3NlciB2YWxpZCBmb3JtYXRzIGFyZSAnYmxvYicgYW5kICdhcnJheWJ1ZmZlcicsXG4gKiB3aGljaCByZXR1cm4gQmxvYiBhbmQgQXJyYXlCdWZmZXIsIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBJbiBOb2RlIGFsbCB2YWx1ZXMgcmVzdWx0IGluIEJ1ZmZlci5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5yZXNwb25zZVR5cGUoJ2Jsb2InKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUucmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odmFsKSB7XG4gIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE92ZXJyaWRlIGRlZmF1bHQgcmVxdWVzdCBib2R5IHNlcmlhbGl6ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGNvbnZlcnQgZGF0YSBzZXQgdmlhIC5zZW5kIG9yIC5hdHRhY2ggaW50byBwYXlsb2FkIHRvIHNlbmRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5fc2VyaWFsaXplciA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRpbWVvdXRzLlxuICpcbiAqIC0gcmVzcG9uc2UgdGltZW91dCBpcyB0aW1lIGJldHdlZW4gc2VuZGluZyByZXF1ZXN0IGFuZCByZWNlaXZpbmcgdGhlIGZpcnN0IGJ5dGUgb2YgdGhlIHJlc3BvbnNlLiBJbmNsdWRlcyBETlMgYW5kIGNvbm5lY3Rpb24gdGltZS5cbiAqIC0gZGVhZGxpbmUgaXMgdGhlIHRpbWUgZnJvbSBzdGFydCBvZiB0aGUgcmVxdWVzdCB0byByZWNlaXZpbmcgcmVzcG9uc2UgYm9keSBpbiBmdWxsLiBJZiB0aGUgZGVhZGxpbmUgaXMgdG9vIHNob3J0IGxhcmdlIGZpbGVzIG1heSBub3QgbG9hZCBhdCBhbGwgb24gc2xvdyBjb25uZWN0aW9ucy5cbiAqIC0gdXBsb2FkIGlzIHRoZSB0aW1lICBzaW5jZSBsYXN0IGJpdCBvZiBkYXRhIHdhcyBzZW50IG9yIHJlY2VpdmVkLiBUaGlzIHRpbWVvdXQgd29ya3Mgb25seSBpZiBkZWFkbGluZSB0aW1lb3V0IGlzIG9mZlxuICpcbiAqIFZhbHVlIG9mIDAgb3IgZmFsc2UgbWVhbnMgbm8gdGltZW91dC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IG1zIG9yIHtyZXNwb25zZSwgZGVhZGxpbmV9XG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnRpbWVvdXQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aGlzLl90aW1lb3V0ID0gb3B0aW9ucztcbiAgICB0aGlzLl9yZXNwb25zZVRpbWVvdXQgPSAwO1xuICAgIHRoaXMuX3VwbG9hZFRpbWVvdXQgPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZm9yIChjb25zdCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgb3B0aW9uKSkge1xuICAgICAgc3dpdGNoIChvcHRpb24pIHtcbiAgICAgICAgY2FzZSAnZGVhZGxpbmUnOlxuICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBvcHRpb25zLmRlYWRsaW5lO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZXNwb25zZSc6XG4gICAgICAgICAgdGhpcy5fcmVzcG9uc2VUaW1lb3V0ID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndXBsb2FkJzpcbiAgICAgICAgICB0aGlzLl91cGxvYWRUaW1lb3V0ID0gb3B0aW9ucy51cGxvYWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS53YXJuKCdVbmtub3duIHRpbWVvdXQgb3B0aW9uJywgb3B0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IG51bWJlciBvZiByZXRyeSBhdHRlbXB0cyBvbiBlcnJvci5cbiAqXG4gKiBGYWlsZWQgcmVxdWVzdHMgd2lsbCBiZSByZXRyaWVkICdjb3VudCcgdGltZXMgaWYgdGltZW91dCBvciBlcnIuY29kZSA+PSA1MDAuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZm5dXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJldHJ5ID0gZnVuY3Rpb24oY291bnQsIGZuKSB7XG4gIC8vIERlZmF1bHQgdG8gMSBpZiBubyBjb3VudCBwYXNzZWQgb3IgdHJ1ZVxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCBjb3VudCA9PT0gdHJ1ZSkgY291bnQgPSAxO1xuICBpZiAoY291bnQgPD0gMCkgY291bnQgPSAwO1xuICB0aGlzLl9tYXhSZXRyaWVzID0gY291bnQ7XG4gIHRoaXMuX3JldHJpZXMgPSAwO1xuICB0aGlzLl9yZXRyeUNhbGxiYWNrID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuY29uc3QgRVJST1JfQ09ERVMgPSBbJ0VDT05OUkVTRVQnLCAnRVRJTUVET1VUJywgJ0VBRERSSU5GTycsICdFU09DS0VUVElNRURPVVQnXTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSByZXF1ZXN0IHNob3VsZCBiZSByZXRyaWVkLlxuICogKEJvcnJvd2VkIGZyb20gc2VnbWVudGlvL3N1cGVyYWdlbnQtcmV0cnkpXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyIGFuIGVycm9yXG4gKiBAcGFyYW0ge1Jlc3BvbnNlfSBbcmVzXSByZXNwb25zZVxuICogQHJldHVybnMge0Jvb2xlYW59IGlmIHNlZ21lbnQgc2hvdWxkIGJlIHJldHJpZWRcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9zaG91bGRSZXRyeSA9IGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gIGlmICghdGhpcy5fbWF4UmV0cmllcyB8fCB0aGlzLl9yZXRyaWVzKysgPj0gdGhpcy5fbWF4UmV0cmllcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl9yZXRyeUNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG92ZXJyaWRlID0gdGhpcy5fcmV0cnlDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgICBpZiAob3ZlcnJpZGUgPT09IHRydWUpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKG92ZXJyaWRlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gdW5kZWZpbmVkIGZhbGxzIGJhY2sgdG8gZGVmYXVsdHNcbiAgICB9IGNhdGNoIChlcnJfKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycl8pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyZXMgJiYgcmVzLnN0YXR1cyAmJiByZXMuc3RhdHVzID49IDUwMCAmJiByZXMuc3RhdHVzICE9PSA1MDEpIHJldHVybiB0cnVlO1xuICBpZiAoZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlICYmIEVSUk9SX0NPREVTLmluY2x1ZGVzKGVyci5jb2RlKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gU3VwZXJhZ2VudCB0aW1lb3V0XG4gICAgaWYgKGVyci50aW1lb3V0ICYmIGVyci5jb2RlID09PSAnRUNPTk5BQk9SVEVEJykgcmV0dXJuIHRydWU7XG4gICAgaWYgKGVyci5jcm9zc0RvbWFpbikgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFJldHJ5IHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fcmV0cnkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcblxuICAvLyBub2RlXG4gIGlmICh0aGlzLnJlcSkge1xuICAgIHRoaXMucmVxID0gbnVsbDtcbiAgICB0aGlzLnJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICB9XG5cbiAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlO1xuICB0aGlzLnRpbWVkb3V0ID0gZmFsc2U7XG4gIHRoaXMudGltZWRvdXRFcnJvciA9IG51bGw7XG5cbiAgcmV0dXJuIHRoaXMuX2VuZCgpO1xufTtcblxuLyoqXG4gKiBQcm9taXNlIHN1cHBvcnRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVqZWN0XVxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICBpZiAoIXRoaXMuX2Z1bGxmaWxsZWRQcm9taXNlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHRoaXMuX2VuZENhbGxlZCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnV2FybmluZzogc3VwZXJhZ2VudCByZXF1ZXN0IHdhcyBzZW50IHR3aWNlLCBiZWNhdXNlIGJvdGggLmVuZCgpIGFuZCAudGhlbigpIHdlcmUgY2FsbGVkLiBOZXZlciBjYWxsIC5lbmQoKSBpZiB5b3UgdXNlIHByb21pc2VzJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9mdWxsZmlsbGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNlbGYub24oJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy50aW1lZG91dCAmJiB0aGlzLnRpbWVkb3V0RXJyb3IpIHtcbiAgICAgICAgICByZWplY3QodGhpcy50aW1lZG91dEVycm9yKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ0Fib3J0ZWQnKTtcbiAgICAgICAgZXJyLmNvZGUgPSAnQUJPUlRFRCc7XG4gICAgICAgIGVyci5zdGF0dXMgPSB0aGlzLnN0YXR1cztcbiAgICAgICAgZXJyLm1ldGhvZCA9IHRoaXMubWV0aG9kO1xuICAgICAgICBlcnIudXJsID0gdGhpcy51cmw7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgICBzZWxmLmVuZCgoZXJyLCByZXMpID0+IHtcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycik7XG4gICAgICAgIGVsc2UgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fZnVsbGZpbGxlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xufTtcblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24oY2IpIHtcbiAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIGNiKTtcbn07XG5cbi8qKlxuICogQWxsb3cgZm9yIGV4dGVuc2lvblxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS51c2UgPSBmdW5jdGlvbihmbikge1xuICBmbih0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUub2sgPSBmdW5jdGlvbihjYikge1xuICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIHJlcXVpcmVkJyk7XG4gIHRoaXMuX29rQ2FsbGJhY2sgPSBjYjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX2lzUmVzcG9uc2VPSyA9IGZ1bmN0aW9uKHJlcykge1xuICBpZiAoIXJlcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0aGlzLl9va0NhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuX29rQ2FsbGJhY2socmVzKTtcbiAgfVxuXG4gIHJldHVybiByZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDwgMzAwO1xufTtcblxuLyoqXG4gKiBHZXQgcmVxdWVzdCBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihmaWVsZCkge1xuICByZXR1cm4gdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xufTtcblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBoZWFkZXIgYGZpZWxkYCB2YWx1ZS5cbiAqIFRoaXMgaXMgYSBkZXByZWNhdGVkIGludGVybmFsIEFQSS4gVXNlIGAuZ2V0KGZpZWxkKWAgaW5zdGVhZC5cbiAqXG4gKiAoZ2V0SGVhZGVyIGlzIG5vIGxvbmdlciB1c2VkIGludGVybmFsbHkgYnkgdGhlIHN1cGVyYWdlbnQgY29kZSBiYXNlKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKiBAZGVwcmVjYXRlZFxuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBSZXF1ZXN0QmFzZS5wcm90b3R5cGUuZ2V0O1xuXG4vKipcbiAqIFNldCBoZWFkZXIgYGZpZWxkYCB0byBgdmFsYCwgb3IgbXVsdGlwbGUgZmllbGRzIHdpdGggb25lIG9iamVjdC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAuc2V0KCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpXG4gKiAgICAgICAgLnNldCgnWC1BUEktS2V5JywgJ2Zvb2JhcicpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAuc2V0KHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsICdYLUFQSS1LZXknOiAnZm9vYmFyJyB9KVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZmllbGRcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oZmllbGQsIHZhbCkge1xuICBpZiAoaXNPYmplY3QoZmllbGQpKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZmllbGQpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZmllbGQsIGtleSkpXG4gICAgICAgIHRoaXMuc2V0KGtleSwgZmllbGRba2V5XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV0gPSB2YWw7XG4gIHRoaXMuaGVhZGVyW2ZpZWxkXSA9IHZhbDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBoZWFkZXIgYGZpZWxkYC5cbiAqIENhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC51bnNldCgnVXNlci1BZ2VudCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjayk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkIGZpZWxkIG5hbWVcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLnVuc2V0ID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgZGVsZXRlIHRoaXMuX2hlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbiAgZGVsZXRlIHRoaXMuaGVhZGVyW2ZpZWxkXTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFdyaXRlIHRoZSBmaWVsZCBgbmFtZWAgYW5kIGB2YWxgLCBvciBtdWx0aXBsZSBmaWVsZHMgd2l0aCBvbmUgb2JqZWN0XG4gKiBmb3IgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgcmVxdWVzdCBib2RpZXMuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoJ2ZvbycsICdiYXInKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuZmllbGQoeyBmb286ICdiYXInLCBiYXo6ICdxdXgnIH0pXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBuYW1lIG5hbWUgb2YgZmllbGRcbiAqIEBwYXJhbSB7U3RyaW5nfEJsb2J8RmlsZXxCdWZmZXJ8ZnMuUmVhZFN0cmVhbX0gdmFsIHZhbHVlIG9mIGZpZWxkXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5maWVsZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbCkge1xuICAvLyBuYW1lIHNob3VsZCBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LlxuICBpZiAobmFtZSA9PT0gbnVsbCB8fCB1bmRlZmluZWQgPT09IG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJy5maWVsZChuYW1lLCB2YWwpIG5hbWUgY2FuIG5vdCBiZSBlbXB0eScpO1xuICB9XG5cbiAgaWYgKHRoaXMuX2RhdGEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIi5maWVsZCgpIGNhbid0IGJlIHVzZWQgaWYgLnNlbmQoKSBpcyB1c2VkLiBQbGVhc2UgdXNlIG9ubHkgLnNlbmQoKSBvciBvbmx5IC5maWVsZCgpICYgLmF0dGFjaCgpXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmFtZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuYW1lLCBrZXkpKVxuICAgICAgICB0aGlzLmZpZWxkKGtleSwgbmFtZVtrZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdmFsKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwgaSkpXG4gICAgICAgIHRoaXMuZmllbGQobmFtZSwgdmFsW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHZhbCBzaG91bGQgYmUgZGVmaW5lZCBub3dcbiAgaWYgKHZhbCA9PT0gbnVsbCB8fCB1bmRlZmluZWQgPT09IHZhbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignLmZpZWxkKG5hbWUsIHZhbCkgdmFsIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICB2YWwgPSBTdHJpbmcodmFsKTtcbiAgfVxuXG4gIHRoaXMuX2dldEZvcm1EYXRhKCkuYXBwZW5kKG5hbWUsIHZhbCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBYm9ydCB0aGUgcmVxdWVzdCwgYW5kIGNsZWFyIHBvdGVudGlhbCB0aW1lb3V0LlxuICpcbiAqIEByZXR1cm4ge1JlcXVlc3R9IHJlcXVlc3RcbiAqIEBhcGkgcHVibGljXG4gKi9cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fYWJvcnRlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG4gIGlmICh0aGlzLnhocikgdGhpcy54aHIuYWJvcnQoKTsgLy8gYnJvd3NlclxuICBpZiAodGhpcy5yZXEpIHRoaXMucmVxLmFib3J0KCk7IC8vIG5vZGVcbiAgdGhpcy5jbGVhclRpbWVvdXQoKTtcbiAgdGhpcy5lbWl0KCdhYm9ydCcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fYXV0aCA9IGZ1bmN0aW9uKHVzZXIsIHBhc3MsIG9wdGlvbnMsIGJhc2U2NEVuY29kZXIpIHtcbiAgc3dpdGNoIChvcHRpb25zLnR5cGUpIHtcbiAgICBjYXNlICdiYXNpYyc6XG4gICAgICB0aGlzLnNldCgnQXV0aG9yaXphdGlvbicsIGBCYXNpYyAke2Jhc2U2NEVuY29kZXIoYCR7dXNlcn06JHtwYXNzfWApfWApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdhdXRvJzpcbiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VyO1xuICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3M7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2JlYXJlcic6IC8vIHVzYWdlIHdvdWxkIGJlIC5hdXRoKGFjY2Vzc1Rva2VuLCB7IHR5cGU6ICdiZWFyZXInIH0pXG4gICAgICB0aGlzLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt1c2VyfWApO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0cmFuc21pc3Npb24gb2YgY29va2llcyB3aXRoIHgtZG9tYWluIHJlcXVlc3RzLlxuICpcbiAqIE5vdGUgdGhhdCBmb3IgdGhpcyB0byB3b3JrIHRoZSBvcmlnaW4gbXVzdCBub3QgYmVcbiAqIHVzaW5nIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCIgd2l0aCBhIHdpbGRjYXJkLFxuICogYW5kIGFsc28gbXVzdCBzZXQgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiXG4gKiB0byBcInRydWVcIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS53aXRoQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihvbikge1xuICAvLyBUaGlzIGlzIGJyb3dzZXItb25seSBmdW5jdGlvbmFsaXR5LiBOb2RlIHNpZGUgaXMgbm8tb3AuXG4gIGlmIChvbiA9PT0gdW5kZWZpbmVkKSBvbiA9IHRydWU7XG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IG9uO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBtYXggcmVkaXJlY3RzIHRvIGBuYC4gRG9lcyBub3RoaW5nIGluIGJyb3dzZXIgWEhSIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnJlZGlyZWN0cyA9IGZ1bmN0aW9uKG4pIHtcbiAgdGhpcy5fbWF4UmVkaXJlY3RzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIE1heGltdW0gc2l6ZSBvZiBidWZmZXJlZCByZXNwb25zZSBib2R5LCBpbiBieXRlcy4gQ291bnRzIHVuY29tcHJlc3NlZCBzaXplLlxuICogRGVmYXVsdCAyMDBNQi5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbiBudW1iZXIgb2YgYnl0ZXNcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICovXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUubWF4UmVzcG9uc2VTaXplID0gZnVuY3Rpb24obikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBhcmd1bWVudCcpO1xuICB9XG5cbiAgdGhpcy5fbWF4UmVzcG9uc2VTaXplID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgdG8gYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCAobm90IEpTT04gc3RyaW5nKSBvZiBzY2FsYXIgcHJvcGVydGllcy5cbiAqIE5vdGUgYXMgdGhpcyBtZXRob2QgaXMgZGVzaWduZWQgdG8gcmV0dXJuIGEgdXNlZnVsIG5vbi10aGlzIHZhbHVlLFxuICogaXQgY2Fubm90IGJlIGNoYWluZWQuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBkZXNjcmliaW5nIG1ldGhvZCwgdXJsLCBhbmQgZGF0YSBvZiB0aGlzIHJlcXVlc3RcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIG1ldGhvZDogdGhpcy5tZXRob2QsXG4gICAgdXJsOiB0aGlzLnVybCxcbiAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlclxuICB9O1xufTtcblxuLyoqXG4gKiBTZW5kIGBkYXRhYCBhcyB0aGUgcmVxdWVzdCBib2R5LCBkZWZhdWx0aW5nIHRoZSBgLnR5cGUoKWAgdG8gXCJqc29uXCIgd2hlblxuICogYW4gb2JqZWN0IGlzIGdpdmVuLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgIC8vIG1hbnVhbCBqc29uXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2pzb24nKVxuICogICAgICAgICAuc2VuZCgne1wibmFtZVwiOlwidGpcIn0nKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGF1dG8ganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIG1hbnVhbCB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKCduYW1lPXRqJylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdmb3JtJylcbiAqICAgICAgICAgLnNlbmQoeyBuYW1lOiAndGonIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gZGVmYXVsdHMgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICogICAgICAgIC5zZW5kKCdzcGVjaWVzPWZlcnJldCcpXG4gKiAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGRhdGFcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuUmVxdWVzdEJhc2UucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gIGNvbnN0IGlzT2JqID0gaXNPYmplY3QoZGF0YSk7XG4gIGxldCB0eXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcblxuICBpZiAodGhpcy5fZm9ybURhdGEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIi5zZW5kKCkgY2FuJ3QgYmUgdXNlZCBpZiAuYXR0YWNoKCkgb3IgLmZpZWxkKCkgaXMgdXNlZC4gUGxlYXNlIHVzZSBvbmx5IC5zZW5kKCkgb3Igb25seSAuZmllbGQoKSAmIC5hdHRhY2goKVwiXG4gICAgKTtcbiAgfVxuXG4gIGlmIChpc09iaiAmJiAhdGhpcy5fZGF0YSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICB0aGlzLl9kYXRhID0gW107XG4gICAgfSBlbHNlIGlmICghdGhpcy5faXNIb3N0KGRhdGEpKSB7XG4gICAgICB0aGlzLl9kYXRhID0ge307XG4gICAgfVxuICB9IGVsc2UgaWYgKGRhdGEgJiYgdGhpcy5fZGF0YSAmJiB0aGlzLl9pc0hvc3QodGhpcy5fZGF0YSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBtZXJnZSB0aGVzZSBzZW5kIGNhbGxzXCIpO1xuICB9XG5cbiAgLy8gbWVyZ2VcbiAgaWYgKGlzT2JqICYmIGlzT2JqZWN0KHRoaXMuX2RhdGEpKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKVxuICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSBkYXRhW2tleV07XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIC8vIGRlZmF1bHQgdG8geC13d3ctZm9ybS11cmxlbmNvZGVkXG4gICAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2Zvcm0nKTtcbiAgICB0eXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICBpZiAodHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9kYXRhID8gYCR7dGhpcy5fZGF0YX0mJHtkYXRhfWAgOiBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kYXRhID0gKHRoaXMuX2RhdGEgfHwgJycpICsgZGF0YTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoIWlzT2JqIHx8IHRoaXMuX2lzSG9zdChkYXRhKSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZGVmYXVsdCB0byBqc29uXG4gIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTb3J0IGBxdWVyeXN0cmluZ2AgYnkgdGhlIHNvcnQgZnVuY3Rpb25cbiAqXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICAgLy8gZGVmYXVsdCBvcmRlclxuICogICAgICAgcmVxdWVzdC5nZXQoJy91c2VyJylcbiAqICAgICAgICAgLnF1ZXJ5KCduYW1lPU5pY2snKVxuICogICAgICAgICAucXVlcnkoJ3NlYXJjaD1NYW5ueScpXG4gKiAgICAgICAgIC5zb3J0UXVlcnkoKVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGN1c3RvbWl6ZWQgc29ydCBmdW5jdGlvblxuICogICAgICAgcmVxdWVzdC5nZXQoJy91c2VyJylcbiAqICAgICAgICAgLnF1ZXJ5KCduYW1lPU5pY2snKVxuICogICAgICAgICAucXVlcnkoJ3NlYXJjaD1NYW5ueScpXG4gKiAgICAgICAgIC5zb3J0UXVlcnkoZnVuY3Rpb24oYSwgYil7XG4gKiAgICAgICAgICAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7XG4gKiAgICAgICAgIH0pXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNvcnRcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuc29ydFF1ZXJ5ID0gZnVuY3Rpb24oc29ydCkge1xuICAvLyBfc29ydCBkZWZhdWx0IHRvIHRydWUgYnV0IG90aGVyd2lzZSBjYW4gYmUgYSBmdW5jdGlvbiBvciBib29sZWFuXG4gIHRoaXMuX3NvcnQgPSB0eXBlb2Ygc29ydCA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogc29ydDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvbXBvc2UgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIHJlcS51cmxcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuUmVxdWVzdEJhc2UucHJvdG90eXBlLl9maW5hbGl6ZVF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHF1ZXJ5ID0gdGhpcy5fcXVlcnkuam9pbignJicpO1xuICBpZiAocXVlcnkpIHtcbiAgICB0aGlzLnVybCArPSAodGhpcy51cmwuaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/JykgKyBxdWVyeTtcbiAgfVxuXG4gIHRoaXMuX3F1ZXJ5Lmxlbmd0aCA9IDA7IC8vIE1ha2VzIHRoZSBjYWxsIGlkZW1wb3RlbnRcblxuICBpZiAodGhpcy5fc29ydCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy51cmwuaW5kZXhPZignPycpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBxdWVyeUFyciA9IHRoaXMudXJsLnNsaWNlKGluZGV4ICsgMSkuc3BsaXQoJyYnKTtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fc29ydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBxdWVyeUFyci5zb3J0KHRoaXMuX3NvcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVlcnlBcnIuc29ydCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnNsaWNlKDAsIGluZGV4KSArICc/JyArIHF1ZXJ5QXJyLmpvaW4oJyYnKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIEZvciBiYWNrd2FyZHMgY29tcGF0IG9ubHlcblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fYXBwZW5kUXVlcnlTdHJpbmcgPSAoKSA9PiB7XG4gIGNvbnNvbGUud2FybignVW5zdXBwb3J0ZWQnKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0QmFzZS5wcm90b3R5cGUuX3RpbWVvdXRFcnJvciA9IGZ1bmN0aW9uKHJlYXNvbiwgdGltZW91dCwgZXJybm8pIHtcbiAgaWYgKHRoaXMuX2Fib3J0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYCR7cmVhc29uICsgdGltZW91dH1tcyBleGNlZWRlZGApO1xuICBlcnIudGltZW91dCA9IHRpbWVvdXQ7XG4gIGVyci5jb2RlID0gJ0VDT05OQUJPUlRFRCc7XG4gIGVyci5lcnJubyA9IGVycm5vO1xuICB0aGlzLnRpbWVkb3V0ID0gdHJ1ZTtcbiAgdGhpcy50aW1lZG91dEVycm9yID0gZXJyO1xuICB0aGlzLmFib3J0KCk7XG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cblJlcXVlc3RCYXNlLnByb3RvdHlwZS5fc2V0VGltZW91dHMgPSBmdW5jdGlvbigpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgLy8gZGVhZGxpbmVcbiAgaWYgKHRoaXMuX3RpbWVvdXQgJiYgIXRoaXMuX3RpbWVyKSB7XG4gICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNlbGYuX3RpbWVvdXRFcnJvcignVGltZW91dCBvZiAnLCBzZWxmLl90aW1lb3V0LCAnRVRJTUUnKTtcbiAgICB9LCB0aGlzLl90aW1lb3V0KTtcbiAgfVxuXG4gIC8vIHJlc3BvbnNlIHRpbWVvdXRcbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVGltZW91dCAmJiAhdGhpcy5fcmVzcG9uc2VUaW1lb3V0VGltZXIpIHtcbiAgICB0aGlzLl9yZXNwb25zZVRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2VsZi5fdGltZW91dEVycm9yKFxuICAgICAgICAnUmVzcG9uc2UgdGltZW91dCBvZiAnLFxuICAgICAgICBzZWxmLl9yZXNwb25zZVRpbWVvdXQsXG4gICAgICAgICdFVElNRURPVVQnXG4gICAgICApO1xuICAgIH0sIHRoaXMuX3Jlc3BvbnNlVGltZW91dCk7XG4gIH1cbn07XG4iXX0=","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar utils = require('./utils');\n/**\n * Expose `ResponseBase`.\n */\n\n\nmodule.exports = ResponseBase;\n/**\n * Initialize a new `ResponseBase`.\n *\n * @api public\n */\n\nfunction ResponseBase(obj) {\n  if (obj) return mixin(obj);\n}\n/**\n * Mixin the prototype properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\n\nfunction mixin(obj) {\n  for (var key in ResponseBase.prototype) {\n    if (Object.prototype.hasOwnProperty.call(ResponseBase.prototype, key)) obj[key] = ResponseBase.prototype[key];\n  }\n\n  return obj;\n}\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\n\nResponseBase.prototype.get = function (field) {\n  return this.header[field.toLowerCase()];\n};\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\n\nResponseBase.prototype._setHeaderProperties = function (header) {\n  // TODO: moar!\n  // TODO: make this a util\n  // content-type\n  var ct = header['content-type'] || '';\n  this.type = utils.type(ct); // params\n\n  var params = utils.params(ct);\n\n  for (var key in params) {\n    if (Object.prototype.hasOwnProperty.call(params, key)) this[key] = params[key];\n  }\n\n  this.links = {}; // links\n\n  try {\n    if (header.link) {\n      this.links = utils.parseLinks(header.link);\n    }\n  } catch (_unused) {// ignore\n  }\n};\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\n\nResponseBase.prototype._setStatusProperties = function (status) {\n  var type = status / 100 | 0; // status / class\n\n  this.statusCode = status;\n  this.status = this.statusCode;\n  this.statusType = type; // basics\n\n  this.info = type === 1;\n  this.ok = type === 2;\n  this.redirect = type === 3;\n  this.clientError = type === 4;\n  this.serverError = type === 5;\n  this.error = type === 4 || type === 5 ? this.toError() : false; // sugar\n\n  this.created = status === 201;\n  this.accepted = status === 202;\n  this.noContent = status === 204;\n  this.badRequest = status === 400;\n  this.unauthorized = status === 401;\n  this.notAcceptable = status === 406;\n  this.forbidden = status === 403;\n  this.notFound = status === 404;\n  this.unprocessableEntity = status === 422;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZXNwb25zZS1iYXNlLmpzIl0sIm5hbWVzIjpbInV0aWxzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJSZXNwb25zZUJhc2UiLCJvYmoiLCJtaXhpbiIsImtleSIsInByb3RvdHlwZSIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImdldCIsImZpZWxkIiwiaGVhZGVyIiwidG9Mb3dlckNhc2UiLCJfc2V0SGVhZGVyUHJvcGVydGllcyIsImN0IiwidHlwZSIsInBhcmFtcyIsImxpbmtzIiwibGluayIsInBhcnNlTGlua3MiLCJfc2V0U3RhdHVzUHJvcGVydGllcyIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzdGF0dXNUeXBlIiwiaW5mbyIsIm9rIiwicmVkaXJlY3QiLCJjbGllbnRFcnJvciIsInNlcnZlckVycm9yIiwiZXJyb3IiLCJ0b0Vycm9yIiwiY3JlYXRlZCIsImFjY2VwdGVkIiwibm9Db250ZW50IiwiYmFkUmVxdWVzdCIsInVuYXV0aG9yaXplZCIsIm5vdEFjY2VwdGFibGUiLCJmb3JiaWRkZW4iLCJub3RGb3VuZCIsInVucHJvY2Vzc2FibGVFbnRpdHkiXSwibWFwcGluZ3MiOiI7O0FBQUE7OztBQUlBLElBQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBckI7QUFFQTs7Ozs7QUFJQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxZQUFqQjtBQUVBOzs7Ozs7QUFNQSxTQUFTQSxZQUFULENBQXNCQyxHQUF0QixFQUEyQjtBQUN6QixNQUFJQSxHQUFKLEVBQVMsT0FBT0MsS0FBSyxDQUFDRCxHQUFELENBQVo7QUFDVjtBQUVEOzs7Ozs7Ozs7QUFRQSxTQUFTQyxLQUFULENBQWVELEdBQWYsRUFBb0I7QUFDbEIsT0FBSyxJQUFNRSxHQUFYLElBQWtCSCxZQUFZLENBQUNJLFNBQS9CLEVBQTBDO0FBQ3hDLFFBQUlDLE1BQU0sQ0FBQ0QsU0FBUCxDQUFpQkUsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFD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LEdBQTJCbEIsTUFBTSxLQUFLLEdBQXRDO0FBQ0QsQ0ExQkQiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZUJhc2VgLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVzcG9uc2VCYXNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlQmFzZWAuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZUJhc2Uob2JqKSB7XG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xufVxuXG4vKipcbiAqIE1peGluIHRoZSBwcm90b3R5cGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gUmVzcG9uc2VCYXNlLnByb3RvdHlwZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUmVzcG9uc2VCYXNlLnByb3RvdHlwZSwga2V5KSlcbiAgICAgIG9ialtrZXldID0gUmVzcG9uc2VCYXNlLnByb3RvdHlwZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBHZXQgY2FzZS1pbnNlbnNpdGl2ZSBgZmllbGRgIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlcltmaWVsZC50b0xvd2VyQ2FzZSgpXTtcbn07XG5cbi8qKlxuICogU2V0IGhlYWRlciByZWxhdGVkIHByb3BlcnRpZXM6XG4gKlxuICogICAtIGAudHlwZWAgdGhlIGNvbnRlbnQgdHlwZSB3aXRob3V0IHBhcmFtc1xuICpcbiAqIEEgcmVzcG9uc2Ugb2YgXCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICogd2lsbCBwcm92aWRlIHlvdSB3aXRoIGEgYC50eXBlYCBvZiBcInRleHQvcGxhaW5cIi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZUJhc2UucHJvdG90eXBlLl9zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKSB7XG4gIC8vIFRPRE86IG1vYXIhXG4gIC8vIFRPRE86IG1ha2UgdGhpcyBhIHV0aWxcblxuICAvLyBjb250ZW50LXR5cGVcbiAgY29uc3QgY3QgPSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddIHx8ICcnO1xuICB0aGlzLnR5cGUgPSB1dGlscy50eXBlKGN0KTtcblxuICAvLyBwYXJhbXNcbiAgY29uc3QgcGFyYW1zID0gdXRpbHMucGFyYW1zKGN0KTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIGtleSkpXG4gICAgICB0aGlzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgfVxuXG4gIHRoaXMubGlua3MgPSB7fTtcblxuICAvLyBsaW5rc1xuICB0cnkge1xuICAgIGlmIChoZWFkZXIubGluaykge1xuICAgICAgdGhpcy5saW5rcyA9IHV0aWxzLnBhcnNlTGlua3MoaGVhZGVyLmxpbmspO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgLy8gaWdub3JlXG4gIH1cbn07XG5cbi8qKlxuICogU2V0IGZsYWdzIHN1Y2ggYXMgYC5va2AgYmFzZWQgb24gYHN0YXR1c2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYSAyeHggcmVzcG9uc2Ugd2lsbCBnaXZlIHlvdSBhIGAub2tgIG9mIF9fdHJ1ZV9fXG4gKiB3aGVyZWFzIDV4eCB3aWxsIGJlIF9fZmFsc2VfXyBhbmQgYC5lcnJvcmAgd2lsbCBiZSBfX3RydWVfXy4gVGhlXG4gKiBgLmNsaWVudEVycm9yYCBhbmQgYC5zZXJ2ZXJFcnJvcmAgYXJlIGFsc28gYXZhaWxhYmxlIHRvIGJlIG1vcmVcbiAqIHNwZWNpZmljLCBhbmQgYC5zdGF0dXNUeXBlYCBpcyB0aGUgY2xhc3Mgb2YgZXJyb3IgcmFuZ2luZyBmcm9tIDEuLjVcbiAqIHNvbWV0aW1lcyB1c2VmdWwgZm9yIG1hcHBpbmcgcmVzcG9uZCBjb2xvcnMgZXRjLlxuICpcbiAqIFwic3VnYXJcIiBwcm9wZXJ0aWVzIGFyZSBhbHNvIGRlZmluZWQgZm9yIGNvbW1vbiBjYXNlcy4gQ3VycmVudGx5IHByb3ZpZGluZzpcbiAqXG4gKiAgIC0gLm5vQ29udGVudFxuICogICAtIC5iYWRSZXF1ZXN0XG4gKiAgIC0gLnVuYXV0aG9yaXplZFxuICogICAtIC5ub3RBY2NlcHRhYmxlXG4gKiAgIC0gLm5vdEZvdW5kXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXR1c1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVzcG9uc2VCYXNlLnByb3RvdHlwZS5fc2V0U3RhdHVzUHJvcGVydGllcyA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICBjb25zdCB0eXBlID0gKHN0YXR1cyAvIDEwMCkgfCAwO1xuXG4gIC8vIHN0YXR1cyAvIGNsYXNzXG4gIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1cztcbiAgdGhpcy5zdGF0dXMgPSB0aGlzLnN0YXR1c0NvZGU7XG4gIHRoaXMuc3RhdHVzVHlwZSA9IHR5cGU7XG5cbiAgLy8gYmFzaWNzXG4gIHRoaXMuaW5mbyA9IHR5cGUgPT09IDE7XG4gIHRoaXMub2sgPSB0eXBlID09PSAyO1xuICB0aGlzLnJlZGlyZWN0ID0gdHlwZSA9PT0gMztcbiAgdGhpcy5jbGllbnRFcnJvciA9IHR5cGUgPT09IDQ7XG4gIHRoaXMuc2VydmVyRXJyb3IgPSB0eXBlID09PSA1O1xuICB0aGlzLmVycm9yID0gdHlwZSA9PT0gNCB8fCB0eXBlID09PSA1ID8gdGhpcy50b0Vycm9yKCkgOiBmYWxzZTtcblxuICAvLyBzdWdhclxuICB0aGlzLmNyZWF0ZWQgPSBzdGF0dXMgPT09IDIwMTtcbiAgdGhpcy5hY2NlcHRlZCA9IHN0YXR1cyA9PT0gMjAyO1xuICB0aGlzLm5vQ29udGVudCA9IHN0YXR1cyA9PT0gMjA0O1xuICB0aGlzLmJhZFJlcXVlc3QgPSBzdGF0dXMgPT09IDQwMDtcbiAgdGhpcy51bmF1dGhvcml6ZWQgPSBzdGF0dXMgPT09IDQwMTtcbiAgdGhpcy5ub3RBY2NlcHRhYmxlID0gc3RhdHVzID09PSA0MDY7XG4gIHRoaXMuZm9yYmlkZGVuID0gc3RhdHVzID09PSA0MDM7XG4gIHRoaXMubm90Rm91bmQgPSBzdGF0dXMgPT09IDQwNDtcbiAgdGhpcy51bnByb2Nlc3NhYmxlRW50aXR5ID0gc3RhdHVzID09PSA0MjI7XG59O1xuIl19","\"use strict\";\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\nexports.type = function (str) {\n  return str.split(/ *; */).shift();\n};\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\n\nexports.params = function (str) {\n  return str.split(/ *; */).reduce(function (obj, str) {\n    var parts = str.split(/ *= */);\n    var key = parts.shift();\n    var val = parts.shift();\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n/**\n * Parse Link header fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\n\nexports.parseLinks = function (str) {\n  return str.split(/ *, */).reduce(function (obj, str) {\n    var parts = str.split(/ *; */);\n    var url = parts[0].slice(1, -1);\n    var rel = parts[1].split(/ *= */)[1].slice(1, -1);\n    obj[rel] = url;\n    return obj;\n  }, {});\n};\n/**\n * Strip content related fields from `header`.\n *\n * @param {Object} header\n * @return {Object} header\n * @api private\n */\n\n\nexports.cleanHeader = function (header, changesOrigin) {\n  delete header['content-type'];\n  delete header['content-length'];\n  delete header['transfer-encoding'];\n  delete header.host; // secuirty\n\n  if (changesOrigin) {\n    delete header.authorization;\n    delete header.cookie;\n  }\n\n  return header;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJleHBvcnRzIiwidHlwZSIsInN0ciIsInNwbGl0Iiwic2hpZnQiLCJwYXJhbXMiLCJyZWR1Y2UiLCJvYmoiLCJwYXJ0cyIsImtleSIsInZhbCIsInBhcnNlTGlua3MiLCJ1cmwiLCJzbGljZSIsInJlbCIsImNsZWFuSGVhZGVyIiwiaGVhZGVyIiwiY2hhbmdlc09yaWdpbiIsImhvc3QiLCJhdXRob3JpemF0aW9uIiwiY29va2llIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBUUFBLE9BQU8sQ0FBQ0MsSUFBUixHQUFlLFVBQUFDLEdBQUc7QUFBQSxTQUFJQSxHQUFHLENBQUNDLEtBQUosQ0FBVSxPQUFWLEVBQW1CQyxLQUFuQixFQUFKO0FBQUEsQ0FBbEI7QUFFQTs7Ozs7Ozs7O0FBUUFKLE9BQU8sQ0FBQ0ssTUFBUixHQUFpQixVQUFBSCxHQUFHO0FBQUEsU0FDbEJBLEdBQUcsQ0FBQ0MsS0FBSixDQUFVLE9BQVYsRUFBbUJHLE1BQW5CLENBQTBCLFVBQUNDLEdBQUQsRUFBTUwsR0FBTixFQUFjO0FBQ3RDLFFBQU1NLEtBQUssR0FBR04sR0FBRyxDQUFDQyxLQUFKLENBQVUsT0FBVixDQUFkO0FBQ0EsUUFBTU0sR0FBRyxHQUFHRCxLQUFLLENBQUNKLEtBQU4sRUFBWjtBQUNBLFFBQU1NLEdBQUcsR0FBR0YsS0FBSyxDQUFDSixLQUFOLEVBQVo7QUFFQSxRQUFJSyxHQUFHLElBQUlDLEdBQVgsRUFBZ0JILEdBQUcsQ0FBQ0UsR0FBRCxDQUFILEdBQVdDLEdBQVg7QUFDaEIsV0FBT0gsR0FBUDtBQUNELEdBUEQsRUFPRyxFQVBILENBRGtCO0FBQUEsQ0FBcEI7QUFVQTs7Ozs7Ozs7O0FBUUFQLE9BQU8sQ0FBQ1csVUFBUixHQUFxQixVQUFBVCxHQUFHO0FBQUEsU0FDdEJBLEdBQUcsQ0FBQ0MsS0FBSixDQUFVLE9BQVYsRUFBbUJHLE1BQW5CLENBQTBCLFVBQUNDLEdBQUQsRUFBTUwsR0FBTixFQUFjO0FBQ3RDLFFBQU1NLEtBQUssR0FBR04sR0FBRyxDQUFDQyxLQUFKLENBQVUsT0FBVixDQUFkO0FBQ0EsUUFBTVMsR0FBRyxHQUFHSixLQUFLLENBQUMsQ0FBRCxDQUFMLENBQVNLLEtBQVQsQ0FBZSxDQUFmLEVBQWtCLENBQUMsQ0FBbkIsQ0FBWjtBQUNBLFFBQU1DLEdBQUcsR0FBR04sS0FBSyxDQUFDLENBQUQsQ0FBTCxDQUFTTCxLQUFULENBQWUsT0FBZixFQUF3QixDQUF4QixFQUEyQlUsS0FBM0IsQ0FBaUMsQ0FBakMsRUFBb0MsQ0FBQyxDQUFyQyxDQUFaO0FBQ0FOLElBQUFBLEdBQUcsQ0FBQ08sR0FBRCxDQUFILEdBQVdGLEdBQVg7QUFDQSxXQUFPTCxHQUFQO0FBQ0QsR0FORCxFQU1HLEVBTkgsQ0FEc0I7QUFBQSxDQUF4QjtBQVNBOzs7Ozs7Ozs7QUFRQVAsT0FBTyxDQUFDZSxXQUFSLEdBQXNCLFVBQUNDLE1BQUQsRUFBU0MsYUFBVCxFQUEyQjtBQUMvQyxTQUFPRCxNQUFNLENBQUMsY0FBRCxDQUFiO0FBQ0EsU0FBT0EsTUFBTSxDQUFDLGdCQUFELENBQWI7QUFDQSxTQUFPQSxNQUFNLENBQUMsbUJBQUQsQ0FBYjtBQUNBLFNBQU9BLE1BQU0sQ0FBQ0UsSUFBZCxDQUorQyxDQUsvQzs7QUFDQSxNQUFJRCxhQUFKLEVBQW1CO0FBQ2pCLFdBQU9ELE1BQU0sQ0FBQ0csYUFBZDtBQUNBLFdBQU9ILE1BQU0sQ0FBQ0ksTUFBZDtBQUNEOztBQUVELFNBQU9KLE1BQVA7QUFDRCxDQVpEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZXR1cm4gdGhlIG1pbWUgdHlwZSBmb3IgdGhlIGdpdmVuIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMudHlwZSA9IHN0ciA9PiBzdHIuc3BsaXQoLyAqOyAqLykuc2hpZnQoKTtcblxuLyoqXG4gKiBSZXR1cm4gaGVhZGVyIGZpZWxkIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5wYXJhbXMgPSBzdHIgPT5cbiAgc3RyLnNwbGl0KC8gKjsgKi8pLnJlZHVjZSgob2JqLCBzdHIpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHN0ci5zcGxpdCgvICo9ICovKTtcbiAgICBjb25zdCBrZXkgPSBwYXJ0cy5zaGlmdCgpO1xuICAgIGNvbnN0IHZhbCA9IHBhcnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoa2V5ICYmIHZhbCkgb2JqW2tleV0gPSB2YWw7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xuXG4vKipcbiAqIFBhcnNlIExpbmsgaGVhZGVyIGZpZWxkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnBhcnNlTGlua3MgPSBzdHIgPT5cbiAgc3RyLnNwbGl0KC8gKiwgKi8pLnJlZHVjZSgob2JqLCBzdHIpID0+IHtcbiAgICBjb25zdCBwYXJ0cyA9IHN0ci5zcGxpdCgvICo7ICovKTtcbiAgICBjb25zdCB1cmwgPSBwYXJ0c1swXS5zbGljZSgxLCAtMSk7XG4gICAgY29uc3QgcmVsID0gcGFydHNbMV0uc3BsaXQoLyAqPSAqLylbMV0uc2xpY2UoMSwgLTEpO1xuICAgIG9ialtyZWxdID0gdXJsO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcblxuLyoqXG4gKiBTdHJpcCBjb250ZW50IHJlbGF0ZWQgZmllbGRzIGZyb20gYGhlYWRlcmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlclxuICogQHJldHVybiB7T2JqZWN0fSBoZWFkZXJcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuY2xlYW5IZWFkZXIgPSAoaGVhZGVyLCBjaGFuZ2VzT3JpZ2luKSA9PiB7XG4gIGRlbGV0ZSBoZWFkZXJbJ2NvbnRlbnQtdHlwZSddO1xuICBkZWxldGUgaGVhZGVyWydjb250ZW50LWxlbmd0aCddO1xuICBkZWxldGUgaGVhZGVyWyd0cmFuc2Zlci1lbmNvZGluZyddO1xuICBkZWxldGUgaGVhZGVyLmhvc3Q7XG4gIC8vIHNlY3VpcnR5XG4gIGlmIChjaGFuZ2VzT3JpZ2luKSB7XG4gICAgZGVsZXRlIGhlYWRlci5hdXRob3JpemF0aW9uO1xuICAgIGRlbGV0ZSBoZWFkZXIuY29va2llO1xuICB9XG5cbiAgcmV0dXJuIGhlYWRlcjtcbn07XG4iXX0=","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import Editor from '../editor/editor'\nimport Throttle from '../utility/throttle'\n\n// Throttled events.\nnew Throttle('resize', 'opt_resize')\nnew Throttle('scroll', 'opt_scroll')\n\nexport default Editor\n\nwindow.Editor = Editor\n","import Editor from './editor'\n\nnew Editor(document.querySelector('.container'))\n","/**\n * Automatically guess the field configuration from data.\n */\n\nimport { AutoFields } from 'selective-edit'\n\nexport default class EditorAutoFields extends AutoFields {\n  _deepGuessObject(data, keyBase) {\n    // Handle the `!g.*` constructors.\n    if (this._isConstructor(data)) {\n      const fullKey = keyBase.join('.')\n      return [this._fieldConfig(fullKey, data)]\n    }\n\n    return super._deepGuessObject(data, keyBase)\n  }\n\n  _isConstructor(data) {\n    return data['tag'] && data['value'] && data['tag'].startsWith('!g.')\n  }\n\n  /**\n   * From a value, guess the type of field.\n   */\n  typeFromValue(value) {\n    if (this.dataType.isObject(value) && this._isConstructor(value)) {\n      switch (value['tag']) {\n        case '!g.doc':\n          return 'document'\n          break\n        case '!g.yaml':\n          return 'yaml'\n          break\n      }\n    }\n\n    if (typeof value == 'boolean') {\n      return 'checkbox'\n    }\n\n    return super.typeFromValue(value)\n  }\n}\n","/**\n * Document for the editor.\n */\n\nimport { autoDeepObject } from '../utility/deepObject'\n\nexport default class Document {\n  constructor(podPath, frontMatter, rawFrontMatter, servingPaths, defaultLocale, content) {\n    this.podPath = podPath\n    this.frontMatter = autoDeepObject(frontMatter)\n    this.rawFrontMatter = rawFrontMatter\n    this._rawFrontMatter = rawFrontMatter\n    this.servingPaths = servingPaths\n    this.defaultLocale = defaultLocale\n    this.locale = defaultLocale\n    this.content = content\n  }\n\n  get data() {\n    // Format the data for selective editor.\n    const data = {}\n\n    for (const key of Object.keys(this.frontMatter.obj)) {\n      data[key] = this.frontMatter.obj[key]\n    }\n\n    data['__content__'] = this.content\n\n    return data\n  }\n\n  get isClean() {\n    // If the raw front matter changes it is not clean.\n    return this.rawFrontMatter == this._rawFrontMatter\n  }\n\n  get servingPath() {\n    return this.servingPaths[this.defaultLocale]\n  }\n\n  update(podPath, frontMatter, rawFrontMatter, servingPaths, defaultLocale, content) {\n    this.podPath = podPath\n    this.frontMatter = autoDeepObject(frontMatter)\n    this.rawFrontMatter = rawFrontMatter\n    this.servingPaths = servingPaths\n    this.defaultLocale = defaultLocale\n    this.locale = defaultLocale\n    this.content = content\n  }\n}\n","/**\n * Content editor.\n */\n\nimport Config from '../utility/config'\nimport Listeners from '../utility/listeners'\nimport Document from './document'\nimport EditorApi from './editorApi'\nimport {\n  html,\n  render,\n  repeat,\n} from 'selective-edit'\nimport Selective from 'selective-edit'\nimport { defaultFields } from './field'\nimport { zoomIframe } from './zoomIframe'\nimport { findParentByClassname } from '../utility/dom'\nimport expandObject from '../utility/expandObject'\n\n\nconst CONTENT_KEY = '__content__'\n\n\nexport default class Editor {\n  constructor(containerEl, config) {\n    this.containerEl = containerEl\n    this.config = new Config(config || {})\n    this.template = (editor, selective) => html`<div class=\"editor ${editor.stylesEditor}\">\n      ${editor.renderEditor(editor, selective)}\n      ${editor.renderPreview(editor, selective)}\n    </div>`\n\n    const EditorApiCls = this.config.get('EditorApiCls', EditorApi)\n    this.api = new EditorApiCls()\n    this.listeners = new Listeners()\n\n    this._podPath = null\n    this.podPath = this.containerEl.dataset.defaultPath || this.config.get('defaultPath', '')\n    this.repo = null\n    this.document = null\n    this.autosaveID = null\n\n    // TODO: Make devices configurable.\n    this.devices = {\n      desktop: {\n        label: 'Desktop',\n        width: 1024,\n      },\n      tablet: {\n        label: 'Tablet',\n        width: 768,\n      },\n      phone: {\n        label: 'Phone',\n        width: 411,\n        height: 731,\n      },\n    }\n    this._defaultDevice = 'desktop'\n    this._device = localStorage.getItem('selective.device') || this._defaultDevice\n\n    // Persistent settings in local storage.\n    this._isEditingSource = localStorage.getItem('selective.isEditingSource') == 'true'\n    this._isFullScreen = localStorage.getItem('selective.isFullScreen') == 'true'\n    this._isHightlighted = localStorage.getItem('selective.isHightlighted') == 'true'\n    this._isDeviceRotated = localStorage.getItem('selective.isDeviceRotated') == 'true'\n    this._isDeviceView = localStorage.getItem('selective.isDeviceView') == 'true'\n    this._isFullMarkdownEditor = false;\n\n    this._isLoading = {}\n    this._isSaving = false\n\n    this._podPaths = null\n    this._routes = null\n\n    // Track the serving path of the iframe when it is different.\n    this._unverifiedServingPath = null\n\n    this.selective = new Selective(null, {})\n\n    // Add the editor reference to the selective object for field access.\n    this.selective.editor = this\n\n    // Add the editor extension default field types.\n    for (const key of Object.keys(defaultFields)) {\n      this.selective.addFieldType(key, defaultFields[key])\n    }\n\n    this.bindEvents()\n    this.bindKeyboard()\n\n    this.load(this.podPath)\n\n    // TODO Start the autosave depending on local storage.\n    // this.startAutosave()\n  }\n\n  get device() {\n    return this._device\n  }\n\n  get autosave() {\n    // Always autosave for now.\n    return true\n  }\n\n  get isClean() {\n    return this.document.isClean && this.selective.isClean\n  }\n\n  get isEditingSource() {\n    return this._isEditingSource\n  }\n\n  get isFullScreen() {\n    // Default to full-screen mode for documents without serving paths.\n    // TODO: We probably want to add a new checkbox to \"disable the link\"\n    // between the preview and the editor. When the preview is disabled,\n    // we do not want to override the full-screen setting. The goal is to\n    // allow the user to be editing a partial document and then refresh the\n    // full preview (corresponding to another doc), without having to\n    // toggle the full-screen view.\n    return this._isFullScreen || !this.servingPath\n  }\n\n  get isHightlighted() {\n    return this._isHightlighted\n  }\n\n  get isDeviceRotated() {\n    return this._isDeviceRotated\n  }\n\n  get isDeviceView() {\n    return this._isDeviceView\n  }\n\n  get podPath() {\n    return this._podPath\n  }\n\n  get previewUrl() {\n    const params = '?editor=true'\n    return `${this.servingPath}${params}`\n  }\n\n  get servingPath() {\n    if (!this.document) {\n      return ''\n    }\n    return this.document.servingPath\n  }\n\n  get stylesEditor() {\n    const styles = []\n\n    if (this.isDeviceView) {\n      styles.push('editor--device')\n\n      // Only allow the rotated when in device view.\n      if (this.isDeviceRotated) {\n        styles.push('editor--rotated')\n      }\n    }\n\n    if (this.isEditingSource) {\n      styles.push('editor--raw')\n    }\n\n    if (this.isFullScreen) {\n      styles.push('editor--fullscreen')\n    }\n\n    if (this._isFullMarkdownEditor) {\n      styles.push('editor--markdown')\n    }\n\n    const urlParams = new URLSearchParams(window.location.search)\n    if (urlParams.has('highlight') || this.isHightlighted) {\n      styles.push('editor--highlight')\n    }\n\n    return styles.join(' ')\n  }\n\n  get templateEditorOrSource() {\n    if (this.isEditingSource) {\n      return html`<div class=\"editor__source\">\n        <textarea @input=${this.handleRawInput.bind(this)}>${this.document.rawFrontMatter}</textarea>\n      </div>`\n    }\n    return html`<div class=\"editor__selective\">\n      ${this.selective.template(this.selective, this.selective.data)}\n    </div>`\n  }\n\n  set device(value) {\n    this._device = value\n    localStorage.setItem('selective.device', this._device)\n  }\n\n  set isEditingSource(value) {\n    this._isEditingSource = value\n    localStorage.setItem('selective.isEditingSource', this._isEditingSource)\n  }\n\n  set isFullScreen(value) {\n    this._isFullScreen = value\n    localStorage.setItem('selective.isFullScreen', this._isFullScreen)\n  }\n\n  set isHightlighted(value) {\n    this._isHightlighted = value\n    localStorage.setItem('selective.isHightlighted', this._isHightlighted)\n  }\n\n  set isDeviceRotated(value) {\n    this._isDeviceRotated = value\n    localStorage.setItem('selective.isDeviceRotated', this._isDeviceRotated)\n  }\n\n  set isDeviceView(value) {\n    this._isDeviceView = value\n    localStorage.setItem('selective.isDeviceView', this._isDeviceView)\n  }\n\n  set podPath(value) {\n    this._podPath = value\n    this.listeners.trigger('podPath', this._podPath)\n  }\n\n  _sizeLabel(device, rotate) {\n    if (device.width && device.height) {\n      if (rotate) {\n        return `${device.height} x ${device.width}`\n      }\n      return `${device.width} x ${device.height}`\n    }\n    return device.width || device.height\n  }\n\n  adjustIframeSize() {\n    const iframeContainerEl = this.containerEl.querySelector('.editor__preview__frame')\n    const iframeEl = this.containerEl.querySelector('.editor__preview iframe')\n    zoomIframe(\n      iframeContainerEl, iframeEl, this.isDeviceView, this.isDeviceRotated,\n      this.devices[this.device], 'editor__preview__frame--contained')\n  }\n\n  bindEvents() {\n    // Rerender when window resizes.\n    window.addEventListener('resize', (evt) => {\n      this.render()\n    })\n\n    // Allow triggering a re-render.\n    document.addEventListener('selective.render', (evt) => {\n      const forceReload = (evt.detail && evt.detail['force'] == true)\n      this.render(forceReload)\n    })\n\n    // Allow triggering a re-render.\n    document.addEventListener('selective.path.update', (evt) => {\n      const podPath = evt.detail['path']\n      this.podPath = podPath\n      this.load(podPath)\n    })\n\n    // Check for navigated iframe when the routes load.\n    this.listeners.add('load.routes', this.verifyPreviewIframe.bind(this))\n  }\n\n  bindKeyboard() {\n    window.addEventListener('keydown', (event) => {\n      // Save when using Ctrl+s or Command+s.\n      if ((event.ctrlKey || event.metaKey) && event.key == 's') {\n        event.preventDefault()\n        this.save()\n        return false\n      }\n      return true\n    })\n  }\n\n  // When editing the pod path wait until the user stops typing before loading.\n  delayPodPath() {\n    this._lastPodPathUpdate = Date.now()\n    setTimeout(() => {\n      if (Date.now() - this._lastPodPathUpdate < 900) {\n        return\n      }\n      this._lastPodPathUpdate = Date.now()\n      this.load(this.podPath)\n    }, 1000)\n  }\n\n  documentFromResponse(response) {\n    this.document = new Document(\n      response['pod_path'],\n      response['front_matter'],\n      response['raw_front_matter'],\n      response['serving_paths'],\n      response['default_locale'],\n      response['content'])\n  }\n\n  handleFieldsClick(evt) {\n    this.isEditingSource = false\n    this.render()\n  }\n\n  handleFullScreenClick(evt) {\n    this.isFullScreen = !this.isFullScreen\n    this.render()\n  }\n\n  handleHighlight(evt) {\n    this.isHightlighted = !this.isHightlighted\n    this.render()\n  }\n\n  handleLoadFieldsResponse(response) {\n    this._isEditingSource = false\n    this._isFullMarkdownEditor = false\n    this.documentFromResponse(response)\n    this.pushState(this.document.podPath)\n\n    // Set the data from the document front matter.\n    this.selective.data = this.document.data\n    this.selective.fields.reset()\n\n    // Load the field configuration from the response.\n    let fieldConfigs = response['editor']['fields'] || []\n\n    // If no fields defined, guess.\n    if (!fieldConfigs.length) {\n      const guessedFields = this.selective.guessFields()\n      fieldConfigs = guessedFields['fields'] || []\n\n      // Remove the content.\n      let contentConfigIndex = null\n      for (let i = 0; i < fieldConfigs.length; i++) {\n        if (fieldConfigs[i].key == CONTENT_KEY) {\n          contentConfigIndex = i\n          break\n        }\n      }\n      if (contentConfigIndex) {\n        fieldConfigs.splice(contentConfigIndex, 1)\n      }\n    }\n\n    for (const fieldConfig of fieldConfigs) {\n      this.selective.addField(fieldConfig, {\n        api: this.api,\n      })\n    }\n\n    // Add the ability to edit the document body.\n    if (response['content']) {\n      let contentType = 'textarea'\n      if (this.document.podPath.endsWith('.md')) {\n        contentType = 'markdown'\n        this._isFullMarkdownEditor = true\n      }\n      this.selective.addField({\n        type: contentType,\n        key: CONTENT_KEY,\n        label: 'Content',\n      }, {\n        api: this.api,\n      })\n    }\n\n    this.render()\n  }\n\n  handleLoadPodPaths(response) {\n    this._podPaths = response['pod_paths']\n    this.listeners.trigger('load.podPaths', {\n      pod_paths: this._podPaths,\n    })\n  }\n\n  handleLoadRoutes(response) {\n    this._routes = response['routes']\n    this.listeners.trigger('load.routes', {\n      pod_paths: this._routes,\n    })\n  }\n\n  handleLoadRepo(response) {\n    this.repo = response['repo']\n    this.listeners.trigger('load.repo', {\n      repo: this.repo,\n    })\n  }\n\n  handleLoadSourceResponse(response) {\n    this._isEditingSource = true\n    this.documentFromResponse(response)\n    this.pushState(this.document.podPath)\n    this.render()\n  }\n\n  handleDeviceRotateClick(evt) {\n    this.isDeviceRotated = !this.isDeviceRotated\n    this.render()\n  }\n\n  handleDeviceSwitchClick(evt) {\n    const target = findParentByClassname(evt.target, 'editor__preview__size')\n    this.device = target.dataset.device\n    this.render()\n  }\n\n  handleDeviceToggleClick(evt) {\n    this.isDeviceView = !this.isDeviceView\n    this.render()\n  }\n\n  handleOpenInNew(evt) {\n    window.open(this.previewUrl, '_blank')\n  }\n\n  handlePodPathChange(evt) {\n    this.load(evt.target.value)\n  }\n\n  handlePodPathInput(evt) {\n    this.delayPodPath(evt.target.value)\n  }\n\n  handlePreviewIframeNavigation(evt) {\n    const newLocation = evt.target.contentWindow.location\n    if (window.location.host != newLocation.host) {\n      // Navigated away from the current site, ignore them.\n      return\n    }\n\n    const newPath = newLocation.pathname\n    if (newPath == this.servingPath) {\n      // Check if the user navigated to the same page.\n      return\n    }\n\n    // Mark the path as the latest path to check once the routes have loaded.\n    // This allows the user to navigate a couple of times while the code is\n    // waiting for the routes info to load and only update to the latest path.\n    this._unverifiedServingPath = newPath\n\n    // User has navigated to a new page on the same host.\n    // If there is a document that has the same serving path switch the editor.\n    this.verifyPreviewIframe()\n\n    // Load the routes info if it has not loaded already.\n    // The verify method is already bound to the loaded routes listener.\n    this.loadRoutes()\n  }\n\n  handleRawInput(evt) {\n    this.document.rawFrontMatter = evt.target.value\n  }\n\n  handleSaveError(err) {\n    this._isSaving = false\n    this.listeners.trigger('save.error', err)\n    this.render()\n  }\n\n  handleSaveResponse(response, isAutosave) {\n    this.document.update(\n      response['pod_path'],\n      response['front_matter'],\n      response['raw_front_matter'],\n      response['serving_paths'],\n      response['default_locale'],\n      response['content'])\n\n    this._isSaving = false\n    this.listeners.trigger('save.response', response, isAutosave)\n\n    this.render(true)\n  }\n\n  handleSourceClick(evt) {\n    this.isEditingSource = true\n    this.render()\n  }\n\n  load(podPath) {\n    if (this.isEditingSource) {\n      this.loadSource(podPath)\n    } else {\n      this.loadFields(podPath)\n    }\n  }\n\n  loadFields(podPath) {\n    this.api.getDocument(podPath).then(this.handleLoadFieldsResponse.bind(this))\n  }\n\n  loadPodPaths(force) {\n    if (!force && this._isLoading['podPaths']) {\n      // Already loading the pod paths, do not re-request.\n      return\n    }\n    this._isLoading['podPaths'] = true\n    this.api.getPodPaths().then(this.handleLoadPodPaths.bind(this))\n  }\n\n  loadRepo() {\n    this.api.getRepo().then(this.handleLoadRepo.bind(this))\n  }\n\n  loadRoutes(force) {\n    if (!force && this._isLoading['routes']) {\n      // Already loading the pod paths, do not re-request.\n      return\n    }\n    this._isLoading['routes'] = true\n    this.api.getRoutes().then(this.handleLoadRoutes.bind(this))\n  }\n\n  loadSource(podPath) {\n    this.api.getDocument(podPath).then(this.handleLoadSourceResponse.bind(this))\n  }\n\n  pushState(podPath) {\n    // Update the url if the document loaded is a different pod path.\n    const basePath = this.config.get('base', '/_grow/editor')\n    const origPath = window.location.pathname\n    const newPath = `${basePath}${podPath}`\n    if (origPath != newPath) {\n      history.pushState({}, '', newPath)\n    }\n  }\n\n  render(force) {\n    render(this.template(this, this.selective), this.containerEl)\n\n    // Adjust the iframe size.\n    this.adjustIframeSize()\n\n    // Allow selective to run its post render process.\n    this.selective.postRender(this.containerEl)\n\n    if (force === true) {\n      // Force a reload when neccesary.\n      // Test for iframe first, as it may be hidden.\n      const iframe = this.containerEl.querySelector('iframe')\n      iframe && iframe.contentWindow.location.reload(true)\n    }\n  }\n\n  renderEditor(editor, selective) {\n    return html`<div class=\"editor__edit\">\n      <div class=\"editor__pod_path\">\n        <input type=\"text\" value=\"${editor.podPath}\"\n          @change=${editor.handlePodPathChange.bind(editor)}\n          @input=${editor.handlePodPathInput.bind(editor)}>\n        <i class=\"material-icons\" @click=${editor.handleFullScreenClick.bind(editor)} title=\"Fullscreen\">${editor.isFullScreen ? 'fullscreen_exit' : 'fullscreen'}</i>\n      </div>\n      <div class=\"editor__cards\">\n        <div class=\"editor__card\">\n          <div class=\"editor__menu\">\n            <button\n                ?disabled=${editor._isSaving || editor.isClean}\n                class=\"editor__save editor--primary ${editor._isSaving ? 'editor__save--saving' : ''}\"\n                @click=${editor.save.bind(editor)}>\n              ${editor.isClean ? 'No changes' : editor._isSaving ? 'Saving...' : 'Save'}\n            </button>\n            <div class=\"editor__actions\">\n              <button class=\"editor__style__fields editor--secondary editor--selected\" @click=${editor.handleFieldsClick.bind(editor)}>Fields</button>\n              <button class=\"editor__style__raw editor--secondary\" @click=${editor.handleSourceClick.bind(editor)}>Raw</button>\n            </div>\n          </div>\n          ${editor.templateEditorOrSource}\n        </div>\n        <div class=\"editor__dev_tools\">\n          <div>Developer tools:</div>\n          <i\n              class=\"editor__dev_tools__icon ${editor.isHightlighted ? 'editor__dev_tools__icon--selected': ''} material-icons\"\n              @click=${editor.handleHighlight.bind(editor)}\n              title=\"Highlight auto fields\">\n            highlight\n          </i>\n        </div>\n      </div>\n    </div>`\n  }\n\n  renderPreview(editor, selective) {\n    if (editor.isFullScreen) {\n      return ''\n    }\n\n    let previewSizes = ''\n    if (editor.isDeviceView) {\n      previewSizes = html`<div class=\"editor__preview__sizes\">\n        ${repeat(Object.entries(this.devices), (device) => device[0], (device, index) => html`\n          <div\n              class=\"editor__preview__size ${editor.device == device[0] ? 'editor__preview__size--selected' : ''}\"\n              data-device=\"${device[0]}\"\n              @click=${editor.handleDeviceSwitchClick.bind(editor)}>\n            ${device[1].label}\n            <span class=\"editor__preview__size__dimension\">\n              (${editor._sizeLabel(device[1], editor.isDeviceRotated)})\n            </span>\n          </div>`)}\n      </div>`\n    }\n\n    return html`<div class=\"editor__preview\">\n      <div class=\"editor__preview__header\">\n        <div class=\"editor__preview__header__label\">\n          Preview\n        </div>\n        ${previewSizes}\n        <div class=\"editor__preview__header__icons\">\n          ${editor.isFullScreen ? '' : html`\n            <i class=\"material-icons\" @click=${editor.handleDeviceToggleClick.bind(editor)} title=\"Toggle device view\">devices</i>\n            <i class=\"material-icons editor--device-only\" @click=${editor.handleDeviceRotateClick.bind(editor)} title=\"Rotate device view\">screen_rotation</i>\n          `}\n          <i class=\"material-icons\" @click=${editor.handleOpenInNew.bind(editor)} title=\"Preview in new window\">open_in_new</i>\n        </div>\n      </div>\n      <div class=\"editor__preview__frame\">\n        <iframe src=\"${editor.previewUrl}\" @load=${editor.handlePreviewIframeNavigation.bind(editor)}></iframe>\n      </div>\n    </div>`\n  }\n\n  save(force, isAutosave) {\n    if (!force && this.isClean) {\n      // Already saved with no new changes.\n      return\n    }\n\n    this._isSaving = true\n    this.render()\n\n    this.listeners.trigger('save.start', {\n      isEditingSource: this.isEditingSource,\n    })\n    if (this.isEditingSource) {\n      const result = this.api.saveDocumentSource(\n        this.podPath, this.document.rawFrontMatter)\n      result.then((response) => this.handleSaveResponse(response, isAutosave))\n      result.catch((err) => this.handleSaveError(err))\n    } else {\n      const newFrontMatter = this.selective.value\n      const content = newFrontMatter[CONTENT_KEY]\n      delete newFrontMatter[CONTENT_KEY]\n      const result = this.api.saveDocumentFields(\n        this.podPath, newFrontMatter, this.document.locale, content)\n      result.then((response) => this.handleSaveResponse(response, isAutosave))\n      result.catch((err) => this.handleSaveError(err))\n    }\n  }\n\n  startAutosave() {\n    if (this.autosaveID) {\n      window.clearInterval(this.autosaveID)\n    }\n\n    this.autosaveID = window.setInterval(() => {\n      this.save(false, true)\n    }, this.config.get('autosaveInterval', 2000))\n  }\n\n  stopAutosave() {\n    if (this.autosaveID) {\n      window.clearInterval(this.autosaveID)\n    }\n  }\n\n  verifyPreviewIframe() {\n    if (!this._unverifiedServingPath || !this._routes) {\n      return\n    }\n\n    if (this._unverifiedServingPath in this._routes) {\n      const match = this._routes[this._unverifiedServingPath]\n      this.podPath = match['pod_path']\n      this.load(this.podPath)\n    }\n  }\n}\n","/**\n * Utility for working with apis.\n */\n\nimport Api from '../utility/api'\nimport Defer from '../utility/defer'\n\nexport default class EditorApi extends Api {\n  constructor(config) {\n    super(config)\n  }\n\n  getDocument(podPath) {\n    const result = new Defer()\n\n    this.request.get(this.apiPath('content'))\n      .query({ 'pod_path': podPath })\n      .then((res) => {\n        result.resolve(res.body)\n      })\n\n    return result.promise\n  }\n\n  getExtensionConfig(extension_path) {\n    const result = new Defer()\n\n    this.request.get(this.apiPath('extension/config'))\n      .query({ 'extension_path': extension_path })\n      .then((res) => {\n        result.resolve(res.body)\n      })\n\n    return result.promise\n  }\n\n  getRoutes(podPath) {\n    const result = new Defer()\n\n    this.request.get(this.apiPath('routes'))\n      .then((res) => {\n        result.resolve(res.body)\n      })\n\n    return result.promise\n  }\n\n  getPartials(podPath) {\n    const result = new Defer()\n\n    this.request.get(this.apiPath('partials'))\n      .then((res) => {\n        result.resolve(res.body)\n      })\n\n    return result.promise\n  }\n\n  getPodPaths() {\n    const result = new Defer()\n\n    this.request.get(this.apiPath('pod_paths'))\n      .then((res) => {\n        result.resolve(res.body)\n      })\n\n    return result.promise\n  }\n\n  getRepo() {\n    const result = new Defer()\n\n    this.request.get(this.apiPath('repo'))\n      .then((res) => {\n        result.resolve(res.body)\n      })\n\n    return result.promise\n  }\n\n  saveDocumentFields(podPath, frontMatter, locale, content) {\n    const result = new Defer()\n    const saveRequest = {\n      'pod_path': podPath,\n      'front_matter': JSON.stringify(frontMatter),\n      'locale': locale,\n      'content': content,\n    }\n\n    this.request.post(this.apiPath('content'))\n      .type('form')\n      .send(saveRequest)\n      .then((res) => {\n        result.resolve(res.body)\n      })\n      .catch((err) => {\n        result.reject(err)\n      })\n\n    return result.promise\n  }\n\n  saveDocumentSource(podPath, rawFrontMatter) {\n    const result = new Defer()\n    const saveRequest = {\n      'pod_path': podPath,\n      'raw_front_matter': rawFrontMatter,\n    }\n\n    this.request.post(this.apiPath('content'))\n      .type('form')\n      .send(saveRequest)\n      .then((res) => {\n        result.resolve(res.body)\n      })\n      .catch((err) => {\n        result.reject(err)\n      })\n\n    return result.promise\n  }\n\n  // TODO: Move to the google image extension.\n  saveGoogleImage(imageFile, uploadUrl) {\n    const result = new Defer()\n    const formData  = new FormData()\n    formData.append('file', imageFile)\n\n    this.request.post(uploadUrl)\n      .send(formData)\n      .then((res) => {\n        result.resolve(res.body)\n      })\n      .catch((err) => {\n        result.reject(err)\n      })\n\n    return result.promise\n  }\n\n  saveImage(imageFile, destination) {\n    const result = new Defer()\n    const formData  = new FormData()\n    formData.append('file', imageFile)\n    formData.append('destination', destination)\n\n    this.request.post(this.apiPath('image'))\n      .send(formData)\n      .then((res) => {\n        result.resolve(res.body)\n      })\n      .catch((err) => {\n        result.reject(err)\n      })\n\n    return result.promise\n  }\n}\n","/**\n * Field types for the editor extension.\n */\n\nimport {\n  ListField,\n} from 'selective-edit'\nimport {\n  DocumentField,\n  YamlField,\n} from './field/constructor'\nimport {\n  GroupField,\n} from './field/structure'\nimport {\n  ImageField,\n  GoogleImageField,\n} from './field/image'\nimport {\n  PartialsField,\n} from './field/partials'\nimport {\n  CheckboxField,\n  DateField,\n  DateTimeField,\n  MarkdownField,\n  SelectField,\n  TextField,\n  TextareaField,\n} from './field/standard'\n\nexport const defaultFields = {\n  'checkbox': CheckboxField,\n  'date': DateField,\n  'datetime': DateTimeField,\n  'document': DocumentField,\n  'google_image': GoogleImageField,\n  'group': GroupField,\n  'image': ImageField,\n  'list': ListField,\n  'markdown': MarkdownField,\n  'partials': PartialsField,\n  'select': SelectField,\n  'text': TextField,\n  'textarea': TextareaField,\n  'yaml': YamlField,\n}\n","/**\n * Constructor field types for the editor extension.\n */\n\nimport {\n  html,\n  repeat,\n  Field,\n} from 'selective-edit'\nimport {\n  inputFocusAtEnd,\n} from '../../utility/dom'\nimport {\n  createWhiteBlackFilter,\n  createValueFilter,\n} from '../../utility/filter'\n\nexport class ConstructorField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'constructor'\n    this.tag = '!g.*'\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <div class=\"selective__field__${field.fieldType}__input\">\n        <input\n          type=\"text\"\n          id=\"${field.getUid()}\"\n          placeholder=\"${field.placeholder}\"\n          value=\"${field.valueFromData(data) || ''}\"\n          @input=${field.handleInput.bind(field)}>\n      </div>\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  handleInput(evt) {\n    // Update the value to what is being typed.\n    // Helps mark the field as dirty.\n    this.value = {\n      'value': evt.target.value,\n      'tag': this.tag,\n    }\n  }\n\n  valueFromData(data) {\n    const value = super.valueFromData(data)\n    if (value) {\n      return value['value']\n    }\n    return ''\n  }\n}\n\nexport class ConstructorFileField extends ConstructorField {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'constructorFile'\n    this._showFileList = false\n    this._podPaths = null\n    this._listeningForPodPaths = false\n    this._filterValue = ''\n    this.filterFunc = createWhiteBlackFilter(\n      // Whitelist.\n      [],\n      // Blacklist.\n      [],\n    )\n\n    this.template = (selective, field, data) => html`\n    <div\n        class=\"selective__field selective__field__${field.fieldType} ${field._showFileList ? 'selective__field__constructor__input--expanded' : ''}\"\n        data-field-type=\"${field.fieldType}\">\n      ${field.bindListeners(selective)}\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <div class=\"selective__field__constructor__input\">\n        <input\n          type=\"text\"\n          id=\"${field.getUid()}\"\n          placeholder=\"${field.placeholder}\"\n          value=\"${field.valueFromData(data) || ''}\"\n          @input=${field.handleInput.bind(field)}>\n        <i class=\"material-icons\" title=\"Select pod path\" @click=${field.handleFilesToggleClick.bind(field)}>list_alt</i>\n      </div>\n      ${field.renderFileList(selective, data)}\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  configList(listKey, defaults) {\n    const list = []\n    const rawList = this.getConfig().get(listKey, [])\n    for (const value of rawList) {\n      list.push(new RegExp(value, 'gi'))\n    }\n\n    if (!list.length) {\n      return defaults || []\n    }\n\n    return list\n  }\n\n  bindListeners(selective) {\n    // Bind the field to the pod path loading.\n    if (!this._listeningForPodPaths) {\n      this._listeningForPodPaths = true\n\n      const handlePodPaths = (response) => {\n        this._podPaths = response.pod_paths.sort().filter(this.filterFunc)\n        document.dispatchEvent(new CustomEvent('selective.render'))\n        window.setTimeout(\n          () => { inputFocusAtEnd(`${this.getUid()}-filter`) },\n          25)\n      }\n\n      // Check if the pod paths are already loaded.\n      if (selective.editor._podPaths) {\n        handlePodPaths({\n          pod_paths: selective.editor._podPaths,\n        })\n      }\n\n      selective.editor.listeners.add('load.podPaths', handlePodPaths)\n    }\n  }\n\n  handleFilesToggleClick(evt) {\n    this._showFileList = !this._showFileList\n    document.dispatchEvent(new CustomEvent('selective.render'))\n\n    // Auto focus on the filter when showing the list.\n    if (this._showFileList) {\n      window.setTimeout(\n        () => { inputFocusAtEnd(`${this.getUid()}-filter`) },\n        25)\n    }\n  }\n\n  handleFileClick(evt) {\n    const podPath = evt.target.dataset.podPath\n    this.value = Object.assign({}, this.value, {\n      value: podPath,\n      tag: this.tag,\n    })\n    this._showFileList = false\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  handleInputFilter(evt) {\n    this._filterValue = evt.target.value\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  renderFileList(selective, data) {\n    if (!this._showFileList) {\n      return ''\n    }\n\n    // If the pod paths have not loaded, show the loading status.\n    if (!this._podPaths) {\n      // Editor ensures it only loads once.\n      selective.editor.loadPodPaths()\n\n      return html`<div class=\"selective__field__constructor__files\">\n        <input\n          id=\"${this.getUid()}-filter\"\n          type=\"text\"\n          @input=${this.handleInputFilter.bind(this)}\n          placeholder=\"Filter...\" />\n        <div class=\"selective__field__constructor__file__list\">\n          <div class=\"editor__loading editor__loading--small editor__loading--pad\"></div>\n        </div>\n      </div>`\n    }\n\n    let podPaths = this._podPaths\n\n    // Allow the current value to also filter the pod paths.\n    if (this._filterValue != '') {\n      podPaths = podPaths.filter(createValueFilter(this._filterValue))\n    }\n\n    return html`<div class=\"selective__field__constructor__files\">\n      <input type=\"text\"\n        id=\"${this.getUid()}-filter\"\n        @input=${this.handleInputFilter.bind(this)}\n        placeholder=\"Filter...\" />\n      <div class=\"selective__field__constructor__file__list\">\n      ${repeat(podPaths, (podPath) => podPath, (podPath, index) => html`\n        <div\n            class=\"selective__field__constructor__file\"\n            data-pod-path=${podPath}\n            @click=${this.handleFileClick.bind(this)}>\n          ${podPath}\n        </div>\n      `)}\n      ${podPaths.length == 0 ? html`\n        <div class=\"selective__field__constructor__file selective__field__constructor__file--empty\">\n          No matches found.\n        </div>` : ''}\n      </div>\n    </div>`\n  }\n}\n\nexport class DocumentField extends ConstructorFileField {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'document'\n    this.tag = '!g.doc'\n    this.filterFunc = createWhiteBlackFilter(\n      // Whitelist.\n      this.configList('whitelist', [/^\\/content\\//]),\n      // Blacklist.\n      this.configList('blacklist'),\n    )\n  }\n}\n\nexport class YamlField extends ConstructorFileField {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'yaml'\n    this.tag = '!g.yaml'\n    this.filterFunc = createWhiteBlackFilter(\n      // Whitelist.\n      this.configList('whitelist', [/^\\/content\\//, /^\\/data\\//, /\\.yaml$/]),\n      // Blacklist.\n      this.configList('blacklist'),\n    )\n  }\n}\n","/**\n * Image field types for the editor extension.\n */\n\nimport {\n  directive,\n  html,\n  repeat,\n  Field,\n} from 'selective-edit'\n\nexport class ImageField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'image'\n    this.previewUrl = ''\n    this.isLoading = false\n\n    // Set the api if it was provided\n    this.api = this.getConfig().get('api')\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <input\n        id=\"${field.getUid()}\"\n        type=\"text\"\n        placeholder=\"${field.placeholder}\"\n        value=\"${field.valueFromData(data) || ''}\"\n        @input=${field.handleInput.bind(field)}\n        ?disabled=\"${field.isLoading}\">\n      <input\n        type=\"file\"\n        id=\"${field.getUid()}_file\"\n        placeholder=\"Upload new image\"\n        @change=${field.handleFileInput.bind(field)}\n        ?disabled=\"${field.isLoading}\">\n      ${field.renderImagePreview(selective, field, data)}\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  renderImagePreview(selective, field, data) {\n    if (field.previewUrl == '') {\n      return ''\n    }\n\n    if (field.isLoading) {\n      return html`<div class=\"selective__field__${field.fieldType}__preview\"><div class=\"editor__loading editor__loading--small\" title=\"Loading...\"></div></div>`\n    }\n\n    // Depends on image element, so needs to run after image has loaded.\n    const imageSizeDirective = directive((field) => (part) => {\n      setTimeout(() => {\n        let el = document.getElementById(`${field.getUid()}_preview`)\n        let imageEl = el.querySelector('img')\n        const updateImage = (() => {\n          part.setValue(`Aspect ratio: ${imageEl.naturalWidth}x${imageEl.naturalHeight}`);\n          part.commit();\n        })\n        // If the image has already loaded.\n        imageEl.complete ? updateImage() : imageEl.addEventListener('load', updateImage)\n      });\n    })\n\n    return html`\n      <div class=\"selective__field__${field.fieldType}__preview\" id=\"${field.getUid()}_preview\">\n        <div class=\"selective__field__${field.fieldType}__preview__image\"><a href=\"${field.previewUrl}\"><img src=\"${field.previewUrl}\"></a></div>\n        <div class=\"selective__field__${field.fieldType}__preview__meta\">${imageSizeDirective(field)}</div>\n      </div>`\n  }\n\n  handleFileInput(evt) {\n    if (!this.api) {\n      console.error('Missing api for image field.')\n      return\n    }\n\n    const destination = this.getConfig().get('destination', '/static/img/upload')\n    this.api.saveImage(evt.target.files[0], destination).then((result) => {\n      this.isLoading = false\n      this.value = result\n      this.previewUrl = result\n      document.dispatchEvent(new CustomEvent('selective.render'))\n    }).catch((err) => {\n      this.isLoading = false\n      document.dispatchEvent(new CustomEvent('selective.render'))\n    })\n\n    this.isLoading = true\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n}\n\n// TODO: Move into the google image extension.\nexport class GoogleImageField extends ImageField {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'google_image'\n\n    // TODO: Change to use the API after the extension is updated to the new\n    // Extension style.\n    // this._extension_config_promise = this.api.getExtensionConfig(\n    //   'extensions.google_cloud_images.GoogleCloudImageExtension')\n    this._extension_config_promise = this.api.getExtensionConfig(\n      'extensions.editor.EditorExtension')\n\n    // Wait for the config promise to return.\n    this._extension_config_promise.then((result) => {\n      let previewPrefix = result['googleImagePreviewPrefix']\n\n      // TODO: Remove once grow > 0.8.20\n      if (!previewPrefix) {\n        console.warn('Hardcoded image preview URL.');\n        previewPrefix = 'https://ext-cloud-images-dot-betterplaceforests-website.appspot.com'\n      }\n\n      this.previewPrefix = previewPrefix\n      document.dispatchEvent(new CustomEvent('selective.render'))\n    })\n  }\n\n  handleFileInput(evt) {\n    if (!this.api) {\n      console.error('Missing api for image field.')\n      return\n    }\n\n    // Wait for the url promise to return.\n    this._extension_config_promise.then((result) => {\n      let uploadUrl = result['googleImageUploadUrl']\n\n      // TODO: Remove once grow > 0.8.20\n      if (!uploadUrl) {\n        console.warn('Hardcoded image upload URL.');\n        uploadUrl = 'https://ext-cloud-images-dot-betterplaceforests-website.appspot.com/_api/upload_file'\n      }\n\n      this.api.saveGoogleImage(evt.target.files[0], uploadUrl).then((result) => {\n        this.value = result['url']\n        this.previewUrl = result['url']\n        this.isLoading = false\n        document.dispatchEvent(new CustomEvent('selective.render'))\n      }).catch((err) => {\n        console.error(err)\n        this.isLoading = false\n        document.dispatchEvent(new CustomEvent('selective.render'))\n      })\n\n      this.isLoading = true\n      document.dispatchEvent(new CustomEvent('selective.render'))\n    })\n  }\n\n  renderImagePreview(selective, field, data) {\n    // Ignore the field values that are resource paths.\n    if (field.value && field.value.startsWith('http')) {\n      field.previewUrl = field.value\n    }\n\n    return super.renderImagePreview(selective, field, data)\n  }\n}\n","/**\n * Partials field types for the editor extension.\n */\n\nimport {\n  autoConfig,\n  html,\n  repeat,\n  Field,\n  ListField,\n  Fields,\n} from 'selective-edit'\nimport EditorAutoFields from '../autoFields'\n\n\nclass PartialFields extends Fields {\n  constructor(fieldTypes, config, partialKey) {\n    super(fieldTypes, config)\n\n    this.label = this.getConfig().get('partial', {})['label'] || 'Partial'\n    this.partialKey = partialKey\n\n    this.template = (selective, fields, data) => html`\n      ${fields.valueFromData(data)}\n      ${repeat(fields.fields, (field) => field.getUid(), (field, index) => html`\n        ${field.template(selective, field, data)}\n      `)}`\n  }\n}\n\nexport class PartialsField extends ListField {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'partials'\n    this.partialTypes = {}\n    this._api = null\n\n    // Set the api if it was provided\n    if (this.getConfig().get('api')) {\n      this.api = this.getConfig().get('api')\n    }\n  }\n\n  _createItems(selective, data) {\n    // No value yet.\n    if (!this.value) {\n      return []\n    }\n\n    // No partials loaded yet.\n    if (!Object.keys(this.partialTypes).length) {\n      return []\n    }\n\n    const autoGuessMissing = this.getConfig().get('autoGuess', true)\n\n    let index = 0\n    const items = []\n    for (const itemData of this.value) {\n      const partialKey = itemData['partial']\n      let partialConfig = this.partialTypes[partialKey]\n\n      // If allowed to guess use a stub of the partial config.\n      if (!partialConfig && autoGuessMissing) {\n        partialConfig = {\n          label: partialKey,\n          fields: [],\n        }\n      }\n\n      if (!partialConfig['label'] && itemData['tag'].startsWith('!g.') && itemData['value']) {\n        partialConfig['label'] = `${itemData['tag']} ${itemData['value']}`\n      }\n\n      // Skip missing partials.\n      // TODO: Make this work with placeholders.\n      if (!partialConfig) {\n        // Add as a hidden partial.\n        items.push({\n          'id': `${this.getUid()}-${partialKey}-${index}`,\n          'partialConfig': {},\n          'index': index,\n          'partialKey': partialKey,\n          'itemFields': [],\n          'isExpanded': false,\n          'isHidden': true,\n          'useAutoFields': false,\n        })\n\n        index += 1\n        continue\n      }\n\n      const itemFields = new PartialFields(selective.fieldTypes, {\n        'partial': partialConfig,\n      })\n      itemFields.valueFromData(itemData)\n\n      let fieldConfigs = partialConfig.fields\n      const useAutoFields = fieldConfigs.length == 0\n\n      if (useAutoFields) {\n        // Auto guess the fields if they are not defined.\n        fieldConfigs = new EditorAutoFields(itemData, {\n          ignoredKeys: ['partial'],\n        }).config['fields']\n      }\n\n      for (let fieldConfig of fieldConfigs || []) {\n        fieldConfig = autoConfig(fieldConfig, this.extendedConfig)\n        itemFields.addField(fieldConfig, this.extendedConfig)\n      }\n\n      // When a partial is not expanded and not hidden it does not get the value\n      // updated correctly so we need to manually call the data update.\n      for (const itemField of itemFields.fields) {\n        itemField.updateFromData(itemData)\n      }\n\n      items.push({\n        'id': `${this.getUid()}-${partialKey}-${index}`,\n        'index': index,\n        'partialConfig': partialConfig,\n        'partialKey': partialKey,\n        'itemFields': itemFields,\n        'isExpanded': false,\n        'isHidden': false,\n        'useAutoFields': useAutoFields,\n      })\n\n      index += 1\n    }\n    return items\n  }\n\n  get api() {\n    return this._api\n  }\n\n  get isExpanded() {\n    if (this._listItems) {\n      // If there is only one partial, expand it.\n      if (this._listItems.length == 1) {\n        return true\n      }\n\n      // Count all partials that are not hidden.\n      let nonHiddenItemCount = 0\n      for (const item of this._listItems) {\n        if (!item['isHidden']) {\n          nonHiddenItemCount += 1\n        }\n      }\n\n      // Handle when all partials are expanded manually.\n      if (nonHiddenItemCount > 0 && this._expandedIndexes.length == nonHiddenItemCount) {\n        return true\n      }\n    }\n\n    return this._isExpanded\n  }\n\n  get value() {\n    if (!this._listItems || this._listItems.length < 1) {\n      return this._dataValue\n    }\n\n    // Loop through each fields and get the values.\n    const values = []\n    for (const item of this._listItems) {\n      if (item['isHidden']) {\n        values.push(this._dataValue[item['index']])\n      } else {\n        values.push(item['itemFields'].value)\n      }\n    }\n\n    return values\n  }\n\n  set api(api) {\n    this._api = api\n    this.updatePartials()\n  }\n\n  set isExpanded(value) {\n    super.isExpanded = value\n  }\n\n  set value(value) {\n    // no-op\n  }\n\n  handleAddItem(evt, selective) {\n    const partialKey = evt.target.value\n    const partialConfig = this.partialTypes[partialKey]\n    const index = (this.value || []).length\n    const itemFields = new PartialFields(selective.fieldTypes, {\n      'partial': partialConfig,\n    })\n    itemFields.valueFromData({\n      'partial': partialKey,\n    })\n\n    const fieldConfigs = partialConfig.fields\n    for (let fieldConfig of fieldConfigs || []) {\n      fieldConfig = autoConfig(fieldConfig, this.extendedConfig)\n      itemFields.addField(fieldConfig, this.extendedConfig)\n    }\n\n    this._listItems.push({\n      'id': `${this.getUid()}-${partialKey}-${index}`,\n      'index': index,\n      'partialConfig': partialConfig,\n      'partialKey': partialKey,\n      'itemFields': itemFields,\n      'isExpanded': false,\n      'isHidden': false,\n    })\n\n    // Expanded by default.\n    this._expandedIndexes.push(index)\n\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  handleLoadPartialsResponse(response) {\n    const partialTypes = []\n\n    // Sorted objects for the partials.\n    const partialKeys = Object.keys(response['partials']).sort()\n    for (const key of partialKeys) {\n      const newPartial = response['partials'][key]\n      newPartial['key'] = key\n      partialTypes[key] = newPartial\n    }\n\n    this.partialTypes = partialTypes\n\n    // Trigger a re-render after the partials load.\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  renderActionsFooter(selective, field, data) {\n    return html`<div class=\"selective__actions\">\n      <select class=\"selective__actions__add\" @change=${(evt) => {field.handleAddItem(evt, selective)}}>\n        <option value=\"\">${field.options['addLabel'] || 'Add section'}</option>\n        ${repeat(Object.entries(field.partialTypes), (item) => item[0], (item, index) => html`\n          <option value=\"${item[1]['key']}\">${item[1]['label']}</option>\n        `)}\n      </select>\n    </div>`\n  }\n\n  renderActionsHeader(selective, field, data) {\n    // Hide when there are no values to expand/collapse.\n    if ((this.value || []).length <= 1) {\n      return ''\n    }\n\n    // Allow collapsing and expanding of sub fields.\n    return html`<div class=\"selective__actions\">\n      <button class=\"selective__action__toggle\" @click=${field.handleToggleExpand.bind(field)}>\n        ${field.isExpanded ? 'Collapse' : 'Expand'}\n      </button>\n    </div>`\n  }\n\n  renderCollapsedPartial(selective, partialItem) {\n    return html`\n      <div class=\"selective__list__item__drag\"><i class=\"material-icons\">drag_indicator</i></div>\n      <div class=\"selective__list__item__label\" data-index=${partialItem['index']} @click=${this.handleItemExpand.bind(this)}>\n        ${partialItem['partialConfig']['label']}\n      </div>\n      ${this.renderPreview(partialItem)}\n      <div\n          class=\"selective__list__item__delete\"\n          data-index=${partialItem['index']}\n          @click=${this.handleItemDelete.bind(this)}\n          title=\"Delete ${partialItem['partialConfig']['label']}\">\n        <i class=\"material-icons\">delete</i>\n      </div>`\n  }\n\n  renderExpandedPartial(selective, partialItem) {\n    const fields = partialItem.itemFields\n    return html`\n      <div class=\"selective__list__item__label\" data-index=${partialItem['index']} @click=${this.handleItemCollapse.bind(this)}>\n        ${partialItem['partialConfig']['label']}\n      </div>\n      ${fields.template(selective, fields, this.value[partialItem['index']])}`\n    return\n  }\n\n  renderHiddenPartial(selective, partialItem) {\n    return html`\n      <div class=\"selective__list__item__drag\"><i class=\"material-icons\">drag_indicator</i></div>\n      <div class=\"selective__list__item__label\" data-index=${partialItem['index']}>\n        ${partialItem['partialConfig']['label'] || partialItem['partialKey']}\n      </div>\n      <div\n          class=\"selective__list__item__delete\"\n          data-index=${partialItem['index']}\n          @click=${this.handleItemDelete.bind(this)}\n          title=\"Delete ${partialItem['partialConfig']['label'] || partialItem['partialKey']}\">\n        <i class=\"material-icons\">delete</i>\n      </div>`\n  }\n\n  renderItems(selective, data) {\n    // No partials loaded yet.\n    if (!Object.keys(this.partialTypes).length) {\n      return html`<div class=\"editor__loading\" title=\"Loading partial configurations\"></div>`\n    }\n\n    this.ensureItems(selective, data)\n\n    // Update the expanded state each render.\n    for (const listItem of this._listItems) {\n      const inIndex = this._expandedIndexes.indexOf(listItem['index']) > -1\n      listItem['isExpanded'] = !listItem['isHidden'] && (this.isExpanded || inIndex)\n    }\n\n    return html`${repeat(this._listItems, (listItem) => listItem['id'], (listItem, index) => html`\n      <div class=\"selective__list__item selective__list__item--${listItem['isExpanded'] ? 'expanded' : listItem['isHidden'] ? 'hidden' : 'collapsed'} ${listItem['useAutoFields'] ? 'selective__list__item--auto' : ''}\"\n          draggable=\"true\"\n          data-index=${listItem['index']}\n          @dragenter=${this.handleDragEnter.bind(this)}\n          @dragleave=${this.handleDragLeave.bind(this)}\n          @dragover=${this.handleDragOver.bind(this)}\n          @dragstart=${this.handleDragStart.bind(this)}\n          @drop=${this.handleDrop.bind(this)}>\n        ${listItem['isExpanded']\n          ? this.renderExpandedPartial(selective, listItem)\n          : listItem['isHidden']\n            ? this.renderHiddenPartial(selective, listItem)\n            : this.renderCollapsedPartial(selective, listItem)}\n      </div>\n    `)}`\n  }\n\n  renderPreview(partialItem) {\n    const previewValue = this._determineItemPreview(partialItem)\n\n    if (!previewValue) {\n      return ''\n    }\n\n    return html`<div class=\"selective__list__item__preview\" data-index=${partialItem['index']} @click=${this.handleItemExpand.bind(this)}>\n      ${previewValue}\n    </div>`\n  }\n\n  updatePartials() {\n    this.api.getPartials().then(this.handleLoadPartialsResponse.bind(this))\n  }\n}\n","/**\n * Standard field types for the editor extension.\n */\n\nimport {\n  html,\n  repeat,\n  Field,\n} from 'selective-edit'\nimport {\n  findParentByClassname,\n  inputFocusAtEnd,\n} from '../../utility/dom'\nimport pell from 'pell'\nimport showdown from 'showdown'\n\n\nexport class CheckboxField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'checkbox'\n\n    this.template = (selective, field, data) => html`<div\n        class=\"selective__field selective__field__${field.fieldType} ${field.valueFromData(data) ? 'selective__field__checkbox--checked' : ''}\"\n        data-field-type=\"${field.fieldType}\" @click=${field.handleInput.bind(field)}>\n      <div class=\"selective__field__checkbox__label\">${field.label}</div>\n      <i class=\"material-icons\">${this.value ? 'check_box' : 'check_box_outline_blank'}</i>\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  handleInput(evt) {\n    this.value = !this.value\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n}\n\nexport class DateField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'date'\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <input\n          id=\"${field.getUid()}\"\n          type=\"date\"\n          placeholder=\"${field.placeholder}\"\n          @input=${field.handleInput.bind(field)}\n          value=${field.valueFromData(data) || ''} />\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n}\n\nexport class DateTimeField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'datetime'\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <input\n          id=\"${field.getUid()}\"\n          type=\"datetime-local\"\n          placeholder=\"${field.placeholder}\"\n          @input=${field.handleInput.bind(field)}\n          value=${field.valueFromData(data) || ''} />\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n}\n\n// TODO: Use a full markdown editor.\nexport class MarkdownField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'markdown'\n    this.showdown = new showdown.Converter()\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <div id=\"${field.getUid()}\" class=\"pell\">${field.updateFromData(data)}</div>\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  postRender(containerEl) {\n    const actions = this.getConfig().get('pellActions', [\n      'bold', 'italic', 'heading1', 'heading2', 'olist', 'ulist', 'link'])\n    const fieldInstances = containerEl.querySelectorAll('.selective__field__markdown')\n    for (const fieldInstance of fieldInstances) {\n      if (!fieldInstance.pellEditor) {\n        const pellEl = fieldInstance.querySelector('.pell')\n\n        fieldInstance.pellEditor = pell.init({\n          element: pellEl,\n          actions: actions,\n          onChange: (html) => {\n            this.value = this.showdown.makeMarkdown(html)\n            document.dispatchEvent(new CustomEvent('selective.render'))\n          }\n        })\n      }\n\n      if (this.isClean) {\n        fieldInstance.pellEditor.content.innerHTML = this.showdown.makeHtml(this.value || '')\n      }\n    }\n  }\n}\n\nexport class SelectField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'select'\n    this.threshold = 12\n\n    // Determine which icons to use\n    this.useMulti = this.getConfig().get('multi', false)\n    this.icons = (this.useMulti\n      ? ['check_box_outline_blank', 'check_box']\n      : ['radio_button_unchecked', 'radio_button_checked'])\n\n    this.template = (selective, field, data) => html`<div\n        class=\"selective__field selective__field__${field.fieldType} ${field.options.length > field.threshold ? `selective__field__${field.fieldType}--list` : ''}\"\n        data-field-type=\"${field.fieldType}\" >\n      <div class=\"selective__field__select__label\">${field.label}</div>\n      <div class=\"selective__field__select__options\">\n        ${repeat(field.options, (option) => option.value, (option, index) => html`\n          <div class=\"selective__field__select__value\" data-value=\"${option.value}\" @click=${field.handleInput.bind(field)}>\n            <div class=\"selective__field__select__option ${field._isSelected(option.value) ? 'selective__field__select__option--checked' : ''}\">\n              <i class=\"material-icons\">${field._isSelected(option.value) ? field.icons[1] : field.icons[0] }</i>\n              ${option.label || '(None)'}\n            </div>\n          </div>\n        `)}\n      </div>\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  _isSelected(optionValue) {\n    let value = this.value\n\n    if (!this.useMulti) {\n      return value == '' ? optionValue == null : optionValue == value\n    }\n\n    // Reset when converting between non-array values.\n    if (!Array.isArray(value)) {\n      value = []\n    }\n\n    return (value || []).includes(optionValue)\n  }\n\n  handleInput(evt) {\n    const target = findParentByClassname(evt.target, 'selective__field__select__value')\n    const value = target.dataset.value == 'null' ? null : target.dataset.value\n\n    if (!this.useMulti) {\n      this.value = value\n      document.dispatchEvent(new CustomEvent('selective.render'))\n      return\n    }\n\n    if (!value) {\n      return\n    }\n\n    // Adjust the list if using multi value\n    let newValue = this.value || []\n\n    // Reset when converting between non-array values.\n    if (!Array.isArray(newValue)) {\n      newValue = []\n    }\n\n    if (newValue.includes(value)) {\n      newValue = newValue.filter(item => item !== value)\n    } else {\n      newValue.push(value)\n    }\n    this.value = newValue\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n}\n\nexport class TextField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'text'\n    this.threshold = this.getConfig().threshold || 75\n    this._isSwitching = false\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      ${field.updateFromData(data)}\n      ${field.renderInput(selective, field, data)}\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  handleInput(evt) {\n    super.handleInput(evt)\n\n    // Check if the threshold has been reached.\n    const isInput = evt.target.tagName.toLowerCase() == 'input'\n    if (isInput && this.value.length > this.threshold && !this._isSwitching) {\n      // Only trigger switch once.\n      this._isSwitching = true\n\n      const id = evt.target.id\n      document.dispatchEvent(new CustomEvent('selective.render'))\n\n      // Trigger auto focus after a delay for rendering.\n      window.setTimeout(\n        () => { inputFocusAtEnd(id) },\n        25)\n    }\n  }\n\n  renderInput(selective, field, data) {\n    // Switch to textarea if the length is long.\n    if ((this.value || '').length > this.threshold) {\n      return html`\n        <textarea\n            id=\"${field.getUid()}\"\n            rows=\"${field.getConfig().rows || 6}\"\n            placeholder=\"${field.placeholder}\"\n            @input=${field.handleInput.bind(field)}>${this.value || ' '}</textarea>`\n    }\n\n    return html`\n      <input\n        type=\"text\"\n        id=\"${field.getUid()}\"\n        value=\"${this.value || ''}\"\n        placeholder=\"${field.placeholder}\"\n        @input=${field.handleInput.bind(field)}>`\n  }\n}\n\nexport class TextareaField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'textarea'\n\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      <label for=\"${field.getUid()}\">${field.label}</label>\n      <textarea\n          id=\"${field.getUid()}\"\n          rows=\"${field.getConfig().rows || 6}\"\n          placeholder=\"${field.placeholder}\"\n          @input=${field.handleInput.bind(field)}>${field.valueFromData(data) || ' '}</textarea>\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n}\n","/**\n * Structure field types for the editor extension.\n */\n\nimport {\n  autoConfig,\n  autoDeepObject,\n  html,\n  repeat,\n  Field,\n  Fields,\n} from 'selective-edit'\nimport EditorAutoFields from '../autoFields'\n\nexport class GroupField extends Field {\n  constructor(config, extendedConfig) {\n    super(config, extendedConfig)\n    this.fieldType = 'group'\n    this.fields = null\n    this.isExpanded = false\n    this.template = (selective, field, data) => html`<div class=\"selective__field selective__field__${field.fieldType}\" data-field-type=\"${field.fieldType}\">\n      ${field.ensureFields(selective, data)}\n      ${field.updateFromData(data)}\n      <div class=\"selective__field__${field.fieldType}__handle\" @click=${field.handleToggleExpand.bind(field)}>\n        <i class=\"material-icons\">${field.isExpanded ? 'expand_less' : 'expand_more'}</i>\n        <div class=\"selective__field__${field.fieldType}__label\">${field.label}</div>\n      </div>\n      ${field.renderFields(selective, data)}\n      ${field.renderHelp(selective, field, data)}\n    </div>`\n  }\n\n  get isClean() {\n    // If there are no fields, nothing has changed.\n    if (!this.fields) {\n      return true\n    }\n\n    for (const field of this.fields.fields) {\n      if (!field.isClean) {\n        return false\n      }\n    }\n  }\n\n  get value() {\n    if (!this.fields) {\n      return this._dataValue\n    }\n\n    const value = autoDeepObject({})\n\n    for (const field of this.fields.fields) {\n      value.set(field.key, field.value)\n    }\n\n    return value.obj\n  }\n\n  set value(value) {\n    // no-op\n  }\n\n  _createFields(selective, data) {\n    const fields = new Fields(selective.fieldTypes)\n    fields.valueFromData(this.value)\n\n    let fieldConfigs = this.getConfig().get('fields', [])\n    const useAutoFields = fieldConfigs.length == 0\n\n    if (useAutoFields) {\n      // Auto guess the fields if they are not defined.\n      fieldConfigs = new EditorAutoFields(this.value).config['fields']\n    }\n\n    for (let fieldConfig of fieldConfigs || []) {\n      fieldConfig = autoConfig(fieldConfig, this.extendedConfig)\n      fields.addField(fieldConfig, this.extendedConfig)\n    }\n\n    // When a not expanded it does not get the value updated correctly\n    // so we need to manually call the data update.\n    for (const field of fields.fields) {\n      field.updateFromData(this.value || {})\n    }\n\n    return fields\n  }\n\n  // Ensure that fields are created so they can be populated and the keyless\n  // groups can correctly return the partial value.\n  ensureFields(selective, data) {\n    // If the sub fields have not been created create them now.\n    if (!this.fields) {\n      this.fields = this._createFields(selective, data)\n    }\n  }\n\n  handleToggleExpand(evt) {\n    this.isExpanded = !this.isExpanded\n    document.dispatchEvent(new CustomEvent('selective.render'))\n  }\n\n  renderFields(selective, data) {\n    this.ensureFields()\n\n    if (!this.isExpanded) {\n      return ''\n    }\n\n    return html`<div class=\"selective__group\">\n      ${this.fields.template(selective, this.fields, this.value)}\n    </div>`\n  }\n\n  valueFromData(data) {\n    if (this.key) {\n      return super.valueFromData(data)\n    }\n\n    // Nothing to do without fields.\n    if (!this.fields) {\n      this._dataValue = data\n      return this.value\n    }\n\n    const newDataValue = autoDeepObject({})\n\n    for (const field of this.fields.fields) {\n      newDataValue.set(field.key, field.value)\n    }\n\n    this._dataValue = newDataValue.obj\n\n    return this.value\n  }\n}\n","export const zoomIframe = (containerEl, iframeEl, isDeviceView, isRotated, device, containedClass) => {\n  if (!iframeEl) {\n    return\n  }\n\n  // Reset styling to grab correct container bounds.\n  iframeEl.style.height = '100px'\n  iframeEl.style.transform = `scale(1)`\n  iframeEl.style.width = '100px'\n  containerEl.style.maxHeight = null\n  containerEl.style.maxWidth = null\n  containerEl.classList.remove(containedClass)\n\n  // Default adjustments to reset the iframeEl.\n  let adjustHeight = 'auto'\n  let adjustMaxHeight = 'auto'\n  let adjustScale = 1\n  let adjustWidth = 'auto'\n\n  if (isDeviceView) {\n    const containerHeight = containerEl.offsetHeight\n    const containerWidth = containerEl.offsetWidth\n    let deviceHeight = device['height']\n    let deviceWidth = device['width']\n\n    if (deviceWidth && deviceHeight) {\n      containerEl.classList.add(containedClass)\n\n      // Adjust for rotated device.\n      deviceHeight = isRotated ? device['width'] : device['height']\n      deviceWidth = isRotated ? device['height'] : device['width']\n\n      // Constant ratio.\n      const fitsWidth = deviceWidth <= containerWidth\n      const fitsHeight = deviceHeight <= containerHeight\n      if (fitsWidth && fitsHeight) {\n        // No need to do scaling, just adjust the size of the iframe.\n        adjustHeight = deviceHeight\n        adjustMaxHeight = deviceHeight\n        adjustWidth = deviceWidth\n      } else if (fitsWidth) {\n        // Height does not fit. Scale down.\n        adjustHeight = deviceHeight\n        adjustMaxHeight = deviceHeight\n        adjustWidth = deviceWidth * (deviceHeight / containerHeight)\n        adjustScale = containerHeight / deviceHeight\n      } else {\n        // Width does not fit. Scale down.\n        adjustHeight = deviceHeight * (deviceWidth / containerWidth)\n        adjustMaxHeight = deviceHeight * (deviceWidth / containerWidth)\n        adjustWidth = deviceWidth\n        adjustScale = containerWidth / deviceWidth\n      }\n    } else if (deviceWidth) {\n      // Scale width and auto adjust height.\n      const fitsWidth = deviceWidth <= containerWidth\n      if (fitsWidth) {\n        containerEl.classList.add(containedClass)\n        adjustWidth = deviceWidth\n      } else {\n        adjustHeight = containerHeight * (deviceWidth / containerWidth)\n        adjustMaxHeight = containerHeight * (deviceWidth / containerWidth)\n        adjustWidth = deviceWidth\n        adjustScale = containerWidth / deviceWidth\n      }\n    } else {\n      // Scale height and auto adjust width.\n      const fitsHeight = deviceHeight <= containerHeight\n      if (fitsHeight) {\n        adjustHeight = deviceHeight\n      } else {\n        adjustHeight = deviceHeight\n        adjustMaxHeight = containerWidth * (deviceHeight / containerHeight)\n        adjustWidth = containerWidth * (deviceHeight / containerHeight)\n        adjustScale = containerHeight / deviceHeight\n      }\n    }\n\n    // Make sure that the framing container does not expand.\n    containerEl.style.maxWidth = `${containerWidth}px`\n  }\n\n  iframeEl.style.height = adjustHeight == 'auto' ? 'auto' : `${adjustHeight}px`\n  iframeEl.style.maxHeight = adjustMaxHeight == 'auto' ? null : `${adjustMaxHeight}px`\n  iframeEl.style.transform = `scale(${adjustScale})`\n  iframeEl.style.width = adjustWidth == 'auto' ? 'auto' : `${adjustWidth}px`\n}\n","/**\n * Utility for working with apis.\n */\n\nimport Config from './config'\n\nconst request = require('superagent');\n\nexport default class Api {\n  constructor(config) {\n    this.config = new Config(config, {\n      'basePath': '/_grow/api/editor/',\n    })\n    this.request = request\n  }\n\n  apiPath(path) {\n    return `${this.config.get('basePath', '/')}${path}`\n  }\n}","/**\n * Utility for working with config.\n */\n\nexport default class Config {\n  constructor(config, defaultValues) {\n    this._defaultValues = defaultValues || {}\n    this._config = Object.assign({}, this._defaultValues, config || {})\n\n    // Allow for direct access to config values.\n    for (const key of Object.keys(this._config)) {\n      this[key] = this._config[key]\n    }\n  }\n\n  get(key, defaultValue) {\n    if (typeof this._config[key] == 'undefined') {\n      return defaultValue\n    }\n    return this._config[key]\n  }\n\n  set(key, value) {\n    this._config[key] = value\n    return this[key] = value\n  }\n}\n","/**\n * Utility for working with deep object references.\n *\n * Example: obj.get('somthing.sub.key') would deeply reference the object.\n */\n\nexport default class DeepObject {\n  constructor(obj) {\n    this.obj = obj || {}\n  }\n\n  get(key) {\n    let root = this.obj\n\n    if (!key) {\n      return root\n    }\n\n    for (const part of key.split('.')) {\n      if (!root) {\n        return undefined\n      }\n      if (!part in root) {\n        return undefined\n      }\n      root = root[part]\n    }\n    return root\n  }\n\n  set(key, value) {\n    if (!key) {\n      this.obj = value\n      return\n    }\n\n    let root = this.obj\n\n    const parts = key.split('.')\n    for (let i = 0; i < parts.length - 1; i++) {\n      const part = parts[i]\n      if (!(part in root)) {\n        root[part] = {}\n      }\n      root = root[part]\n    }\n    root[parts[parts.length - 1]] = value\n  }\n}\n\n\nexport const autoDeepObject = (value) => {\n  if (value === undefined) {\n    return value\n  }\n\n  let has_get = false\n  if (value.get && typeof value.get === 'function') {\n    has_get = true\n  }\n\n  // Allow for duck typing and external objects that define a get.\n  if (has_get || value instanceof DeepObject) {\n    return value\n  }\n\n  return new DeepObject(value)\n}\n","export default class Defer {\n  constructor() {\n    this.resolve = null\n    this.reject = null\n\n    this.promise = new Promise(function(resolve, reject) {\n      this.resolve = resolve\n      this.reject = reject\n    }.bind(this))\n\n    Object.freeze(this)\n  }\n}\n","/**\n *  DOM helper functions.\n */\n\nexport const findParentByClassname = (element, classname) => {\n  while(element && !element.classList.contains(classname)) {\n    element = element.parentElement\n  }\n  return element\n}\n\nexport const inputFocusAtEnd = (elementId) => {\n  const inputEl = document.getElementById(elementId)\n\n  if (!inputEl) {\n    return\n  }\n\n  inputEl.focus()\n\n  // Focus at the end to keep typing.\n  inputEl.selectionStart = inputEl.selectionEnd = inputEl.value.length\n}\n","/**\n * Expand a short keyed object ('key.subkey') into a full object.\n */\n\nexport default function expandObject(original) {\n  const expanded = {}\n\n  for (const prop in original) {\n    deepExpandPath(expanded, prop, original[prop])\n  }\n\n  return expanded\n}\n\nfunction deepExpandPath(obj, path, value) {\n  const parts = path.split('.')\n  if (parts.length == 1) {\n    if (Array.isArray(value)) {\n      deepExpandArray(value)\n    }\n    obj[path] = value\n  } else {\n    const initialKey = parts[0]\n    if (initialKey in obj === false) {\n      obj[initialKey] = {}\n      deepExpandPath(obj[initialKey], parts.slice(1).join('.'), value)\n    }\n  }\n}\n\nfunction deepExpandArray(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    if (typeof arr[i] === 'object') {\n      arr[i] = expandObject(arr[i])\n    } else if (Array.isArray(arr[i])) {\n      deepExpandArray(arr[i])\n    } else {\n      console.warn('Unknown deep expand for array: ', arr[i])\n    }\n  }\n}\n","// Creates a filter that uses a whitelist and blacklist of regex to filter.\nexport const createWhiteBlackFilter = (whitelist, blacklist) => {\n  whitelist = whitelist || []\n  blacklist = blacklist || []\n\n  return (value) => {\n    // Test against the whitelist.\n    if (whitelist.length) {\n      let meetsWhitelist = false\n      for (const exp of whitelist) {\n        if (value.match(exp)) {\n          meetsWhitelist = true\n          break\n        }\n      }\n\n      if (!meetsWhitelist) {\n        return false\n      }\n    }\n\n    // Test against the blacklist.\n    for (const exp of blacklist) {\n      if (value.match(exp)) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\n// Creates a filter that uses a value to filter.\nexport const createValueFilter = (filterValue) => {\n  return (value) => {\n    return value.includes(filterValue)\n  }\n}\n","/**\n * Utility class for allowing a class to bind listeners and trigger callbacks.\n */\n\nexport default class Listeners {\n  constructor() {\n    this._listeners = {}\n  }\n\n  add(eventName, callback) {\n    const listeners = this.listenersForEvent(eventName)\n    listeners.push(callback)\n  }\n\n  listenersForEvent(eventName) {\n    if (!this._listeners[eventName]) {\n      this._listeners[eventName] = []\n    }\n    return this._listeners[eventName]\n  }\n\n  trigger(eventName, ...data) {\n    for (const listener of this.listenersForEvent(eventName)) {\n      listener(...data)\n    }\n  }\n}\n","/**\n * Throttle events using the requestAnimationFrame.\n */\n\nexport default class Throttle {\n  constructor(type, name) {\n    this.running = false;\n    window.addEventListener(type, () => {\n      if (this.running) {\n        return\n      }\n      this.running = true\n      requestAnimationFrame(() => {\n        window.dispatchEvent(new CustomEvent(name))\n        this.running = false;\n      })\n    })\n  }\n}\n"],"sourceRoot":""}