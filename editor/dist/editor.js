!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";(function(e){
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function i(t){return t instanceof e||t instanceof Date||t instanceof RegExp}function r(t){if(t instanceof e){var i=e.alloc?e.alloc(t.length):new e(t.length);return t.copy(i),i}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function n(t){var e=[];return t.forEach((function(t,s){"object"==typeof t&&null!==t?Array.isArray(t)?e[s]=n(t):i(t)?e[s]=r(t):e[s]=o({},t):e[s]=t})),e}function s(t,e){return"__proto__"===e?void 0:t[e]}var o=t.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,a=arguments[0],l=Array.prototype.slice.call(arguments,1);return l.forEach((function(l){"object"!=typeof l||null===l||Array.isArray(l)||Object.keys(l).forEach((function(h){return e=s(a,h),(t=s(l,h))===a?void 0:"object"!=typeof t||null===t?void(a[h]=t):Array.isArray(t)?void(a[h]=n(t)):i(t)?void(a[h]=r(t)):"object"!=typeof e||null===e||Array.isArray(e)?void(a[h]=o({},t)):void(a[h]=o(e,t))}))})),a}}).call(this,i(10).Buffer)},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!==t&&"object"===r(t)}},function(t,e,i){"use strict";i.r(e);class r{constructor(t,e){this._defaultValues=e||{},this._config=Object.assign({},this._defaultValues,t||{});for(const t of Object.keys(this._config))this[t]=this._config[t]}get(t,e){return void 0===this._config[t]?e:this._config[t]}set(t,e){return this._config[t]=e,this[t]=e}}class n{constructor(){this._listeners={}}add(t,e){this.listenersForEvent(t).push(e)}listenersForEvent(t){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t]}trigger(t,...e){for(const i of this.listenersForEvent(t))i(...e)}}class s{constructor(t){this.obj=t||{}}get(t){let e=this.obj;for(const i of t.split(".")){if(!e)return;if(!i in e)return;e=e[i]}return e}set(t,e){let i=this.obj;const r=t.split(".");for(let t=0;t<r.length-1;t++){const e=r[t];e in i||(i[e]={}),i=i[e]}i[r[r.length-1]]=e}}const o=t=>t.get&&"function"==typeof t.get||t instanceof s?t:new s(t);class a{constructor(t,e,i,r,n,s){this.podPath=t,this.frontMatter=o(e),this.rawFrontMatter=i,this._rawFrontMatter=i,this.servingPaths=r,this.defaultLocale=n,this.locale=n,this.content=s}get data(){const t={};for(const e of Object.keys(this.frontMatter.obj))t[e]=this.frontMatter.obj[e];return t.__content__=this.content,t}get isClean(){return this.rawFrontMatter==this._rawFrontMatter}get servingPath(){return this.servingPaths[this.defaultLocale]}update(t,e,i,r,n,s){this.podPath=t,this.frontMatter=o(e),this.rawFrontMatter=i,this.servingPaths=r,this.defaultLocale=n,this.locale=n,this.content=s}}const l=i(3);class h{constructor(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this)),Object.freeze(this)}}class u extends class{constructor(t){this.config=new r(t,{basePath:"/_grow/api/editor/"}),this.request=l}apiPath(t){return`${this.config.get("basePath","/")}${t}`}}{constructor(t){super(t)}getDocument(t){const e=new h;return this.request.get(this.apiPath("content")).query({pod_path:t}).then(t=>{e.resolve(t.body)}),e.promise}getDocuments(t){const e=new h;return this.request.get(this.apiPath("documents")).then(t=>{e.resolve(t.body)}),e.promise}getPartials(t){const e=new h;return this.request.get(this.apiPath("partials")).then(t=>{e.resolve(t.body)}),e.promise}getPodPaths(){const t=new h;return this.request.get(this.apiPath("pod_paths")).then(e=>{t.resolve(e.body)}),t.promise}getRepo(){const t=new h;return this.request.get(this.apiPath("repo")).then(e=>{t.resolve(e.body)}),t.promise}saveDocumentFields(t,e,i,r){const n=new h,s={pod_path:t,front_matter:JSON.stringify(e),locale:i,content:r};return this.request.post(this.apiPath("content")).type("form").send(s).then(t=>{n.resolve(t.body)}),n.promise}saveDocumentSource(t,e){const i=new h,r={pod_path:t,raw_front_matter:e};return this.request.post(this.apiPath("content")).type("form").send(r).then(t=>{i.resolve(t.body)}),i.promise}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const d=new WeakMap,c=t=>"function"==typeof t&&d.has(t),p=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,f=(t,e,i=null,r=null)=>{for(;e!==i;){const i=e.nextSibling;t.insertBefore(e,r),e=i}},g=(t,e,i=null)=>{for(;e!==i;){const i=e.nextSibling;t.removeChild(e),e=i}},_={},y={},v=`{{lit-${String(Math.random()).slice(2)}}}`,m=`\x3c!--${v}--\x3e`,b=new RegExp(`${v}|${m}`);class w{constructor(t,e){this.parts=[],this.element=e;const i=[],r=[],n=document.createTreeWalker(e.content,133,null,!1);let s=0,o=-1,a=0;const{strings:l,values:{length:h}}=t;for(;a<h;){const t=n.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:i}=e;let r=0;for(let t=0;t<i;t++)E(e[t].name,"$lit$")&&r++;for(;r-- >0;){const e=l[a],i=A.exec(e)[2],r=i.toLowerCase()+"$lit$",n=t.getAttribute(r);t.removeAttribute(r);const s=n.split(b);this.parts.push({type:"attribute",index:o,name:i,strings:s}),a+=s.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),n.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(v)>=0){const r=t.parentNode,n=e.split(b),s=n.length-1;for(let e=0;e<s;e++){let i,s=n[e];if(""===s)i=T();else{const t=A.exec(s);null!==t&&E(t[2],"$lit$")&&(s=s.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),i=document.createTextNode(s)}r.insertBefore(i,t),this.parts.push({type:"node",index:++o})}""===n[s]?(r.insertBefore(T(),t),i.push(t)):t.data=n[s],a+=s}}else if(8===t.nodeType)if(t.data===v){const e=t.parentNode;null!==t.previousSibling&&o!==s||(o++,e.insertBefore(T(),t)),s=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(i.push(t),o--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(v,e+1));)this.parts.push({type:"node",index:-1}),a++}}else n.currentNode=r.pop()}for(const t of i)t.parentNode.removeChild(t)}}const E=(t,e)=>{const i=t.length-e.length;return i>=0&&t.slice(i)===e},x=t=>-1!==t.index,T=()=>document.createComment(""),A=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class P{constructor(t,e,i){this.__parts=[],this.template=t,this.processor=e,this.options=i}update(t){let e=0;for(const i of this.__parts)void 0!==i&&i.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=p?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],i=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let n,s=0,o=0,a=r.nextNode();for(;s<i.length;)if(n=i[s],x(n)){for(;o<n.index;)o++,"TEMPLATE"===a.nodeName&&(e.push(a),r.currentNode=a.content),null===(a=r.nextNode())&&(r.currentNode=e.pop(),a=r.nextNode());if("node"===n.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,n.name,n.strings,this.options));s++}else this.__parts.push(void 0),s++;return p&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const S=` ${v} `;class R{constructor(t,e,i,r){this.strings=t,this.values=e,this.type=i,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",i=!1;for(let r=0;r<t;r++){const t=this.strings[r],n=t.lastIndexOf("\x3c!--");i=(n>-1||i)&&-1===t.indexOf("--\x3e",n+1);const s=A.exec(t);e+=null===s?t+(i?S:m):t.substr(0,s.index)+s[1]+s[2]+"$lit$"+s[3]+v}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const C=t=>null===t||!("object"==typeof t||"function"==typeof t),O=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class I{constructor(t,e,i){this.dirty=!0,this.element=t,this.name=e,this.strings=i,this.parts=[];for(let t=0;t<i.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new $(this)}_getValue(){const t=this.strings,e=t.length-1;let i="";for(let r=0;r<e;r++){i+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(C(t)||!O(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class ${constructor(t){this.value=void 0,this.committer=t}setValue(t){t===_||C(t)&&t===this.value||(this.value=t,c(t)||(this.committer.dirty=!0))}commit(){for(;c(this.value);){const t=this.value;this.value=_,t(this)}this.value!==_&&this.committer.commit()}}class k{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(T()),this.endNode=t.appendChild(T())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=T()),t.__insert(this.endNode=T())}insertAfterPart(t){t.__insert(this.startNode=T()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;c(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=_,t(this)}const t=this.__pendingValue;t!==_&&(C(t)?t!==this.value&&this.__commitText(t):t instanceof R?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):O(t)?this.__commitIterable(t):t===y?(this.value=y,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,i="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=i:this.__commitNode(document.createTextNode(i)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof P&&this.value.template===e)this.value.update(t.values);else{const i=new P(e,t.processor,this.options),r=i._clone();i.update(t.values),this.__commitNode(r),this.value=i}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let i,r=0;for(const n of t)i=e[r],void 0===i&&(i=new k(this.options),e.push(i),0===r?i.appendIntoPart(this):i.insertAfterPart(e[r-1])),i.setValue(n),i.commit(),r++;r<e.length&&(e.length=r,this.clear(i&&i.endNode))}clear(t=this.startNode){g(this.startNode.parentNode,t.nextSibling,this.endNode)}}class D{constructor(t,e,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=i}setValue(t){this.__pendingValue=t}commit(){for(;c(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=_,t(this)}if(this.__pendingValue===_)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=_}}class F extends I{constructor(t,e,i){super(t,e,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new j(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class j extends ${}let N=!1;try{const t={get capture(){return N=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class M{constructor(t,e,i){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=i,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;c(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=_,t(this)}if(this.__pendingValue===_)return;const t=this.__pendingValue,e=this.value,i=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=U(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=_}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const U=t=>t&&(N?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const L=new class{handleAttributeExpressions(t,e,i,r){const n=e[0];if("."===n){return new F(t,e.slice(1),i).parts}return"@"===n?[new M(t,e.slice(1),r.eventContext)]:"?"===n?[new D(t,e.slice(1),i)]:new I(t,e,i).parts}handleTextExpression(t){return new k(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function B(t){let e=V.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},V.set(t.type,e));let i=e.stringsArray.get(t.strings);if(void 0!==i)return i;const r=t.strings.join(v);return i=e.keyString.get(r),void 0===i&&(i=new w(t,t.getTemplateElement()),e.keyString.set(r,i)),e.stringsArray.set(t.strings,i),i}const V=new Map,H=new WeakMap,q=(t,e,i)=>{let r=H.get(e);void 0===r&&(g(e,e.firstChild),H.set(e,r=new k(Object.assign({templateFactory:B},i))),r.appendInto(e)),r.setValue(t),r.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const Y=(t,...e)=>new R(t,e,"html",L),z=(t,e)=>{const i=t.startNode.parentNode,r=void 0===e?t.endNode:e.startNode,n=i.insertBefore(T(),r);i.insertBefore(T(),r);const s=new k(t.options);return s.insertAfterNode(n),s},X=(t,e)=>(t.setValue(e),t.commit(),t),K=(t,e,i)=>{const r=t.startNode.parentNode,n=i?i.startNode:t.endNode,s=e.endNode.nextSibling;s!==n&&f(r,e.startNode,s,n)},W=t=>{g(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},J=(t,e,i)=>{const r=new Map;for(let n=e;n<=i;n++)r.set(t[n],n);return r},G=new WeakMap,Q=new WeakMap,Z=(tt=(t,e,i)=>{let r;return void 0===i?i=e:void 0!==e&&(r=e),e=>{if(!(e instanceof k))throw new Error("repeat can only be used in text bindings");const n=G.get(e)||[],s=Q.get(e)||[],o=[],a=[],l=[];let h,u,d=0;for(const e of t)l[d]=r?r(e,d):d,a[d]=i(e,d),d++;let c=0,p=n.length-1,f=0,g=a.length-1;for(;c<=p&&f<=g;)if(null===n[c])c++;else if(null===n[p])p--;else if(s[c]===l[f])o[f]=X(n[c],a[f]),c++,f++;else if(s[p]===l[g])o[g]=X(n[p],a[g]),p--,g--;else if(s[c]===l[g])o[g]=X(n[c],a[g]),K(e,n[c],o[g+1]),c++,g--;else if(s[p]===l[f])o[f]=X(n[p],a[f]),K(e,n[p],n[c]),p--,f++;else if(void 0===h&&(h=J(l,f,g),u=J(s,c,p)),h.has(s[c]))if(h.has(s[p])){const t=u.get(l[f]),i=void 0!==t?n[t]:null;if(null===i){const t=z(e,n[c]);X(t,a[f]),o[f]=t}else o[f]=X(i,a[f]),K(e,i,n[c]),n[t]=null;f++}else W(n[p]),p--;else W(n[c]),c++;for(;f<=g;){const t=z(e,o[g+1]);X(t,a[f]),o[f++]=t}for(;c<=p;){const t=n[c++];null!==t&&W(t)}G.set(e,o),Q.set(e,l)}},(...t)=>{const e=tt(...t);return d.set(e,!0),e});var tt;class et{constructor(t,e){this._defaultValues=e||{},this._config=Object.assign({},this._defaultValues,t||{});for(const t of Object.keys(this._config))this[t]=this._config[t]}get(t,e){return void 0===this._config[t]?e:this._config[t]}set(t,e){return this._config[t]=e,this[t]=e}}const it=t=>t instanceof et?t:new et(t);var rt=t=>class extends t{constructor(){super(),this._config=it({})}getConfig(){return this._config}setConfig(t){this._config=it(t)}};class nt{constructor(t){this.obj=t||{}}get(t){let e=this.obj;for(const i of t.split(".")){if(!e)return;if(!i in e)return;e=e[i]}return e}set(t,e){let i=this.obj;const r=t.split(".");for(let t=0;t<r.length-1;t++){const e=r[t];e in i||(i[e]={}),i=i[e]}i[r[r.length-1]]=e}}const st=t=>{if(void 0===t)return t;let e=!1;return t.get&&"function"==typeof t.get&&(e=!0),e||t instanceof nt?t:new nt(t)};function ot(...t){const e=t.length;return t=t.reverse(),function(...i){let r=0,n=e?t[r].apply(this,i):i[0];for(;++r<e;)n=t[r].call(this,n);return n}}class at{}class lt{isArray(t){return Array.isArray?Array.isArray(t):t&&"object"==typeof t&&t.constructor===Array}isBoolean(t){return"boolean"==typeof t}isDate(t){return t instanceof Date}isFunction(t){return"function"==typeof t}isNumber(t){return"number"==typeof t&&isFinite(t)}isNull(t){return null===t}isObject(t){return t&&"object"==typeof t&&t.constructor===Object}isRegExp(t){return t&&"object"==typeof t&&t.constructor===RegExp}isString(t){return"string"==typeof t||t instanceof String}isSymbol(t){return"symbol"==typeof t}isUndefined(t){return void 0===t}}class ht{constructor(t){this.data=t,this._data=st(t),this.dataType=new lt}get config(){return{fields:this.guessAll()}}_deepGuess(t,e){let i=[];if(e=e||[],this.dataType.isArray(t)){const e=t.length?t[0]:null;i.push(this._fieldConfig("",e))}else for(const r in t){if(!t.hasOwnProperty(r))continue;const n=e.concat([r]);if(this.dataType.isObject(t[r]))i=i.concat(this._deepGuess(t[r],n));else{const e=n.join(".");i.push(this._fieldConfig(e,t[r]))}}return i}_fieldConfig(t,e){const i={type:this.typeFromValue(e),key:t,label:this.labelFromKey(t)};return"list"==i.type&&(i.fields=this._deepGuess(e,t.split("."))),i}guess(t){return this._fieldConfig(t,this.typeFromValue(this._data.get(t)))}guessAll(){return this._deepGuess(this.data)}labelFromKey(t){return t.replace("."," ").split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}typeFromValue(t){return null==t?"text":this.dataType.isArray(t)?"list":t.length>150?"textarea":"text"}}var ut=i(0);var dt=()=>{let t=new Uint32Array(8);window.crypto.getRandomValues(t);let e="";for(let i=0;i<t.length;i++)e+=(i<2||i>5?"":"-")+t[i].toString(16).slice(-4);return e};var ct=t=>class extends t{getUid(){return this._uid||(this._uid=dt()),this._uid}};class pt extends(ot(rt,ct)(at)){constructor(t,e){super(),this.fieldTypes=t,this.fields=[],this._dataValue=void 0,this._value=void 0,this.setConfig(e),this.template=(t,e,i)=>Y`<div class="selective__fields">
      ${e.valueFromData(i)}
      ${Z(e.fields,t=>t.getUid(),(e,r)=>Y`
        ${e.template(t,e,i)}
      `)}
    </div>`}get isClean(){for(const t of this.fields)if(!t.isClean)return!1;return!0}get value(){const t=st({});for(const e of this.fields)t.set(e.key,e.value);return ut({},this._dataValue.obj,t.obj)}set value(t){}addField(t){t=it(t);const e=this.fieldTypes.newField(t.type,t);e&&this.fields.push(e)}postRender(t){for(const e of this.fields)e.postRender(t)}reset(){this.fields=[]}valueFromData(t){this._dataValue=st(t)}}class ft extends(ot(rt)(at)){constructor(t){super(),this.fieldTypes={},this.setConfig(t)}addFieldType(t,e){this.fieldTypes[t]=e}initialize(t){for(const[e,i]of Object.entries(this.fieldTypes))i.initialize(t)}newField(t,...e){if(t in this.fieldTypes)return new this.fieldTypes[t](...e)}}class gt extends(ot(rt)(at)){constructor(t,e){super(),this.containerEl=t,this.fieldTypes=new ft,this._fields=null,this._data=st({}),this.template=(t,e)=>Y`<div class="selective">
      ${t.fields.template(t,t.fields,e)}
    </div>`,this.setConfig(e),this.bindEvents(),this.render()}get data(){return this._data}get fields(){if(!this._fields){const t=this.getConfig().get("FieldsCls",pt);this._fields=new t(this.fieldTypes)}return this._fields}get isClean(){return this.fields.isClean}get selfRender(){return null!==this.containerEl}get value(){return this.fields.value}set data(t){return this._data=st(t),this.render(),this._data}addField(...t){this.fields.addField(...t)}addFieldType(t,e){this.fieldTypes.addFieldType(t,e),this.render()}addFieldTypes(t){for(const e of Object.keys(t))this.fieldTypes.addFieldType(e,t[e]);this.render()}bindEvents(){this.selfRender&&document.addEventListener("selective.render",()=>{this.render()})}guessFields(){return new ht(this.data.obj).config}postRender(t){t=t||this.containerEl,this.fieldTypes.initialize(t),this.fields.postRender(t)}render(){this.selfRender&&(q(this.template(this,this.data),this.containerEl),this.postRender())}setConfig(t){if(super.setConfig(t),t){this.fields.reset();for(const t of this.getConfig().get("fields",[]))this.addField(t);this.render()}}update(t){return this.data=extend({},this.data.obj,t),this.data}}class _t extends(ot(rt,ct)(at)){constructor(t){super(),this.fieldType="Field",this.setConfig(t),this._dataValue=void 0,this.value=void 0,this.template=(t,e,i)=>Y`<div class="selective__field" data-field-type="${e.fieldType}">
      Missing template.
    </div>`}get isClean(){return this._dataValue==this.value}get key(){return this.getConfig().key}get label(){return this.getConfig().label}get options(){return this.getConfig().options||{}}handleInput(t){this.value=t.target.value}static initialize(t){}postRender(t){}updateFromData(t){this.valueFromData(t)}valueFromData(t){let e=t;return"object"==typeof t&&null!==t&&(e=(t=st(t)).get(this.key)),this.isClean?(this._dataValue=e,this.value=e,this.value):(this._dataValue=e,this.value)}}class yt extends _t{constructor(t){super(t),this.fieldType="sortable",this._dragOriginElement=null,this._dragHoverElement=null,this._dataValue=[],this.template=(t,e,i)=>Y`<div>
      Sortable Field sub class needs a custom template.
    </div>`}_findDraggable(t){let e=!1;for(;t&&!e;)e="true"==t.getAttribute("draggable"),e||(t=t.parentElement);return t}_reorderValues(t,e){if(t==e)return!1;const i=[],r=this.value,n=Math.max(t,e),s=Math.min(t,e);let o=1;e>t&&(o=-1);for(let a=0;a<r.length;a++)i[a]=a<s||a>n?r[a]:a==t?r[e]:r[a+o];return this.value=i,!0}_shouldHandleDrag(t){return this._dragOriginElement&&t.dataTransfer.types.includes("selective/index")}handleDragStart(t){const e=this._findDraggable(t.target);this._dragOriginElement=e,t.dataTransfer.setData("text/plain",t.target.dataset.index),t.dataTransfer.setData("selective/index",t.target.dataset.index),t.dataTransfer.effectAllowed="move";const i=e.querySelector(".sortable__preview");i&&t.dataTransfer.setDragImage(i,0,0)}handleDragEnter(t){if(this._shouldHandleDrag(t)){const e=this._findDraggable(t.target);if(!e)return;e.classList.add("sortable--hover");const i=parseInt(t.target.dataset.index),r=parseInt(this._dragOriginElement.dataset.index);if(i==r)return;i<r?e.classList.add("sortable--above"):e.classList.add("sortable--below")}}handleDragLeave(t){if(this._shouldHandleDrag(t)){const e=this._findDraggable(t.target);if(!e)return;if(e!==t.target)return;e.classList.remove("sortable--hover","sortable--above","sortable--below")}}handleDragOver(t){this._shouldHandleDrag(t)&&t.preventDefault()}handleDrop(t){if(!this._dragOriginElement)return;const e=this._findDraggable(t.target),i=parseInt(t.target.dataset.index),r=parseInt(t.dataTransfer.getData("text/plain"));e.classList.remove("sortable--hover","sortable--above","sortable--below"),this._dragOriginElement=null,this._reorderValues(i,r)&&document.dispatchEvent(new CustomEvent("selective.render"))}}class vt extends yt{constructor(t){super(t),this.fieldType="list",this._listItems=[],this._isExpanded=!1,this._expandedIndexes=[],this.template=(t,e,i)=>Y`<div class="selective__field selective__field__${e.fieldType}" data-field-type="${e.fieldType}">
      ${e.updateFromData(i)}
      <div class="selective__header">
        <div class="selective__field__label">${e.label}</div>
        ${e.renderActionsHeader(t,e,i)}
      </div>
      <div class="selective__list">
        <div class="selective__list__items" id="${e.getUid()}">
          ${e.renderItems(t,i)}
        </div>
      </div>
      <div class="selective__footer">
        ${e.renderActionsFooter(t,e,i)}
      </div>
    </div>`}_reorderValues(t,e){const i=[],r=this._expandedIndexes,n=[],s=this._listItems,o=this.value.length,a=Math.max(t,e),l=Math.min(t,e);let h=1;e>t&&(h=-1);for(let u=0;u<o;u++)u<l||u>a?(n[u]=s[u],r.includes(u)&&i.push(u)):u==t?(n[u]=s[e],n[u].index=u,r.includes(e)&&i.push(u)):(n[u]=s[u+h],n[u].index=u,r.includes(u+h)&&i.push(u));return this._expandedIndexes=i,this._listItems=n,!0}get isClean(){return JSON.stringify(this._dataValue)==JSON.stringify(this.value)}get isExpanded(){return this._listItems.length==this._expandedIndexes.length||this._isExpanded}get value(){if(!this._listItems||this._listItems.length<1)return this._dataValue;const t=[];for(const e of this._listItems)t.push(e.itemFields.value);return t}set isExpanded(t){this._isExpanded=t}set value(t){}_createItems(t,e){if(!this.value)return[];const i=this.getConfig().get("fields",[]);let r=0;const n=[];for(const e of this.value){const s=new pt(t.fieldTypes);s.valueFromData(e);for(const t of i||[])s.addField(t);n.push({id:`${this.getUid()}-${r}`,index:r,itemFields:s,isExpanded:!1}),r+=1}return n}handleAddItem(t,e){const i=this.value.length,r=new pt(e.fieldTypes),n=this.getConfig().get("fields",[]);for(const t of n||[])r.addField(t);this._listItems.push({id:`${this.getUid()}-${i}`,index:i,itemFields:r,isExpanded:!1}),n.length>1?this.value.push({}):this.value.push(""),this._expandedIndexes.push(i),document.dispatchEvent(new CustomEvent("selective.render"))}handleItemCollapse(t){this.isExpanded=!1;const e=parseInt(t.target.dataset.index),i=this._expandedIndexes.indexOf(e);i>-1&&(this._expandedIndexes.splice(i,1),document.dispatchEvent(new CustomEvent("selective.render")))}handleItemExpand(t){const e=parseInt(t.target.dataset.index);this._expandedIndexes.push(e),document.dispatchEvent(new CustomEvent("selective.render"))}handleToggleExpand(t){this.isExpanded?(this._expandedIndexes=[],this._isExpanded=!1):this._isExpanded=!0,document.dispatchEvent(new CustomEvent("selective.render"))}renderActionsFooter(t,e,i){return Y`<div class="selective__actions">
      <button @click=${i=>{e.handleAddItem(i,t)}}>
        Add
      </button>
    </div>`}renderActionsHeader(t,e,i){return this.getConfig().get("fields",[]).length<=1?"":Y`<div class="selective__actions">
      <button class="selective__action__toggle" @click=${e.handleToggleExpand.bind(e)}>
        ${e.isExpanded?"Collapse":"Expand"}
      </button>
    </div>`}renderCollapsedItem(t,e){return Y`
      <div class="selective__list__item__drag"><i class="material-icons">drag_indicator</i></div>
      <div class="selective__list__item__preview sortable__preview" data-index=${e.index} @click=${this.handleItemExpand.bind(this)}>
        ${this.renderPreview(e)}
      </div>`}renderExpandedItem(t,e){return Y`
      <div class="selective__list__fields">
        <div class="partial__fields__label"
            data-index=${e.index}
            @click=${this.handleItemCollapse.bind(this)}>
          ${e.itemFields.label}
        </div>
        ${e.itemFields.template(t,e.itemFields,this.value[e.index])}
      </div>`}renderItems(t,e){this._listItems.length||(this._listItems=this._createItems(t,e));for(const t of this._listItems){const e=this._expandedIndexes.indexOf(t.index)>-1,i="object"!=typeof this.value[t.index];t.isExpanded=this.isExpanded||e||i}return Y`${Z(this._listItems,t=>t.id,(e,i)=>Y`
      <div class="selective__list__item selective__list__item--${e.isExpanded?"expanded":"collapsed"}"
          draggable="true"
          data-index=${e.index}
          @dragenter=${this.handleDragEnter.bind(this)}
          @dragleave=${this.handleDragLeave.bind(this)}
          @dragover=${this.handleDragOver.bind(this)}
          @dragstart=${this.handleDragStart.bind(this)}
          @drop=${this.handleDrop.bind(this)}>
        ${e.isExpanded?this.renderExpandedItem(t,e):this.renderCollapsedItem(t,e)}
      </div>
    `)}`}renderPreview(t){const e=this.getConfig().get("preview_field"),i=this.value[t.index];return e?st(i).get(e):i}}var mt=gt;class bt extends pt{constructor(t,e,i){super(t,e),this.label=this.getConfig().get("partial",{}).label||"Partial",this.partialKey=i,this.template=(t,e,i)=>Y`
      ${e.valueFromData(i)}
      ${Z(e.fields,t=>t.getUid(),(e,r)=>Y`
        ${e.template(t,e,i)}
      `)}`}}const wt={partials:class extends vt{constructor(t){super(t),this.fieldType="partials",this.partialTypes={},this._api=null,this.getConfig().get("api")&&(this.api=this.getConfig().get("api"))}_createItems(t,e){if(!this.value)return[];if(!Object.keys(this.partialTypes).length)return[];let i=0;const r=[];for(const e of this.value){const n=e.partial,s=this.partialTypes[n];if(!s){r.push({id:`${this.getUid()}-${n}-${i}`,partialConfig:{},index:i,partialKey:n,itemFields:[],isExpanded:!1,isHidden:!0}),i+=1;continue}const o=new bt(t.fieldTypes,{partial:s});o.valueFromData(e);const a=s.fields;for(const t of a||[])o.addField(t);for(const t of o.fields)t.updateFromData(e);r.push({id:`${this.getUid()}-${n}-${i}`,index:i,partialConfig:s,partialKey:n,itemFields:o,isExpanded:!1,isHidden:!1}),i+=1}return r}get api(){return this._api}get isExpanded(){if(this._listItems){let t=0;for(const e of this._listItems)e.isHidden||(t+=1);if(t>0&&this._expandedIndexes.length==t)return!0}return this._isExpanded}get value(){if(!this._listItems||this._listItems.length<1)return this._dataValue;const t=[];for(const e of this._listItems)e.isHidden?t.push(this._dataValue[e.index]):t.push(e.itemFields.value);return t}set api(t){this._api=t,this.updatePartials()}set isExpanded(t){super.isExpanded=t}set value(t){}handleAddItem(t,e){const i=t.target.value,r=this.partialTypes[i],n=this.value.length,s=new bt(e.fieldTypes,{partial:r});s.valueFromData({partial:i});const o=r.fields;for(const t of o||[])s.addField(t);this._listItems.push({id:`${this.getUid()}-${i}-${n}`,index:n,partialConfig:r,partialKey:i,itemFields:s,isExpanded:!1,isHidden:!1}),this._expandedIndexes.push(n),document.dispatchEvent(new CustomEvent("selective.render"))}handleLoadPartialsResponse(t){const e=[],i=Object.keys(t.partials).sort();for(const r of i){const i=t.partials[r];i.key=r,e[r]=i}this.partialTypes=e,document.dispatchEvent(new CustomEvent("selective.render"))}renderActionsFooter(t,e,i){return Y`<div class="selective__actions">
      <select @change=${i=>{e.handleAddItem(i,t)}}>
        <option value="">${e.options.addLabel||"Add section"}</option>
        ${Z(Object.entries(e.partialTypes),t=>t[0],(t,e)=>Y`
          <option value="${t[1].key}">${t[1].label}</option>
        `)}
      </select>
    </div>`}renderActionsHeader(t,e,i){return Y`<div class="selective__actions">
      <button class="selective__action__toggle" @click=${e.handleToggleExpand.bind(e)}>
        ${e.isExpanded?"Collapse":"Expand"}
      </button>
    </div>`}renderListItemPreview(t,e){return Y`<div class="selective__list__item__preview" data-index=${t.index} @click=${this.handleItemExpand.bind(this)}>
      ${e}
    </div>`}renderCollapsedPartial(t,e){let i=e.partialConfig.preview_field,r=i&&st(this.value[e.index]).get(e.partialConfig.preview_field);return Y`
      <div class="selective__list__item__drag"><i class="material-icons">drag_indicator</i></div>
      <div class="selective__list__item__label" data-index=${e.index} @click=${this.handleItemExpand.bind(this)}>
        ${e.partialConfig.label}
      </div>
      ${i&&r?this.renderListItemPreview(e,r):""}
      `}renderExpandedPartial(t,e){const i=e.itemFields;return Y`
      <div class="selective__list__item__label" data-index=${e.index} @click=${this.handleItemCollapse.bind(this)}>
        ${e.partialConfig.label}
      </div>
      ${i.template(t,i,this.value[e.index])}`}renderHiddenPartial(t,e){return Y`
      <div class="selective__list__item__drag"><i class="material-icons">drag_indicator</i></div>
      <div class="selective__list__item__label" data-index=${e.index}>
        ${e.partialConfig.label||e.partialKey}
      </div>`}renderItems(t,e){this._listItems.length||(this._listItems=this._createItems(t,e));for(const t of this._listItems){const e=this._expandedIndexes.indexOf(t.index)>-1;t.isExpanded=!t.isHidden&&(this.isExpanded||e)}return Y`${Z(this._listItems,t=>t.id,(e,i)=>Y`
      <div class="selective__list__item selective__list__item--${e.isExpanded?"expanded":e.isHidden?"hidden":"collapsed"}"
          draggable="true"
          data-index=${e.index}
          @dragenter=${this.handleDragEnter.bind(this)}
          @dragleave=${this.handleDragLeave.bind(this)}
          @dragover=${this.handleDragOver.bind(this)}
          @dragstart=${this.handleDragStart.bind(this)}
          @drop=${this.handleDrop.bind(this)}>
        ${e.isExpanded?this.renderExpandedPartial(t,e):e.isHidden?this.renderHiddenPartial(t,e):this.renderCollapsedPartial(t,e)}
      </div>
    `)}`}updatePartials(){this.api.getPartials().then(this.handleLoadPartialsResponse.bind(this))}},list:vt,text:class extends _t{constructor(t){super(t),this.fieldType="text",this.template=(t,e,i)=>Y`<div class="selective__field selective__field__${e.fieldType}" data-field-type="${e.fieldType}">
      <label for="${e.getUid()}">${e.label}</label>
      <input type="text" id="${e.getUid()}" value="${e.valueFromData(i)||""}" @input=${e.handleInput.bind(e)}>
    </div>`}},textarea:class extends _t{constructor(t){super(t),this.fieldType="textarea",this.template=(t,e,i)=>Y`<div class="selective__field selective__field__${e.fieldType}" data-field-type="${e.fieldType}">
      <label for="${e.getUid()}">${e.label}</label>
      <textarea id="${e.getUid()}" rows="${e.options.rows||6}" @input=${e.handleInput.bind(e)}>${e.valueFromData(i)||" "}</textarea>
    </div>`}}};class Et{constructor(t,e){this.containerEl=t,this.config=new r(e||{}),this.template=(t,e)=>Y`<div class="editor ${t.stylesEditor}">
      <div class="editor__edit">
        <div class="editor__pod_path">
          <input type="text" value="${t.podPath}"
            @change=${t.handlePodPathChange.bind(t)}
            @input=${t.handlePodPathInput.bind(t)}>
          ${t.isFullScreen?"":Y`
            <i class="material-icons" @click=${t.handleMobileClick.bind(t)}>devices</i>
            <i class="material-icons editor--mobile-only" @click=${t.handleMobileRotateClick.bind(t)}>screen_rotation</i>
          `}
          <i class="material-icons" @click=${t.handleFullScreenClick.bind(t)}>${t.isFullScreen?"fullscreen_exit":"fullscreen"}</i>
          <i class="material-icons" @click=${t.handleOpenInNew.bind(t)}>open_in_new</i>
        </div>
        <div class="editor__cards">
          <div class="editor__card">
            <div class="editor__menu">
              <button class="editor__save editor--primary" @click=${t.save.bind(t)}>Save</button>
              <div class="editor__actions">
                <button class="editor__style__fields editor--secondary editor--selected" @click=${t.handleFieldsClick.bind(t)}>Fields</button>
                <button class="editor__style__raw editor--secondary" @click=${t.handleSourceClick.bind(t)}>Raw</button>
              </div>
            </div>
            ${t.templateEditorOrSource}
          </div>
        </div>
      </div>
      ${t.isFullScreen?"":Y`<div class="editor__preview">
        <iframe src="${t.servingPath}"></iframe>
      </div>`}
    </div>`;const i=this.config.get("EditorApiCls",u);this.api=new i,this.listeners=new n,this.podPath=this.containerEl.dataset.defaultPath||this.config.get("defaultPath",""),this.document=null,this.autosaveID=null,this._isEditingSource=!1,this._isFullScreen=!1,this._isMobileRotated=!1,this._isMobileView=!1,this._isLoading={},this.selective=new mt(null,{});for(const t of Object.keys(wt))this.selective.addFieldType(t,wt[t]);this.bindEvents(),this.bindKeyboard(),this.load(this.podPath)}get autosave(){return!0}get isClean(){return this.document.isClean&&this.selective.isClean}get isEditingSource(){return this._isEditingSource}get isFullScreen(){return this._isFullScreen}get isMobileRotated(){return this._isMobileRotated}get isMobileView(){return this._isMobileView}get previewUrl(){return this.servingPath}get servingPath(){return this.document?this.document.servingPath:""}get stylesEditor(){const t=[];return this.isMobileView&&(t.push("editor--mobile"),this.isMobileRotated&&t.push("editor--rotated")),this.isEditingSource&&t.push("editor--raw"),this.isFullScreen&&t.push("editor--fullscreen"),t.join(" ")}get templateEditorOrSource(){return this.isEditingSource?Y`<div class="editor__source">
        <textarea @input=${this.handleRawInput.bind(this)}>${this.document.rawFrontMatter}</textarea>
      </div>`:Y`<div class="editor__selective">
      ${this.selective.template(this.selective,this.selective.data)}
    </div>`}set isEditingSource(t){this._isEditingSource=t}set isFullScreen(t){this._isFullScreen=t}set isMobileRotated(t){this._isMobileRotated=t}set isMobileView(t){this._isMobileView=t}bindEvents(){document.addEventListener("selective.render",t=>{const e=t.detail&&1==t.detail.force;this.render(e)}),document.addEventListener("selective.path.update",t=>{const e=t.detail.path;this.podPath=e,this.load(e)})}bindKeyboard(){window.addEventListener("keydown",t=>!t.ctrlKey&&!t.metaKey||"s"!=t.key||(t.preventDefault(),this.save(),!1))}delayPodPath(){this._lastPodPathUpdate=Date.now(),setTimeout(()=>{Date.now()-this._lastPodPathUpdate<900||(this._lastPodPathUpdate=Date.now(),this.load(this.podPath))},1e3)}documentFromResponse(t){this.document=new a(t.pod_path,t.front_matter,t.raw_front_matter,t.serving_paths,t.default_locale,t.content)}handleFieldsClick(t){this.isEditingSource=!1,this.render()}handleFullScreenClick(t){this.isFullScreen=!this.isFullScreen,this.render()}handleLoadFieldsResponse(t){this._isEditingSource=!1,this.documentFromResponse(t),this.pushState(this.document.podPath),this.selective.data=this.document.data,this.selective.fields.reset();let e=t.editor.fields||[];if(!e.length){e=this.selective.guessFields().fields||[];let t=null;for(let i=0;i<e.length;i++)if("__content__"==e[i].key){t=i;break}t&&e.splice(t,1)}for(const t of e)t.api=this.api,this.selective.addField(t);if(t.content){let t="textarea";this.document.podPath.endsWith(".md")&&(t="markdown"),this.selective.addField({type:t,key:"__content__",label:"Content",api:this.api})}this.render()}handleLoadPodPaths(t){this._pod_paths=t.pod_paths,this.listeners.trigger("load.podPaths",{pod_paths:this._pod_paths})}handleLoadSourceResponse(t){this._isEditingSource=!0,this.documentFromResponse(t),this.pushState(this.document.podPath),this.render()}handleMobileRotateClick(t){this.isMobileRotated=!this.isMobileRotated,this.render()}handleMobileClick(t){this.isMobileView=!this.isMobileView,this.render()}handleOpenInNew(t){window.open(this.servingPath,"_blank")}handlePodPathChange(t){this.load(t.target.value)}handlePodPathInput(t){this.delayPodPath(t.target.value)}handleRawInput(t){this.document.rawFrontMatter=t.target.value}handleSaveResponse(t){this.document.update(t.pod_path,t.front_matter,t.raw_front_matter,t.serving_paths,t.default_locale,t.content),this.listeners.trigger("save.response",{response:t}),this.render(!0)}handleSourceClick(t){this.isEditingSource=!0,this.render()}load(t){this.isEditingSource?this.loadSource(t):this.loadFields(t)}loadFields(t){this.api.getDocument(t).then(this.handleLoadFieldsResponse.bind(this))}loadPodPaths(t){!t&&this._isLoading.podPaths||(this._isLoading.podPaths=!0,this.api.getPodPaths().then(this.handleLoadPodPaths.bind(this)))}loadSource(t){this.api.getDocument(t).then(this.handleLoadSourceResponse.bind(this))}pushState(t){const e=`${this.config.get("base","/_grow/editor")}${t}`;window.location.pathname!=e&&history.pushState({},"",e)}render(t){if(q(this.template(this,this.selective),this.containerEl),this.selective.postRender(this.containerEl),!0===t){this.containerEl.querySelector("iframe").contentWindow.location.reload(!0)}}save(t){if(t||!this.isClean)if(this.listeners.trigger("save.start",{isEditingSource:this.isEditingSource}),this.isEditingSource){this.api.saveDocumentSource(this.podPath,this.document.rawFrontMatter).then(this.handleSaveResponse.bind(this))}else{const t=this.selective.value,e=t.__content__;delete t.__content__,this.api.saveDocumentFields(this.podPath,t,this.document.locale,e).then(this.handleSaveResponse.bind(this))}}startAutosave(){this.autosaveID&&window.clearInterval(this.autosaveID),this.autosaveID=window.setInterval(()=>{this.save()},this.config.get("autosaveInterval",2e3))}stopAutosave(){this.autosaveID&&window.clearInterval(this.autosaveID)}}class xt{constructor(t,e){this.running=!1,window.addEventListener(t,()=>{this.running||(this.running=!0,requestAnimationFrame(()=>{window.dispatchEvent(new CustomEvent(e)),this.running=!1}))})}}new xt("resize","opt_resize"),new xt("scroll","opt_scroll");e.default=Et;window.Editor=Et},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;"undefined"!=typeof window?n=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;var s=i(4),o=i(5),a=i(6),l=i(1),h=i(7),u=i(9);function d(){}t.exports=function(t,i){return"function"==typeof i?new e.Request("GET",t).end(i):1===arguments.length?new e.Request("GET",t):new e.Request(t,i)};var c=e=t.exports;e.Request=m,c.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||"file:"!==n.location.protocol||!n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function f(t){if(!l(t))return t;var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&g(e,i,t[i]);return e.join("&")}function g(t,e,i){if(void 0!==i)if(null!==i)if(Array.isArray(i))i.forEach((function(i){g(t,e,i)}));else if(l(i))for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&g(t,"".concat(e,"[").concat(r,"]"),i[r]);else t.push(encodeURI(e)+"="+encodeURIComponent(i));else t.push(encodeURI(e))}function _(t){for(var e,i,r={},n=t.split("&"),s=0,o=n.length;s<o;++s)-1===(i=(e=n[s]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,i))]=decodeURIComponent(e.slice(i+1));return r}function y(t){return/[/+]json($|[^-\w])/.test(t)}function v(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,i,r,n,s=t.split(/\r?\n/),o={},a=0,l=s.length;a<l;++a)-1!==(e=(i=s[a]).indexOf(":"))&&(r=i.slice(0,e).toLowerCase(),n=p(i.slice(e+1)),o[r]=n);return o}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function m(t,e){var i=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,r=null;try{r=new v(i)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,i.xhr?(e.rawResponse=void 0===i.xhr.responseType?i.xhr.responseText:i.xhr.response,e.status=i.xhr.status?i.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),i.callback(e)}i.emit("response",r);try{i._isResponseOK(r)||(t=new Error(r.statusText||r.text||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=r,t.status=r.status,i.callback(t,r)):i.callback(null,r)}))}function b(t,e,i){var r=c("DELETE",t);return"function"==typeof e&&(i=e,e=null),e&&r.send(e),i&&r.end(i),r}c.serializeObject=f,c.parseString=_,c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":f,"application/json":o},c.parse={"application/x-www-form-urlencoded":_,"application/json":JSON.parse},h(v.prototype),v.prototype._parseBody=function(t){var e=c.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&y(this.type)&&(e=c.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},v.prototype.toError=function(){var t=this.req,e=t.method,i=t.url,r="cannot ".concat(e," ").concat(i," (").concat(this.status,")"),n=new Error(r);return n.status=this.status,n.method=e,n.url=i,n},c.Response=v,s(m.prototype),a(m.prototype),m.prototype.type=function(t){return this.set("Content-Type",c.types[t]||t),this},m.prototype.accept=function(t){return this.set("Accept",c.types[t]||t),this},m.prototype.auth=function(t,e,i){1===arguments.length&&(e=""),"object"===r(e)&&null!==e&&(i=e,e=""),i||(i={type:"function"==typeof btoa?"basic":"auto"});var n=function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,i,n)},m.prototype.query=function(t){return"string"!=typeof t&&(t=f(t)),t&&this._query.push(t),this},m.prototype.attach=function(t,e,i){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,i||e.name)}return this},m.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},m.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var i=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),i(t,e)},m.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},m.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},m.prototype.ca=m.prototype.agent,m.prototype.buffer=m.prototype.ca,m.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},m.prototype.pipe=m.prototype.write,m.prototype._isHost=function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},m.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||d,this._finalizeQueryString(),this._end()},m.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout((function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")}),this._uploadTimeout))},m.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=c.getXHR();var e=this.xhr,i=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===i){var r;try{r=e.status}catch(t){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,i){i.total>0&&(i.percent=i.loaded/i.total*100,100===i.percent&&clearTimeout(t._uploadTimeoutTimer)),i.direction=e,t.emit("progress",i)};if(this.hasListeners("progress"))try{e.addEventListener("progress",r.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",r.bind(null,"upload"))}catch(t){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof i&&!this._isHost(i)){var n=this._header["content-type"],s=this._serializer||c.serialize[n?n.split(";")[0]:""];!s&&y(n)&&(s=c.serialize["application/json"]),s&&(i=s(i))}for(var o in this.header)null!==this.header[o]&&Object.prototype.hasOwnProperty.call(this.header,o)&&e.setRequestHeader(o,this.header[o]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===i?null:i)},c.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){u.prototype[t.toLowerCase()]=function(e,i){var r=new c.Request(t,e);return this._setDefaults(r),i&&r.end(i),r}})),u.prototype.del=u.prototype.delete,c.get=function(t,e,i){var r=c("GET",t);return"function"==typeof e&&(i=e,e=null),e&&r.query(e),i&&r.end(i),r},c.head=function(t,e,i){var r=c("HEAD",t);return"function"==typeof e&&(i=e,e=null),e&&r.query(e),i&&r.end(i),r},c.options=function(t,e,i){var r=c("OPTIONS",t);return"function"==typeof e&&(i=e,e=null),e&&r.send(e),i&&r.end(i),r},c.del=b,c.delete=b,c.patch=function(t,e,i){var r=c("PATCH",t);return"function"==typeof e&&(i=e,e=null),e&&r.send(e),i&&r.end(i),r},c.post=function(t,e,i){var r=c("POST",t);return"function"==typeof e&&(i=e,e=null),e&&r.send(e),i&&r.end(i),r},c.put=function(t,e,i){var r=c("PUT",t);return"function"==typeof e&&(i=e,e=null),e&&r.send(e),i&&r.end(i),r}},function(t,e,i){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<r.length;n++)if((i=r[n])===e||i.fn===e){r.splice(n,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(i){r=0;for(var n=(i=i.slice(0)).length;r<n;++r)i[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=n,n.default=n,n.stable=o,n.stableStringify=o;var i=[],r=[];function n(t,e,n){var s;for(!function t(e,n,s,o){var a;if("object"==typeof e&&null!==e){for(a=0;a<s.length;a++)if(s[a]===e){var l=Object.getOwnPropertyDescriptor(o,n);return void(void 0!==l.get?l.configurable?(Object.defineProperty(o,n,{value:"[Circular]"}),i.push([o,n,e,l])):r.push([e,n]):(o[n]="[Circular]",i.push([o,n,e])))}if(s.push(e),Array.isArray(e))for(a=0;a<e.length;a++)t(e[a],a,s,e);else{var h=Object.keys(e);for(a=0;a<h.length;a++){var u=h[a];t(e[u],u,s,e)}}s.pop()}}(t,"",[],void 0),s=0===r.length?JSON.stringify(t,e,n):JSON.stringify(t,a(e),n);0!==i.length;){var o=i.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return s}function s(t,e){return t<e?-1:t>e?1:0}function o(t,e,n){var o,l=function t(e,n,o,a){var l;if("object"==typeof e&&null!==e){for(l=0;l<o.length;l++)if(o[l]===e){var h=Object.getOwnPropertyDescriptor(a,n);return void(void 0!==h.get?h.configurable?(Object.defineProperty(a,n,{value:"[Circular]"}),i.push([a,n,e,h])):r.push([e,n]):(a[n]="[Circular]",i.push([a,n,e])))}if("function"==typeof e.toJSON)return;if(o.push(e),Array.isArray(e))for(l=0;l<e.length;l++)t(e[l],l,o,e);else{var u={},d=Object.keys(e).sort(s);for(l=0;l<d.length;l++){var c=d[l];t(e[c],c,o,e),u[c]=e[c]}if(void 0===a)return u;i.push([a,n,e]),a[n]=u}o.pop()}}(t,"",[],void 0)||t;for(o=0===r.length?JSON.stringify(l,e,n):JSON.stringify(l,a(e),n);0!==i.length;){var h=i.pop();4===h.length?Object.defineProperty(h[0],h[1],h[3]):h[0][h[1]]=h[2]}return o}function a(t){return t=void 0!==t?t:function(t,e){return e},function(e,i){if(r.length>0)for(var n=0;n<r.length;n++){var s=r[n];if(s[1]===e&&s[0]===i){i="[Circular]",r.splice(n,1);break}}return t.call(this,e,i)}}},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=i(1);function s(t){if(t)return function(t){for(var e in s.prototype)Object.prototype.hasOwnProperty.call(s.prototype,e)&&(t[e]=s.prototype[e]);return t}(t)}t.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},s.prototype.parse=function(t){return this._parser=t,this},s.prototype.responseType=function(t){return this._responseType=t,this},s.prototype.serialize=function(t){return this._serializer=t,this},s.prototype.timeout=function(t){if(!t||"object"!==r(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},s.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var o=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];s.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var i=this._retryCallback(t,e);if(!0===i)return!0;if(!1===i)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&o.includes(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},s.prototype.then=function(t,e){var i=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){r.on("abort",(function(){if(i.timedout&&i.timedoutError)e(i.timedoutError);else{var t=new Error("Aborted");t.code="ABORTED",t.status=i.status,t.method=i.method,t.url=i.url,e(t)}})),r.end((function(i,r){i?e(i):t(r)}))}))}return this._fullfilledPromise.then(t,e)},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.use=function(t){return t(this),this},s.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},s.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},s.prototype.get=function(t){return this._header[t.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(t,e){if(n(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.set(i,t[i]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},s.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},s.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(n(t)){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.field(i,t[i]);return this}if(Array.isArray(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(t,e[r]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},s.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},s.prototype._auth=function(t,e,i,r){switch(i.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},s.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},s.prototype.redirects=function(t){return this._maxRedirects=t,this},s.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(t){var e=n(t),i=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&n(this._data))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this._data[r]=t[r]);else"string"==typeof t?(i||this.type("form"),i=this._header["content-type"],this._data="application/x-www-form-urlencoded"===i?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||i||this.type("json"),this},s.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},s.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var i=this.url.slice(e+1).split("&");"function"==typeof this._sort?i.sort(this._sort):i.sort(),this.url=this.url.slice(0,e)+"?"+i.join("&")}}},s.prototype._appendQueryString=function(){console.warn("Unsupported")},s.prototype._timeoutError=function(t,e,i){if(!this._aborted){var r=new Error("".concat(t+e,"ms exceeded"));r.timeout=e,r.code="ECONNABORTED",r.errno=i,this.timedout=!0,this.timedoutError=r,this.abort(),this.callback(r)}},s.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(t,e,i){"use strict";var r=i(8);function n(t){if(t)return function(t){for(var e in n.prototype)Object.prototype.hasOwnProperty.call(n.prototype,e)&&(t[e]=n.prototype[e]);return t}(t)}t.exports=n,n.prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var i=r.params(e);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(this[n]=i[n]);this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(t){}},n.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},function(t,e,i){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce((function(t,e){var i=e.split(/ *= */),r=i.shift(),n=i.shift();return r&&n&&(t[r]=n),t}),{})},e.parseLinks=function(t){return t.split(/ *, */).reduce((function(t,e){var i=e.split(/ *; */),r=i[0].slice(1,-1);return t[i[1].split(/ *= */)[1].slice(1,-1)]=r,t}),{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e,i){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach((function(t){n.prototype[t]=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return this._defaults.push({fn:t,args:i}),this}})),n.prototype._setDefaults=function(t){this._defaults.forEach((function(e){t[e.fn].apply(t,r(e.args))}))},t.exports=n},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i(12),n=i(13),s=i(14);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return h(this,t,e,i)}function h(t,e,i,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,r){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,i):new Uint8Array(e,i,r);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=c(t,e);return t}(t,e,i,r):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,i),n=(t=a(t,r)).write(e,i);n!==r&&(t=t.slice(0,n));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|p(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):c(t,e);if("Buffer"===e.type&&s(e.data))return c(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(u(e),t=a(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function c(t,e){var i=e.length<0?0:0|p(e.length);t=a(t,i);for(var r=0;r<i;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function f(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return B(t).length;default:if(r)return L(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,i);case"utf8":case"utf-8":return P(this,e,i);case"ascii":return S(this,e,i);case"latin1":case"binary":return R(this,e,i);case"base64":return A(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function y(t,e,i,r,n){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:v(t,e,i,r,n);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):v(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}function v(t,e,i,r,n){var s,o=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,i/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var u=-1;for(s=i;s<a;s++)if(h(t,s)===h(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var d=!0,c=0;c<l;c++)if(h(t,s+c)!==h(e,c)){d=!1;break}if(d)return s}return-1}function m(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function b(t,e,i,r){return V(L(e,t.length-i),t,i,r)}function w(t,e,i,r){return V(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function E(t,e,i,r){return w(t,e,i,r)}function x(t,e,i,r){return V(B(e),t,i,r)}function T(t,e,i,r){return V(function(t,e){for(var i,r,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),r=i>>8,n=i%256,s.push(n),s.push(r);return s}(e,t.length-i),t,i,r)}function A(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function P(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var s,o,a,l,h=t[n],u=null,d=h>239?4:h>223?3:h>191?2:1;if(n+d<=i)switch(d){case 1:h<128&&(u=h);break;case 2:128==(192&(s=t[n+1]))&&(l=(31&h)<<6|63&s)>127&&(u=l);break;case 3:s=t[n+1],o=t[n+2],128==(192&s)&&128==(192&o)&&(l=(15&h)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=t[n+1],o=t[n+2],a=t[n+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(l=(15&h)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),n+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return i}(r)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return h(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,r){return u(e),e<=0?a(t,e):void 0!==i?"string"==typeof r?a(t,e).fill(i,r):a(t,e).fill(i):a(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,r=e.length,n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=l.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):g.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,r,n){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(n>>>=0)-(r>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),h=this.slice(r,n),u=t.slice(e,i),d=0;d<a;++d)if(h[d]!==u[d]){s=h[d],o=u[d];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return y(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return y(this,t,e,i,!1)},l.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return m(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return w(this,t,e,i);case"latin1":case"binary":return E(this,t,e,i);case"base64":return x(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function R(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function C(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);for(var n="",s=e;s<i;++s)n+=U(t[s]);return n}function O(t,e,i){for(var r=t.slice(e,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}function I(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,i,r,n,s){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function k(t,e,i,r){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-i,2);n<s;++n)t[i+n]=(e&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function D(t,e,i,r){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-i,4);n<s;++n)t[i+n]=e>>>8*(r?n:3-n)&255}function F(t,e,i,r,n,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function j(t,e,i,r,s){return s||F(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function N(t,e,i,r,s){return s||F(t,0,i,8),n.write(t,e,i,r,52,8),i+8}l.prototype.slice=function(t,e){var i,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var n=e-t;i=new l(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},l.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var r=e,n=1,s=this[t+--r];r>0&&(n*=256);)s+=this[t+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},l.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),n.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),n.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),n.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),n.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,r){(t=+t,e|=0,i|=0,r)||$(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,r){(t=+t,e|=0,i|=0,r)||$(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e|=0,!r){var n=Math.pow(2,8*i-1);$(this,t,e,i,n-1,-n)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},l.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e|=0,!r){var n=Math.pow(2,8*i-1);$(this,t,e,i,n-1,-n)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return j(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return j(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return N(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return N(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,r){if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var n,s=r-i;if(this===t&&i<e&&e<r)for(n=s-1;n>=0;--n)t[n+e]=this[n+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},l.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=l.isBuffer(t)?t:L(new l(t,r).toString()),a=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var i;e=e||1/0;for(var r=t.length,n=null,s=[],o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function B(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}}).call(this,i(11))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";e.byteLength=function(t){var e=h(t),i=e[0],r=e[1];return 3*(i+r)/4-r},e.toByteArray=function(t){var e,i,r=h(t),o=r[0],a=r[1],l=new s(function(t,e,i){return 3*(e+i)/4-i}(0,o,a)),u=0,d=a>0?o-4:o;for(i=0;i<d;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;2===a&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,l[u++]=255&e);1===a&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e);return l},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=0,a=i-n;o<a;o+=16383)s.push(u(t,o,o+16383>a?a:o+16383));1===n?(e=t[i-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function u(t,e,i){for(var n,s,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,r,n){var s,o,a=8*n-r-1,l=(1<<a)-1,h=l>>1,u=-7,d=i?n-1:0,c=i?-1:1,p=t[e+d];for(d+=c,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=256*s+t[e+d],d+=c,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+t[e+d],d+=c,u-=8);if(0===s)s=1-h;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=h}return(p?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,i,r,n,s){var o,a,l,h=8*s-n-1,u=(1<<h)-1,d=u>>1,c=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+d>=1?c/l:c*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,n),o+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;t[i+p]=255&a,p+=f,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;t[i+p]=255&o,p+=f,o/=256,h-=8);t[i+p-f]|=128*g}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}}]);
//# sourceMappingURL=editor.js.map